<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[React native - React-native-image-crop-picker]]></title>
    <url>%2F2020%2F01%2F10%2F2020-01-10%2F</url>
    <content type="text"><![CDATA[Have a function to upload your picture to find similar items about your dress, I find some similar React Native Library with support for camera, multiple images and cropping, however I found React-native-image-crop-picker is so adapt for my project. So I use React-native-image-crop-picker to achieve this function, however some invisible bugs you will change the library code. I wrote it in the article. Installationnpm i react-native-image-crop-picker --savereact-native link react-native-image-crop-pickercd ios &amp;&amp; pod install &amp;&amp; cd ../ UsageSelect from galleryCall single image picker with cropping ImagePicker.openPicker(&#123; width: 300, height: 400, cropping: true&#125;).then(image =&gt; &#123; console.log(image);&#125;); Call multiple image picker ImagePicker.openPicker(&#123; multiple: true&#125;).then(images =&gt; &#123; console.log(images);&#125;); Select from cameraImagePicker.openCamera(&#123; width: 300, height: 400, cropping: true,&#125;).then(image =&gt; &#123; console.log(image);&#125;); Crop pictureImagePicker.openCropper(&#123; path: 'my-file-path.jpg', width: 300, height: 400&#125;).then(image =&gt; &#123; console.log(image);&#125;); UsageWhen I use ImagePicker.openPicker in Android deviceï¼ŒI can modify width and height to 1200/1600 as 3:4 ,I saw poor image quality using 300x400, when I upped it to 1200x1600 the quality greatly improved. Iâ€™d say the solution is to set a greater height/width, Android can do it very well, but if you use iPhone, when you upped it to 1200x1600 the picture, you found you cropped the area will be error area. In Android it is working properly and Iâ€™m able to crop the image. However, on iOS the crop is not properly cropping the required region. So how to resolve it? We will open Xcode, and search the path: Pods - Development Pods - RNImageCropPicker - ImageCropPicker.m We find the func : imageCropViewController:(RSKImageCropViewController *)controller didCropImage:(UIImage *)croppedImage usingCropRect:(CGRect)cropRect and we will change code to delete compressImage void and then the picture will not be compressed, or you can compressed your code by yourself to write OC code. CGSize desiredImageSize = CGSizeMake([[[self options] objectForKey:@&quot;width&quot;] intValue], [[[self options] objectForKey:@&quot;height&quot;] intValue]);UIImage *resizedImage = [croppedImage resizedImageToFitInSize:desiredImageSize scaleIfSmaller:YES];+ ImageResult *imageResult = [self.compression compressImage:croppedImage withOptions:self.options];- ImageResult *imageResult = [self.compression compressImage:resizedImage withOptions:self.options]; I change the iOS Library. it is the whole function changed: - (void)imageCropViewController:(RSKImageCropViewController *)controller didCropImage:(UIImage *)croppedImage usingCropRect:(CGRect)cropRect &#123; // we have correct rect, but not correct dimensions // so resize image CGSize desiredImageSize = CGSizeMake([[[self options] objectForKey:@"width"] intValue], [[[self options] objectForKey:@"height"] intValue]); UIImage *resizedImage = [croppedImage resizedImageToFitInSize:desiredImageSize scaleIfSmaller:YES]; ImageResult *imageResult = [self.compression compressImage:croppedImage withOptions:self.options]; NSString *filePath = [self persistFile:imageResult.data]; if (filePath == nil) &#123; [self dismissCropper:controller selectionDone:YES completion:[self waitAnimationEnd:^&#123; self.reject(ERROR_CANNOT_SAVE_IMAGE_KEY, ERROR_CANNOT_SAVE_IMAGE_MSG, nil); &#125;]]; return; &#125; NSDictionary* exif = nil; if([[self.options objectForKey:@"includeExif"] boolValue]) &#123; exif = [[CIImage imageWithData:imageResult.data] properties]; &#125; [self dismissCropper:controller selectionDone:YES completion:[self waitAnimationEnd:^&#123; self.resolve([self createAttachmentResponse:filePath withExif: exif withSourceURL: self.croppingFile[@"sourceURL"] withLocalIdentifier: self.croppingFile[@"localIdentifier"] withFilename: self.croppingFile[@"filename"] withWidth:imageResult.width withHeight:imageResult.height withMime:imageResult.mime withSize:[NSNumber numberWithUnsignedInteger:imageResult.data.length] withData:[[self.options objectForKey:@"includeBase64"] boolValue] ? [imageResult.data base64EncodedStringWithOptions:0] : nil withRect:cropRect withCreationDate:self.croppingFile[@"creationDate"] withModificationDate:self.croppingFile[@"modificationDate"] ]); &#125;]];&#125; And then, you will keep the width and height: 300 / 400 at iOS Platform, it will work well. Now you have solved this question. You can write just like this. if (Platform.OS === 'ios') &#123; ImagePicker.openPicker(&#123; width: 300, height: 400, compressImageQuality: 1.0, cropping: true &#125;).then(image =&gt; &#123; this.props.navigation.push('LooksUploadImagePage', &#123; imageUrl: image.path, returnPage: 'Tabs', takePhoto: this.takePhoto, isCamera: false &#125;) &#125;); &#125; else &#123; ImagePicker.openPicker(&#123; width: 1200, height: 1600, compressImageQuality: 1.0, cropping: true &#125;).then(image =&gt; &#123; this.props.navigation.push('LooksUploadImagePage', &#123; imageUrl: image.path, returnPage: 'Tabs', takePhoto: this.takePhoto, isCamera: false &#125;) &#125;); &#125;]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React native - contentContainerStyle (Flatlist)]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-11%2F</url>
    <content type="text"><![CDATA[contentContainerStyle Flatlist style defines the outer container of the Flatlist, e.g its height and relations to siblings elements Flatlist contentContainerStyle defines the inner container of it, e.g items alignments, padding, etc Just like this : You can use marginHorizontal: 10 to hold the offset between two picture in renderItem. but you canâ€™t get the offset between picture and left edge. So the best solution is contentContainerStyle can be set this offset to resolve the question. Show my code: avatarListFlatList = props =&gt; &#123; return ( &lt;View style=&#123;&#123;width: ScreenUtil.screenW, height: 106, marginTop: 17&#125;&#125;&gt; &lt;FlatList showsHorizontalScrollIndicator=&#123;false&#125; showsVerticalScrollIndicator=&#123;false&#125; data=&#123;props&#125; contentContainerStyle=&#123;&#123;paddingLeft: 10, paddingRight: 10&#125;&#125; keyExtractor=&#123;(item, index) =&gt; index.toString()&#125; renderItem=&#123;(&#123;item&#125;) =&gt; this.avatarListFlatListItem(item)&#125; horizontal=&#123;true&#125; /&gt; &lt;/View&gt; );&#125;;avatarListFlatListItem = props =&gt; &#123; let randomColor = () =&gt; &#123; var r = Math.floor(Math.random() * 256); var g = Math.floor(Math.random() * 256); var b = Math.floor(Math.random() * 256); return `rgba($&#123;r&#125;,$&#123;g&#125;,$&#123;b&#125;,0.5)`; &#125;; const colorStyles = &#123; backgroundColor: randomColor(), &#125;; return ( &lt;View style=&#123;&#123;height: 106, marginVertical: 0, marginHorizontal: 10&#125;&#125;&gt; &lt;TouchableOpacity activeOpacity=&#123;1.0&#125; onPress=&#123;() =&gt; this.props.navigation.push(&apos;LookbookStarPage&apos;, &#123; data: props.influencer_id, returnPage: &apos;Tabs&apos;, &#125;) &#125;&gt; &lt;Image source=&#123;&#123;uri: props.avatar_local_path&#125;&#125; style=&#123;[ &#123; width: 80, height: 80, borderRadius: 40, &#125;, colorStyles, ]&#125;&gt;&lt;/Image&gt; &lt;Text numberOfLines=&#123;1&#125; style=&#123;&#123; fontSize: 16, width: 80, fontFamily: &apos;HelveticaNeue&apos;, color: &apos;#000000&apos;, marginTop: 8, textAlign: &apos;center&apos;, &#125;&#125;&gt; &#123;props.display_name&#125; &lt;/Text&gt; &lt;/TouchableOpacity&gt; &lt;/View&gt; ); &#125;;]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React native - react-native-share]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-10%2F</url>
    <content type="text"><![CDATA[When we use share function, the best library is react-native-share. React Native Share, a simple tool for share message and file to other apps. Git website: https://github.com/react-native-community/react-native-share/ Installationnpm install react-native-share --savereact-native link react-native-sharecd ios &amp;&amp; pod install &amp;&amp; cd ../ Usageimport Share from 'react-native-share';Share.open(options).then((res) =&gt; &#123; console.log(res) &#125;).catch((err) =&gt; &#123; err &amp;&amp; console.log(err); &#125;);Share.open(&#123;url : ScreenUtil.webUrl + '/streetsnapShareToPhoto?id=' + this.state.data.id, message: "Deja"&#125;).then((res) =&gt; &#123; console.warn(res) &#125;).catch((err) =&gt; &#123; err &amp;&amp; console.warn(err); &#125;); Supported options: Name Type Description url string URL you want to share (only support base64 string in iOS &amp; Android). urls Array[string] array of base64 string you want to share (only support iOS &amp; Android). type string File mime type (optional) message string title string (optional) subject string (optional) email string Email of addressee (optional) excludedActivityTypes string (optional) failOnCancel boolean (defaults to true) Specifies whether promise should reject if user cancels share dialog (optional) showAppsToView boolean (optional) only android filename string only support base64 string in Android These can be assessed using Share.Social property For eg. import Share from 'react-native-share';const shareOptions = &#123; title: 'Share via', message: 'some message', url: 'some share url', social: Share.Social.WHATSAPP, whatsAppNumber: "9199999999" // country code + phone number(currently only works on Android) filename: 'test' , // only for base64 file in Android &#125;;Share.shareSingle(shareOptions); Name Android iOS Windows FACEBOOK yes yes no PAGESMANAGER yes no no WHATSAPP yes yes no INSTAGRAM yes yes no GOOGLEPLUS yes yes no EMAIL yes yes no PINTEREST yes no no SMS yes no no SNAPCHAT yes no no MESSENGER yes no no LINKEDIN yes no no React native share library question - Currently on iOS 13 the app will crashCurrently on iOS 13 the app will crash if you: Open the share sheet Tap something like messages or photos Cancel the dialog Perform any other action This is because shareController.completionWithItemsHandler is called when the dialog box is canceled and currently failureCallback or successCallback will always be called. In the situation above, activityError is nil so successCallback will be called even though completed is false. This leaves us in a state where the callback has been invoked but the ShareSheet is still active, meaning the success or error callback will be invoked again, leading to the crash. This PR adds a check to make sure completed is true before calling successCallback. This way successCallback will only be called when the user has successfully completed an action and the ShareSheet is closed. Only call successCallback when completed is true (iOS 13 crash) shareController.completionWithItemsHandler = ^(NSString *activityType, BOOL completed, __unused NSArray *returnedItems, NSError *activityError) &#123; if (activityError) &#123; failureCallback(activityError); &#125; else if (completed) &#123; successCallback(@[@(completed), RCTNullIfNil(activityType)]); &#125;&#125;;]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React native - DeviceEventEmitter API]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-9%2F</url>
    <content type="text"><![CDATA[We usually use Notification in iOS just like this: NotificationCenter.default.addObserver(self, selector: #selector(forYouRecommendUpdate), name: Notification.Name(rawValue: kDJForYouVCReloadAll), object: nil)NotificationCenter.default.post(name: Notification.Name(rawValue: kDJForYouVCReloadAll), object: nil) However, how to use a Notification in React native? The best way that we achieve it by DeviceEventEmitter UsagePage A to register a Notification import &#123;DeviceEventEmitter&#125; from 'react-native';DeviceEventEmitter.emit('xxxNameâ€™,param); Page B to post a Notification componentDidMount()&#123; this.listener =DeviceEventEmitter.addListener('xxxName',function(param)&#123; // use param do something &#125;);&#125;componentWillUnmount()&#123; this.listener.remove();&#125;// we need to remove the listener by componentWillUnmount This simple version // æ³¨å†Œäº‹ä»¶é€šçŸ¥let param = 'test'DeviceEventEmitter.emit('testName',param);DeviceEventEmitter.emit('event.test', &#123;&#125;);//testName:é€šçŸ¥çš„åç§° paramï¼šå‘é€çš„æ¶ˆæ¯ï¼ˆä¼ å‚ï¼‰]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React native - My ScreenUtil Library]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-8%2F</url>
    <content type="text"><![CDATA[ScreenUtil.js is my tool JS file, you can use it simple. just like: import * as ScreenUtil from '../../ScreenUtil';style=&#123;&#123; width: ScreenUtil.screenW, height: ((ScreenUtil.screenW - 42) / 2.0 / 3.0) * 4.0, borderRadius: 5, overflow: 'hidden',&#125;&#125;&gt; You can use this file by copying this code. /** * å±å¹•å·¥å…·ç±» ä»¥åŠä¸€äº›å¸¸ç”¨çš„å·¥å…·ç±»å°è£… * uiè®¾è®¡åŸºå‡†,iphone 6 2å€å›¾ * width:750px * height:1334px * @2x */import &#123; PixelRatio, Dimensions, Platform, AsyncStorage&#125; from 'react-native';export let screenW = Dimensions.get('window').width;export let screenH = Dimensions.get('window').height;const fontScale = PixelRatio.getFontScale();export let pixelRatio = PixelRatio.get();//åƒç´ å¯†åº¦export const DEFAULT_DENSITY = 2;//pxè½¬æ¢æˆdp//ä»¥iphone6ä¸ºåŸºå‡†,å¦‚æžœä»¥å…¶ä»–å°ºå¯¸ä¸ºåŸºå‡†çš„è¯,è¯·ä¿®æ”¹ä¸‹é¢çš„defaultWidthå’ŒdefaultHeightä¸ºå¯¹åº”å°ºå¯¸å³å¯. ä»¥ä¸‹ä¸º1å€å›¾æ—¶const defaultWidth = 375;const defaultHeight = 667;const w2 = defaultWidth / DEFAULT_DENSITY;//pxè½¬æ¢æˆdpconst h2 = defaultHeight / DEFAULT_DENSITY;//ç¼©æ”¾æ¯”ä¾‹const _scaleWidth = screenW / defaultWidth;const _scaleHeight = screenH / defaultHeight;// iPhoneXconst X_WIDTH = 375;const X_HEIGHT = 812;export let web_DT = 'https://dt.xx.co/'export let web_DP = 'https://dp.xx.co'export let web_PR = 'https://xx.co'export let webUrl = web_PR/*** å±å¹•é€‚é…,ç¼©æ”¾size , é»˜è®¤æ ¹æ®å®½åº¦é€‚é…ï¼Œçºµå‘ä¹Ÿå¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•* æ¨ªå‘çš„å°ºå¯¸ç›´æŽ¥ä½¿ç”¨æ­¤æ–¹æ³•* å¦‚ï¼šwidth ,paddingHorizontal ,paddingLeft ,paddingRight ,marginHorizontal ,marginLeft ,marginRight* @param size è®¾è®¡å›¾çš„å°ºå¯¸* @returns &#123;number&#125;*/export function scaleSize(size: Number) &#123; return size * _scaleWidth;&#125;/*** å±å¹•é€‚é… , çºµå‘çš„å°ºå¯¸ä½¿ç”¨æ­¤æ–¹æ³•åº”è¯¥ä¼šæ›´è¶‹è¿‘äºŽè®¾è®¡ç¨¿* å¦‚ï¼šheight ,paddingVertical ,paddingTop ,paddingBottom ,marginVertical ,marginTop ,marginBottom* @param size è®¾è®¡å›¾çš„å°ºå¯¸* @returns &#123;number&#125;*/export function scaleHeight(size: Number) &#123; return size * _scaleHeight;&#125;/* æœ€åˆç‰ˆæœ¬å°ºå¯¸é€‚é…æ–¹æ¡ˆ ä¹Ÿè®¸ä½ ä¼šæ›´å–œæ¬¢è¿™ä¸ªexport function scaleSize(size: Number) &#123; let scaleWidth = screenW / w2; let scaleHeight = screenH / h2; let scale = Math.min(scaleWidth, scaleHeight); size = Math.round((size * scale + 0.5)); return size / DEFAULT_DENSITY;&#125;*//*** è®¾ç½®å­—ä½“çš„sizeï¼ˆå•ä½pxï¼‰* @param size ä¼ å…¥è®¾è®¡ç¨¿ä¸Šçš„px , allowFontScaling æ˜¯å¦æ ¹æ®è®¾å¤‡æ–‡å­—ç¼©æ”¾æ¯”ä¾‹è°ƒæ•´ï¼Œé»˜è®¤ä¸ä¼š* @returns &#123;Number&#125; è¿”å›žå®žé™…sp*/function setSpText(size: Number, allowFontScaling = false) &#123; const scale = Math.min(_scaleWidth, _scaleHeight); const fontSize = allowFontScaling ? 1 : fontScale; return size * scale / fontSize;&#125;export function setSpText2(size: Number) &#123; let scaleWidth = screenW / w2; let scaleHeight = screenH / h2; let scale = Math.min(scaleWidth, scaleHeight); size = Math.round((size * scale + 0.5)); return size / DEFAULT_DENSITY * fontScale;&#125;/*** åˆ¤æ–­æ˜¯å¦ä¸ºiphoneX* @returns &#123;boolean&#125;*/export function isIphoneX() &#123; return ( Platform.OS === 'ios' &amp;&amp; ((screenH === X_HEIGHT &amp;&amp; screenW === X_WIDTH) || (screenH === X_WIDTH &amp;&amp; screenW === X_HEIGHT)) )&#125;/*** æ ¹æ®æ˜¯å¦æ˜¯iPhoneXè¿”å›žä¸åŒçš„æ ·å¼* @param iphoneXStyle* @param iosStyle* @param androidStyle* @returns &#123;*&#125;*/export function ifIphoneX(iphoneXStyle, iosStyle = &#123;&#125;, androidStyle) &#123; if (isIphoneX()) &#123; return iphoneXStyle; &#125; else if (Platform.OS === 'ios') &#123; return iosStyle &#125; else &#123; if (androidStyle) return androidStyle; return iosStyle &#125;&#125;/*** åˆ¤æ–­å¯¹è±¡ï¼Œæ•°ç»„ï¼Œå­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º* @param str (null|undefined|''|' '|[]|&#123;&#125;) å‡åˆ¤æ–­ä¸ºç©ºï¼Œè¿”å›žtrue* @returns &#123;boolean&#125;*/export function isEmpty(str) &#123; if (!str) &#123; return true; &#125; else if (typeof str === 'object' &amp;&amp; Object.keys(str).length === 0) &#123; return true; &#125; else if (str.replace(/(^\s*)|(\s*$)/g, "").length === 0) &#123; return true; &#125; return false;&#125;//æ—¶é—´å¤„ç†Date.prototype.format = function (format) &#123; let date = &#123; "M+": this.getMonth() + 1, "d+": this.getDate(), "h+": this.getHours(), "m+": this.getMinutes(), "s+": this.getSeconds(), "q+": Math.floor((this.getMonth() + 3) / 3), "S+": this.getMilliseconds() &#125;; if (/(y+)/i.test(format)) &#123; format = format.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length)); &#125; for (let k in date) &#123; if (new RegExp("(" + k + ")").test(format)) &#123; format = format.replace(RegExp.$1, RegExp.$1.length === 1 ? date[k] : ("00" + date[k]).substr(("" + date[k]).length)); &#125; &#125; return format;&#125;;//èŽ·å–æ—¶é—´å·® current:1497235409744 å½“å‰æ—¶é—´ start:1497235419744 å¼€å§‹æ—¶é—´export function getRemainingime(current: Number, start: Number) &#123; let time = start - current; if (time &lt; 0) &#123; return ["0", "0", "0", "0", "0", "0"]; &#125; let year = Math.floor(time / (365 * 30 * 24 * 3600 * 1000));//å¹´ let month = Math.floor(time / (30 * 24 * 3600 * 1000));//æœˆ let days = Math.floor(time / (24 * 3600 * 1000));//æ—¥ let temp1 = time % (24 * 3600 * 1000); let temp2 = temp1 % (3600 * 1000); let minutes = Math.floor(temp2 / (60 * 1000));//åˆ† let hours = Math.floor(temp1 / (3600 * 1000));//æ—¶ let temp3 = temp2 % (60 * 1000); let seconds = Math.round(temp3 / 1000);//ç§’ let strs = [year, toNormal(month), toNormal(days), toNormal(hours), toNormal(minutes), toNormal(seconds)]; return strs;//["0", "0", "2", "7", "33", "30"]0å¹´0æœˆ2æ—¥ 7æ—¶33åˆ†30ç§’&#125;//1497235419export function getRemainingimeDistance(distance: Number) &#123; let time = distance * 1000; if (time &lt; 0) &#123; return ["0", "0", "0", "0", "0", "0"]; &#125; let year = Math.floor(time / (365 * 30 * 24 * 3600 * 1000));//å¹´ let month = Math.floor(time / (30 * 24 * 3600 * 1000));//æœˆ let days = Math.floor(time / (24 * 3600 * 1000));//æ—¥ let temp1 = time % (24 * 3600 * 1000); let hours = Math.floor(temp1 / (3600 * 1000));//æ—¶ let temp2 = temp1 % (3600 * 1000); let minutes = Math.floor(temp2 / (60 * 1000));//åˆ† let temp3 = temp2 % (60 * 1000); let seconds = Math.round(temp3 / 1000);//ç§’ let strs = [year, toNormal(month), toNormal(days), toNormal(hours), toNormal(minutes), toNormal(seconds)]; // strs.splice(0, 1, String(Number(strs[0]) - 1970));//å¹´ // strs.splice(1, 1, String(Number(strs[1]) - 1)); // strs.splice(2, 1, (Number(strs[2]) - 1) &lt; 10 ? '0' + (Number(strs[2]) - 1) : String(Number(strs[2]) - 1)); // strs.splice(3, 1, (Number(strs[3]) - 8) &lt; 10 ? '0' + (Number(strs[3]) - 8) : String(Number(strs[3]) - 8)); // strs.splice(4, 1, Number(strs[4]) &lt; 10 ? '0' + Number(strs[4]) : String(Number(strs[4]))); // strs.splice(5, 1, Number(strs[5]) &lt; 10 ? '0' + Number(strs[5]) : String(Number(strs[5]))); return strs;//["0", "0", "2", "7", "33", "30"]0å¹´0æœˆ2æ—¥ 7æ—¶33åˆ†30ç§’&#125;export function toNormal(time: Number) &#123; return time &gt;= 10 ? time : '0' + time;&#125;//è½¬æ¢æˆæ—¥æœŸexport function toDate(timestamp: Number, format1 = 'yyyy-MM-dd hh:mm:ss') &#123; try &#123; if (timestamp &gt; 10000) &#123; let date = new Date(); date.setTime(timestamp); return date.format(format1);//2014-07-10 10:21:12 &#125; else &#123; return ''; &#125; &#125; catch (erro) &#123; return ''; &#125; return '';&#125;//è½¬æ¢æˆæ—¶é—´æ“export function toTimestamp(date: String) &#123; let timestamp = Date.parse(date); return timestamp / 1000; // 1497233827569/1000&#125;//CSTæ—¶é—´=&gt;è½¬æ¢æˆæ—¥æœŸyyyy-MM-dd hh:mm:ssexport function getTaskTime(strDate) &#123; if (null == strDate || "" == strDate) &#123; return ""; &#125; let dateStr = strDate.trim().split(" "); let strGMT = dateStr[0] + " " + dateStr[1] + " " + dateStr[2] + " " + dateStr[5] + " " + dateStr[3] + " GMT+0800"; let date = new Date(Date.parse(strGMT)); let y = date.getFullYear(); let m = date.getMonth() + 1; m = m &lt; 10 ? ('0' + m) : m; let d = date.getDate(); d = d &lt; 10 ? ('0' + d) : d; let h = date.getHours(); let minute = date.getMinutes(); minute = minute &lt; 10 ? ('0' + minute) : minute; let second = date.getSeconds(); second = second &lt; 10 ? ('0' + second) : second; return y + "-" + m + "-" + d + " " + h + ":" + minute + ":" + second;&#125;;//1497235419export function getRemainingimeDistance2(distance: Number) &#123; let time = distance; let days = Math.floor(time / (24 * 3600 * 1000)); let temp1 = time % (24 * 3600 * 1000); let hours = Math.floor(temp1 / (3600 * 1000)); let temp2 = temp1 % (3600 * 1000); let minutes = Math.floor(temp2 / (60 * 1000)); if (time &lt;= 60 * 1000) &#123; minutes = 1; &#125; let temp3 = temp2 % (60 * 1000); let seconds = Math.round(temp3 / 1000); return [hours, minutes];//["0", "0", "2", "7", "33", "30"]0å¹´0æœˆ2æ—¥ 7æ—¶33åˆ†30ç§’&#125;/*** å­˜å‚¨* @param key* @param value* @param successCallback* @param errorCallback*/export function saveAsyncStorage(key, value, successCallback, errorCallback) &#123; AsyncStorage.setItem(key, value, error =&gt; &#123; if (error) &#123; errorCallback(error); &#125; else &#123; successCallback(); &#125; &#125;)&#125;/*** å–å€¼* @param key* @param successCallback* @param errorCallback*/export function getAsyncStorage(key, successCallback, errorCallback) &#123; AsyncStorage.getItem(key, (error, result) =&gt; &#123; if (error) &#123; errorCallback(error); &#125; else &#123; successCallback(result); &#125; &#125;)&#125;/*** åˆ é™¤å¯¹åº”keyçš„* @param key* @param successCallback* @param errorCallback*/export function removeAsyncStorage(key, successCallback, errorCallback) &#123; AsyncStorage.getItem(key, error =&gt; &#123; if (error) &#123; errorCallback(error); &#125; else &#123; successCallback(); &#125; &#125;)&#125;]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React native network library - Axios]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-7%2F</url>
    <content type="text"><![CDATA[How to use axios in React Native Axios InterceptorsAxios interceptors allow us to run code or modify the request and response before the request and response is started. In simple words, it allows you write or execute a piece of your code before the request gets sent. Write into a file to package AxiosThe simple example: import axios from 'axios';axios.defaults.retry = 4;axios.defaults.timeout = 10000;axios.defaults.headers.common['x-dejafashion-ua'] = ' 'axios.defaults.headers.common['uid'] = '0'axios.defaults.headers.common['User-Agent'] = 'iphone ... CFNetwork/1098.7 Darwin/19.0.0'axios.defaults.headers.post['Content-Type'] = 'application/json;charset=UTF-8'const stylepedia_DT = 'https://cloud-dt.co/'const stylepedia_DP = 'http://cloud-dp.co/'const stylepedia_PR = 'https://cloud.co/'axios.interceptors.response.use(undefined, function axiosRetryInterceptor(err) &#123; var config = err.config; // If config does not exist or the retry option is not set, reject if(!config || !config.retry) return Promise.reject(err); // Set the variable for keeping track of the retry count config.__retryCount = config.__retryCount || 0; // Check if we've maxed out the total number of retries if(config.__retryCount &gt;= config.retry) &#123; // Reject with the error return Promise.reject(err); &#125; // Increase the retry count config.__retryCount += 1; // Create new promise to handle exponential backoff var backoff = new Promise(function(resolve) &#123; setTimeout(function() &#123; resolve(); &#125;, config.retryDelay || 1); &#125;); // Return the promise in which recalls axios to retry the request return backoff.then(function() &#123; return axios(config); &#125;);&#125;);export default axios.create(&#123; baseURL: stylepedia_DP&#125;); You can use this file to send a Get requestif you want bring params, donâ€™t forget to use params dictionary to add params For example: import API from '../../Network/api' searchInfluencersRequest() &#123; this.setState(&#123; influencerLoading: true, &#125;); API.get('search/influencers', &#123; params: &#123; key: this.state.searchText, &#125; &#125;).then(res =&gt; &#123; if (res.data.ret === 0 &amp;&amp; res.data.data !== null) &#123; this.setState(&#123; influencerArray: res.data.data.infuencer_item_list, influencerLoading: false, &#125;) &#125; else &#123; this.setState(&#123; influencerArray: [], influencerLoading: false, &#125;) &#125; &#125;).catch(error =&gt; &#123; this.setState(&#123; influencerArray: [], influencerLoading: false, &#125;) &#125;) &#125; You can use this file to send a Post requestSend a Post request, the way is really similar to Get request likeStatusRequest(likeStatus, street_id) &#123; API.post('favourite/favourite_status', &#123; street_id: street_id, like: likeStatus ? 1 : 0, &#125;) .then(res =&gt; &#123; likeStatus ? Toast.show('Added to Favourites', &#123; position: Toast.positions.CENTER, &#125;) : Toast.show('Removed from Favourites', &#123; position: Toast.positions.CENTER, &#125;); &#125;) .catch(error =&gt; &#123; console.log(error); &#125;); &#125; Sometimes you want change defaults headerYou can do it like this: API.defaults.headers.common['uid'] = global.uid;API.defaults.headers.common['sig'] = global.sig; How to send an image to serverï¼ŸYou need to new a FormData to add your image path ã€image type and image rename. donâ€™t forget to change your â€˜Content-Typeâ€™ headers. uploadImageRequest() &#123; let formData = new FormData(); let file = &#123;uri: ../.../levi.png, type: 'multipart/form-data', name: 'image.png'&#125;; formData.append("file",file); let config = &#123; headers:&#123;'Content-Type':'multipart/form-data'&#125; &#125;; API.post('customer/upload',formData,config) .then(res =&gt; &#123; this.setState(&#123; imageResponseUrl: res.data.url, &#125;) &#125;) .catch(error =&gt; &#123; console.log(error); this.setState(&#123; isLookLoading: false, noRequest: false, &#125;) &#125;); &#125;]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React native - AsyncStorage]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-5%2F</url>
    <content type="text"><![CDATA[Sometimes we have to use some ways to save data to the disk. Just like login status, React Native Async Storage is an asynchronous, unencrypted, persistent, key-value storage system for React Native, Itâ€™s used for a variety of scenarios but mainly to store data when your app is not using any cloud services, or when you want to implement features in your app that require data storage. As a React Native developer, you have to know what these limitations are. One limitation of an AsyncStorage API is that on Android the size of the database is set to a default of 6MB limit. Also, AsyncStorage storage is based on SQLite. On iOS, AsyncStorage is backed by native code that stores small values in a Serialized dictionary and larger values in separate files. On Android, AsyncStorage will use either RocksDB or SQLite based on what is available. Thus, itâ€™s important to keep SQLite limitations in mind, too. Also, itâ€™s hard to store complex and nested data structures in the form of key-value pairs. Knowing about these limitations will help you to opt for the best solution when developing a mobile app. I write some simple example for using AsyncStorage Library. Github website: https://github.com/react-native-community/async-storage Installationyarn add @react-native-community/async-storagereact-native link @react-native-community/async-storagecd ios/ &amp;&amp; pod install UsageStore dataThe function is going to save the data. In the below snippet, youâ€™ll find that it uses a parameter name, which, on success, is the value thatâ€™s stored. An alert message will be shown when the input data is saved. storeData = async () =&gt; &#123; try &#123; await AsyncStorage.setItem('@storage_Key', 'stored value') &#125; catch (e) &#123; // saving error &#125;&#125;save = async name =&gt; &#123; try &#123; await AsyncStorage.setItem(STORAGE_KEY, name) alert('Data successfully saved!') this.setState(&#123; name &#125;) &#125; catch (e) &#123; alert('Failed to save name.') &#125; &#125; Read dataThere are three asynchronous methods that will help to store the data, retrieve the data, and clear the app data that are stored. Each of these methods is going to utilize the appropriate API method from the AsyncStorage API. Every method in the AsyncStorage API is promise-based; hence, letâ€™s use async/await syntax to follow best practices. getData = async () =&gt; &#123; try &#123; const value = await AsyncStorage.getItem('@storage_Key') if(value !== null) &#123; // value previously stored &#125; &#125; catch(e) &#123; // error reading value &#125;&#125;retrieveData = async () =&gt; &#123; try &#123; const name = await AsyncStorage.getItem(STORAGE_KEY) if (name !== null) &#123; this.setState(&#123; name &#125;) &#125; &#125; catch (e) &#123; alert('Failed to load name.') &#125; &#125; Remove Everythingyou are going to utilize from the AsyncStorage API is called clear(). This deletes everything that is previously saved. It is not recommended to use this method directly if you want to delete only a specific item from the storage. removeEverything = async () =&gt; &#123; try &#123; await AsyncStorage.clear() alert('Storage successfully cleared!') &#125; catch (e) &#123; alert('Failed to clear the async storage.') &#125; &#125; Mostly I use it store global object , for example: the global object file: global.jsvar global = &#123; authorization: null, token:'', uid: 0, sig: '', name: '', avatar: '', email: '', loginStatus: false, emailFillText: '', cacheArray: [], historyArray: [],&#125;;module.exports = global; I read global data by this way: import AsyncStorage from '@react-native-community/async-storage';AsyncStorage.getItem('@global', (errs, result) =&gt; &#123; if (!errs) &#123; if (result !== null) &#123; var jsonValue = JSON.parse(result); let global = require('../../../global'); global.uid = jsonValue.uid; global.sig = jsonValue.sig; global.name = jsonValue.name; global.avatar = jsonValue.avatar; global.email = jsonValue.email; global.loginStatus = jsonValue.loginStatus; global.cacheArray = jsonValue.cacheArray; global.emailFillText = jsonValue.emailFillText global.historyArray = jsonValue.historyArray &#125; else &#123; this.requestGuestNetwork(); &#125; &#125; else &#123; this.requestGuestNetwork(); &#125; &#125;); I store data by this way: let global = require('../../../global');global.uid = res.data.uid ? res.data.uid : 0;global.sig = '';global.name = '';global.email = '';global.avatar = '';global.loginStatus = false;API.defaults.headers.common['uid'] = global.uid;API.defaults.headers.common['sig'] = global.sig;var jsonStr = JSON.stringify(global);AsyncStorage.setItem('@global', jsonStr, function(error) &#123; if (error) &#123; console.log(error); &#125;&#125;); Thatâ€™s all]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React native - ActionSheetIOS]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-6%2F</url>
    <content type="text"><![CDATA[Sometime, We need to make a actionsheet on Rect nativeï¼Œso the best way to do it by ActionSheetIOS API from react-native, however, ActionSheetIOS can not be used in Android mobile. so we need an unofficial library from github to achieve an Android ActionSheet UI. choosing the github library from beefe/react-native-actionsheet website: https://github.com/beefe/react-native-actionsheet/ Cross platform ActionSheet, This component implements a custom ActionSheet and provides the same way to drawing it on the different platforms (iOS and Android). Actually, In order to keep the best effect, it still uses the ActionSheetIOS on iOS. Installationnpm install react-native-actionsheet â€“save Usageimport ActionSheet from 'react-native-actionsheet'class Demo extends React.Component &#123; showActionSheet = () =&gt; &#123; this.ActionSheet.show() &#125; render() &#123; return ( &lt;View&gt; &lt;Text onPress=&#123;this.showActionSheet&#125;&gt;Open ActionSheet&lt;/Text&gt; &lt;ActionSheet ref=&#123;o =&gt; this.ActionSheet = o&#125; title=&#123;'Which one do you like ?'&#125; options=&#123;['Apple', 'Banana', 'cancel']&#125; cancelButtonIndex=&#123;2&#125; destructiveButtonIndex=&#123;1&#125; onPress=&#123;(index) =&gt; &#123; /* do something */ &#125;&#125; /&gt; &lt;/View&gt; ) &#125;&#125; My Exampleimport ActionSheet from 'react-native-actionsheet'showActionSheet = () =&gt; &#123; this.ActionSheet.show()&#125;componentDidMount() &#123; this.props.navigation.setParams(&#123; increaseCount: this.showActionSheet &#125;);&#125;&lt;ActionSheet ref=&#123;o =&gt; this.ActionSheet = o&#125; options=&#123;['Similar items', 'Similar looks', 'Cancel']&#125; cancelButtonIndex=&#123;2&#125; destructiveButtonIndex=&#123;5&#125; onPress=&#123;(index) =&gt; &#123; if (index === 0) &#123; this.props.navigation.setParams(&#123; otherParam: 'Similar items' &#125;) &#125; else if (index === 1) &#123; this.props.navigation.setParams(&#123; otherParam: 'Similar looks' &#125;) this.setState(&#123; similarLooks: true, &#125;, () =&gt; &#123; // do something in here &#125;); &#125; &#125;&#125;/&gt; PSIf you donâ€™t need the destructive ( red font ), you should write code destructiveButtonIndex={value} the value that you didnâ€™t write in the options.]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React native network library - Axios]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-4%2F</url>
    <content type="text"><![CDATA[How to use axios in React Native Axios InterceptorsAxios interceptors allow us to run code or modify the request and response before the request and response is started. In simple words, it allows you write or execute a piece of your code before the request gets sent. Write into a file to package AxiosThe simple example: import axios from 'axios';axios.defaults.retry = 4;axios.defaults.timeout = 10000;axios.defaults.headers.common['x-dejafashion-ua'] = ' 'axios.defaults.headers.common['uid'] = '0'axios.defaults.headers.common['User-Agent'] = 'iphone ... CFNetwork/1098.7 Darwin/19.0.0'axios.defaults.headers.post['Content-Type'] = 'application/json;charset=UTF-8'const stylepedia_DT = 'https://cloud-dt.co/'const stylepedia_DP = 'http://cloud-dp.co/'const stylepedia_PR = 'https://cloud.co/'axios.interceptors.response.use(undefined, function axiosRetryInterceptor(err) &#123; var config = err.config; // If config does not exist or the retry option is not set, reject if(!config || !config.retry) return Promise.reject(err); // Set the variable for keeping track of the retry count config.__retryCount = config.__retryCount || 0; // Check if we've maxed out the total number of retries if(config.__retryCount &gt;= config.retry) &#123; // Reject with the error return Promise.reject(err); &#125; // Increase the retry count config.__retryCount += 1; // Create new promise to handle exponential backoff var backoff = new Promise(function(resolve) &#123; setTimeout(function() &#123; resolve(); &#125;, config.retryDelay || 1); &#125;); // Return the promise in which recalls axios to retry the request return backoff.then(function() &#123; return axios(config); &#125;);&#125;);export default axios.create(&#123; baseURL: stylepedia_DP&#125;); You can use this file to send a Get requestif you want bring params, donâ€™t forget to use params dictionary to add params For example: import API from '../../Network/api' searchInfluencersRequest() &#123; this.setState(&#123; influencerLoading: true, &#125;); API.get('search/influencers', &#123; params: &#123; key: this.state.searchText, &#125; &#125;).then(res =&gt; &#123; if (res.data.ret === 0 &amp;&amp; res.data.data !== null) &#123; this.setState(&#123; influencerArray: res.data.data.infuencer_item_list, influencerLoading: false, &#125;) &#125; else &#123; this.setState(&#123; influencerArray: [], influencerLoading: false, &#125;) &#125; &#125;).catch(error =&gt; &#123; this.setState(&#123; influencerArray: [], influencerLoading: false, &#125;) &#125;) &#125; You can use this file to send a Post requestSend a Post request, the way is really similar to Get request likeStatusRequest(likeStatus, street_id) &#123; API.post('favourite/favourite_status', &#123; street_id: street_id, like: likeStatus ? 1 : 0, &#125;) .then(res =&gt; &#123; likeStatus ? Toast.show('Added to Favourites', &#123; position: Toast.positions.CENTER, &#125;) : Toast.show('Removed from Favourites', &#123; position: Toast.positions.CENTER, &#125;); &#125;) .catch(error =&gt; &#123; console.log(error); &#125;); &#125; Sometimes you want change defaults headerYou can do it like this: API.defaults.headers.common['uid'] = global.uid;API.defaults.headers.common['sig'] = global.sig; How to send an image to serverï¼ŸYou need to new a FormData to add your image path ã€image type and image rename. donâ€™t forget to change your â€˜Content-Typeâ€™ headers. uploadImageRequest() &#123; let formData = new FormData(); let file = &#123;uri: ../.../levi.png, type: 'multipart/form-data', name: 'image.png'&#125;; formData.append("file",file); let config = &#123; headers:&#123;'Content-Type':'multipart/form-data'&#125; &#125;; API.post('customer/upload',formData,config) .then(res =&gt; &#123; this.setState(&#123; imageResponseUrl: res.data.url, &#125;) &#125;) .catch(error =&gt; &#123; console.log(error); this.setState(&#123; isLookLoading: false, noRequest: false, &#125;) &#125;); &#125;]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React native - Search bar]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-3%2F</url>
    <content type="text"><![CDATA[If you want to use SearchBar on React Native, the best choice is React Native Elements Library. you can use SearchBar module from React Native Elements. The website: https://react-native-elements.github.io/react-native-elements/docs/input.html InstallationStep 1: Install react-native-elements yarn add react-native-elements# or with npmnpm install react-native-elements Step 2: Install react-native-vector-icons # yarnyarn add react-native-vector-icons# or with npmnpm i --save react-native-vector-icons# linkreact-native link react-native-vector-icons Ps: if Xcode run error - react-native-vector-icons iOS run error - â€˜Multiple commands produceâ€™ error when building with new Xcode build system The solution way : simply remove duplicate reference fonts in â€œCopy Bundle Resourcesâ€ NOT in â€œ[CP] Copy Pods Resourcesâ€ You can correct to run iOS app. How to use search bar on RNYou can write the SearchBar Label to write a UI code like this: import &#123; SearchBar &#125; from 'react-native-elements';&lt;SearchBar inputContainerStyle=&#123;&#123;backgroundColor: '#EFEFEF'&#125;&#125; inputStyle=&#123;&#123;backgroundColor: '#EFEFEF'&#125;&#125; ref=&#123;search =&gt; (this.search = search)&#125; platform="ios" containerStyle=&#123;&#123;backgroundColor: 'white'&#125;&#125; placeholder="Search" showCancel=&#123;true&#125; searchIcon=&#123;false&#125; onChangeText=&#123;searchText =&gt; this.setState(&#123;searchText&#125;, () =&gt; &#123; this.searchTypeGetRequest(); &#125;) &#125; value=&#123;this.state.searchText&#125; cancelButtonProps=&#123;&#123;color: 'black'&#125;&#125; onCancel=&#123;() =&gt; &#123; this.props.navigation.goBack(); &#125;&#125; returnKeyType="search" onFocus=&#123;() =&gt; &#123; this.setState(prevState =&gt; (&#123; LookbookStreetSnapFlatList: false, &#125;)); &#125;&#125; onClear=&#123;() =&gt; &#123; this.setState(prevState =&gt; (&#123; LookbookStreetSnapFlatList: false, &#125;)); this.search.focus(); &#125;&#125; onSubmitEditing=&#123;() =&gt; &#123; // press the search button, something will be happened &#125;&#125;/&gt; If you use this.search.focus(), you can find a bug when you use iOS device. when you inter the search page, you click the cancel button, the keyboard always be there and didnâ€™t dismiss anytime. So you can use setTimeout void to avoid that action. &lt;SearchBar ref=&#123;search =&gt; this.search = search&#125; .../&gt;if (Platform.OS === 'ios') &#123; this.timer = setTimeout(() =&gt; &#123; this.search.focus(); &#125;, 200);&#125; else &#123; this.search.focus();&#125; About the other detail , you can check the API from RN element library website:]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Week Tips | 2019.12.23 - 2019.12.27]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-1%2F</url>
    <content type="text"><![CDATA[Q1 : Android studio Error â€œUnsupported Modules Detected: Compilation is not supported for following modulesâ€ File -&gt; Invalidate Caches / Restart -&gt; Invalidate Caches &amp; Restart. close Android Studio IDE and delete the .idea directory. delete all .iml files open Android Studio IDE and Sync with Gradle. Q2 : React Native iOS StatusBar background colour is not dark in the dark mode.we will change the file about react native library RCT_ENUM_CONVERTER(UIStatusBarStyle, (@&#123; @"default": @(UIStatusBarStyleDefault), @"light-content": @(UIStatusBarStyleLightContent), @"dark-content": @(@available(iOS 13.0, *) ? UIStatusBarStyleDarkContent : UIStatusBarStyleDefault), &#125;), UIStatusBarStyleDefault, integerValue); Q3 : React native share library question - Currently on iOS 13 the app will crashCurrently on iOS 13 the app will crash if you: Open the share sheet Tap something like messages or photos Cancel the dialog Perform any other action This is because shareController.completionWithItemsHandler is called when the dialog box is canceled and currently failureCallback or successCallback will always be called. In the situation above, activityError is nil so successCallback will be called even though completed is false. This leaves us in a state where the callback has been invoked but the ShareSheet is still active, meaning the success or error callback will be invoked again, leading to the crash. This PR adds a check to make sure completed is true before calling successCallback. This way successCallback will only be called when the user has successfully completed an action and the ShareSheet is closed. Only call successCallback when completed is true (iOS 13 crash) shareController.completionWithItemsHandler = ^(NSString *activityType, BOOL completed, __unused NSArray *returnedItems, NSError *activityError) &#123; if (activityError) &#123; failureCallback(activityError); &#125; else if (completed) &#123; successCallback(@[@(completed), RCTNullIfNil(activityType)]); &#125;&#125;; Q4 : The question about React native share - Android release build doesnâ€™t work with react-native@0.60You can run npx jetify in the current react native directory on the terminal.]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Week Tips | 2019.12.30 - 2019.01.03]]></title>
    <url>%2F2020%2F01%2F08%2F2020-01-08-2%2F</url>
    <content type="text"><![CDATA[Q1 : react-native-vector-icons iOS run error - â€˜Multiple commands produceâ€™ error when building with new Xcode build systemThe solution way : simply remove duplicate reference fonts in â€œCopy Bundle Resourcesâ€ NOT in â€œ[CP] Copy Pods Resourcesâ€ You can correct to run iOS app. The problem seems to be caused by the new autolinking feature in React Native 0.60 - the line use_native_modules! in ios/Podfile means when you do pod install, any pods found in node_modules are automatically linked. This means that links to all font files are added to [CP] Copy Pods Resources when you do pod install. If you previously installed react-native-vector-icons manually by adding the font files to Copy Bundle Resources, you then get a â€œMultiple commands produceâ€¦â€ fatal build error. So to fix the problem, just remove the font files from Copy Bundle Resources, so that they are only in [CP] Copy Pods Resources. Q2 : How can I insert a line break into a component in React Native?This should do it: &lt;Text&gt;Hi~&#123;"\n"&#125;this is a test message.&lt;/Text&gt; {â€œ\nâ€} can be used in the component in React Native.]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[2019 W1 | 9.16-9.22 | Tips Week Summary]]></title>
    <url>%2F2019%2F09%2F19%2F2019-09-19-1%2F</url>
    <content type="text"><![CDATA[Q1 Make a drop shadow effect on a label in SwiftShow my code: private lazy var titleLabel: UILabel = &#123; let titleLabel = UILabel(frame: .zero) titleLabel.textAlignment = .center titleLabel.lineBreakMode = .byTruncatingTail titleLabel.numberOfLines = 2 titleLabel.font = DJFont.boldHelveticaFont(ofSize: 40) titleLabel.text = " " titleLabel.textColor = UIColor(fromHexString: "FFFFFF") titleLabel.layer.shadowColor = UIColor.black.cgColor titleLabel.layer.shadowRadius = 2.0 titleLabel.layer.shadowOpacity = 0.3 titleLabel.layer.shadowOffset = CGSize(width: 4, height: 4) titleLabel.layer.masksToBounds = false return titleLabel&#125;() Q2 Whatâ€™s different between string.utf16.count and string.count?if you are coding by objective-c, itâ€™s the same, but by swift, itâ€™s really different. There is a good example : extension String &#123; var length: Int &#123; return self.utf16.count &#125;&#125;let emoji = â€œðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†ðŸ˜†â€emoji.length // return 12emoji.count // return 6 If you print by string.utf16.count, return 12.but you print by string.count, return 6. Does you make sense? Q3 How to increase line spacing in UILabel in swiftYou can use it by label instance let label = UILabel()let stringValue = "Levi\nCherry\nMandy\n"let attrString = NSMutableAttributedString(string: stringValue)var style = NSMutableParagraphStyle()style.lineSpacing = 24 // change line spacing between paragraph like 36 or 48style.minimumLineHeight = 20 // change line spacing between each line like 30 or 40// Line spacing attributeattrString.addAttribute(NSAttributedStringKey.paragraphStyle, value: style, range: NSRange(location: 0, length: stringValue.characters.count))label.attributedText = attrString Q4 No Accounts with iTunes Connect have been found for the Team?I am going to submit my App to App Store, but I am getting the error: â€œNo accounts with iTunes Connect access have been found for the teamâ€¦â€ And I resolved by stackoverflow: Quit Xcode completely and re-open it to resolve the problem. Or Please verify if itâ€™s App Store distribution profile or not. If yes then try to login to Xcode with your apple Id which has access to iTunes Connect or App Store Connect. While validating the archive file please choose the same profile. It should work fine. I resolved it by first way.]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[How to Add "â€¦Read More" to the end of UILabel]]></title>
    <url>%2F2019%2F09%2F19%2F2019-09-19%2F</url>
    <content type="text"><![CDATA[Product RequirementsThere is a UILabel, the number of line are three, if the content is more than content in the UILabel, you have to add â€œâ€¦ moreâ€ to the end of UILabel, and then you can click the text, the UILabel will be unfolded. just like this pic below : How to solve itAt first, I want to calculate the visible text I can put into this UILabel with the current UILabel size by this fitString function. When I get this visible text, and then I will prepare visible text and all UILabelâ€™s text, if this count is the same, I will display it all text, if not I will display the visible text which will replace the last 8 character with â€œâ€¦ moreâ€. I think that this method will resolve most question just like this, but there is a question, if the string just like this: â€œ123\n345\n234\n123\nâ€, the last 8 character will be replace with â€œâ€¦ moreâ€, however, this is wrong, the correct way is that you wonâ€™t replace 8 character, just add â€œâ€¦ moreâ€ to the end of visible text. The correct final string is 123123123 ...more And then I resolve it, but unexpectedly, if the string included some Emoji characters, the visible text characters will be wrong, so you will find some bug in the fitString function. - (NSUInteger)fitString:(NSString *)string intoLabel:(UILabel *)label&#123; UIFont *font = label.font; NSLineBreakMode mode = label.lineBreakMode; CGFloat labelWidth = label.frame.size.width; CGFloat labelHeight = label.frame.size.height; CGSize sizeConstraint = CGSizeMake(labelWidth, CGFLOAT_MAX); if (SYSTEM_VERSION_GREATER_THAN(iOS_7)) &#123; NSDictionary *attributes = @&#123; NSFontAttributeName : font &#125;; NSAttributedString *attributedText = [[NSAttributedString alloc] initWithString:string attributes:attributes]; CGRect boundingRect = [attributedText boundingRectWithSize:sizeConstraint options:NSStringDrawingUsesLineFragmentOrigin context:nil]; &#123; if (boundingRect.size.height &gt; labelHeight) &#123; NSUInteger index = 0; NSUInteger prev; NSCharacterSet *characterSet = [NSCharacterSet whitespaceAndNewlineCharacterSet]; do &#123; prev = index; if (mode == NSLineBreakByCharWrapping) index++; else index = [string rangeOfCharacterFromSet:characterSet options:0 range:NSMakeRange(index + 1, [string length] - index - 1)].location; &#125; while (index != NSNotFound &amp;&amp; index &lt; [string length] &amp;&amp; [[string substringToIndex:index] boundingRectWithSize:sizeConstraint options:NSStringDrawingUsesLineFragmentOrigin attributes:attributes context:nil].size.height &lt;= labelHeight); return prev; &#125; &#125; &#125; else &#123; if ([string sizeWithFont:font constrainedToSize:sizeConstraint lineBreakMode:mode].height &gt; labelHeight) &#123; NSUInteger index = 0; NSUInteger prev; NSCharacterSet *characterSet = [NSCharacterSet whitespaceAndNewlineCharacterSet]; do &#123; prev = index; if (mode == NSLineBreakByCharWrapping) index++; else index = [string rangeOfCharacterFromSet:characterSet options:0 range:NSMakeRange(index + 1, [string length] - index - 1)].location; &#125; while (index != NSNotFound &amp;&amp; index &lt; [string length] &amp;&amp; [[string substringToIndex:index] sizeWithFont:font constrainedToSize:sizeConstraint lineBreakMode:mode].height &lt;= labelHeight); return prev; &#125; &#125; return [string length];&#125; Do you find it? Show my codeextension UILabel &#123; func addTrailing(with trailingText: String, moreText: String, moreTextFont: UIFont, moreTextColor: UIColor) &#123; let readMoreText: String = trailingText + moreText let lengthForVisibleString: Int = self.vissibleTextLength let mutableString: String = self.text! let trimmedString: String? = (mutableString as NSString).substring(to: lengthForVisibleString) if ((self.text?.count)! - lengthForVisibleString) &lt;= 0 &#123; let style = NSMutableParagraphStyle() style.lineSpacing = 4.0 // change line spacing between paragraph like 36 or 48 let answerAttributed = NSMutableAttributedString(string: self.text!, attributes: [NSAttributedString.Key.font: self.font, NSAttributedString.Key.paragraphStyle: style]) self.attributedText = answerAttributed return &#125; let leviTrimmedForReadMore = String(trimmedString ?? "") + String("... more") self.text = leviTrimmedForReadMore let ddlengthForVisibleString: Int = self.vissibleTextLength if ((self.text?.count)! - ddlengthForVisibleString) &lt;= 0 &#123; let trimmedForReadMore: String = trimmedString! + trailingText let style = NSMutableParagraphStyle() style.lineSpacing = 4.0 // change line spacing between paragraph like 36 or 48 let answerAttributed = NSMutableAttributedString(string: trimmedForReadMore, attributes: [NSAttributedString.Key.font: self.font, NSAttributedString.Key.paragraphStyle: style]) let readMoreAttributed = NSMutableAttributedString(string: moreText, attributes: [NSAttributedString.Key.font: moreTextFont, NSAttributedString.Key.foregroundColor: moreTextColor, NSAttributedString.Key.paragraphStyle: style]) answerAttributed.append(readMoreAttributed) self.attributedText = answerAttributed &#125; else &#123; let readMoreLength: Int = (readMoreText.utf16.count) let trimmedForReadMore: String = (trimmedString! as NSString).substring(to: (trimmedString?.utf16.count ?? 0) - readMoreLength) + trailingText let style = NSMutableParagraphStyle() style.lineSpacing = 4.0 // change line spacing between paragraph like 36 or 48 let answerAttributed = NSMutableAttributedString(string: trimmedForReadMore, attributes: [NSAttributedString.Key.font: self.font, NSAttributedString.Key.paragraphStyle: style]) let readMoreAttributed = NSMutableAttributedString(string: moreText, attributes: [NSAttributedString.Key.font: moreTextFont, NSAttributedString.Key.foregroundColor: moreTextColor, NSAttributedString.Key.paragraphStyle: style]) answerAttributed.append(readMoreAttributed) self.attributedText = answerAttributed &#125; &#125; var vissibleTextLength: Int &#123; let font: UIFont = self.font let mode: NSLineBreakMode = self.lineBreakMode let labelWidth: CGFloat = self.frame.size.width let labelHeight: CGFloat = self.frame.size.height let sizeConstraint = CGSize(width: labelWidth, height: CGFloat.greatestFiniteMagnitude) let attributes: [AnyHashable: Any] = [NSAttributedString.Key.font: font] let attributedText = NSAttributedString(string: self.text!, attributes: attributes as? [NSAttributedString.Key : Any]) let boundingRect: CGRect = attributedText.boundingRect(with: sizeConstraint, options: .usesLineFragmentOrigin, context: nil) if boundingRect.size.height &gt; labelHeight &#123; var index: Int = 0 var prev: Int = 0 let characterSet = CharacterSet.whitespacesAndNewlines repeat &#123; prev = index if mode == NSLineBreakMode.byCharWrapping &#123; index += 1 &#125; else &#123; index = (self.text! as NSString).rangeOfCharacter(from: characterSet, options: [], range: NSRange(location: index + 1, length: self.text!.count - index - 1)).location &#125; &#125; while index != NSNotFound &amp;&amp; index &lt; self.text!.count &amp;&amp; (self.text! as NSString).substring(to: index).boundingRect(with: sizeConstraint, options: .usesLineFragmentOrigin, attributes: attributes as? [NSAttributedString.Key : Any], context: nil).size.height &lt;= labelHeight return prev &#125; return self.text!.count &#125;&#125;//You can use itif let biography = model.biography &#123; if biography.count &gt;= 10 &#123; let readmoreFont = DJFont.lightHelveticaFont(ofSize: 16.0) let readmoreFontColor = UIColor(fromHexString: "818181") self.contentLabel.addTrailing(with: "... ", moreText: "more", moreTextFont: readmoreFont!, moreTextColor: readmoreFontColor!) &#125;&#125;]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React.js/HTML5å’ŒiOSåŒå‘é€šä¿¡]]></title>
    <url>%2F2019%2F04%2F07%2F2019-04-07%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘ï¼Œæˆ‘ä½¿ç”¨WKWebViewå’ŒReact.jsè¿›è¡ŒåŒå‘é€šä¿¡,è‡ªå·±å†™äº†React.jsåµŒå…¥åˆ°Nativeä¸­ã€‚ Nativeæ“ä½œWebï¼Œé€šè¿‡ä¸¤ç§æ–¹å¼ä¼ å€¼ç¬¬ä¸€ç§ï¼Œé€šè¿‡JSä¼ å€¼ç»™Nativeé€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥é€šè¿‡Swiftæ‰§è¡ŒDOMæ“ä½œï¼Œé¡ºä¾¿è¯´ä¸€å¥ï¼ŒwebView.evaluateJavaScriptè¿”å›žè„šæœ¬æ‰§è¡Œç»“æžœçš„å†…å®¹ã€‚è¿™ä¸ªå¤„ç†ç¨‹åºä¼¼ä¹Žæ˜¯åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œçš„ã€‚ Nativeè°ƒç”¨JSä»£ç æ–¹æ³•å¦‚ä¸‹: let str = "payResult(true)" webView.evaluateJavaScript(str) &#123; (result, error) in&#125; Javascriptå¤„ç†é€»è¾‘æ–¹æ³•å¦‚ä¸‹: payResult = value =&gt; &#123; if (value === true) &#123; console.log('true') this.setState(prevState =&gt; (&#123; pushnotice: '1' &#125;)); &#125; else &#123; console.log('false') this.setState(prevState =&gt; (&#123; pushnotice: '0' &#125;)); &#125;&#125; å¦‚æžœJSçš„payResultæ–¹æ³•æ²¡æœ‰è°ƒç”¨ï¼Œé‚£å°±åŠ ä¸Šè¿™æ ·ä¸€å¥è¯window.payResultï¼Œæœ‰å¯èƒ½è¢«ç»„ä»¶å±è”½æ— æ³•å…¨å±€è°ƒç”¨ã€‚ constructor(props) &#123; super(props); window.payResult = this.payResult&#125; ç¬¬äºŒç§ï¼Œé€šè¿‡getè¯·æ±‚ä¼ å€¼é€šè¿‡getè¯·æ±‚æ–¹å¼å°†å‚æ•°ä¼ åˆ°jsçš„è¯·æ±‚URLé“¾æŽ¥ä¸­ã€‚ var url = ""if let webUrl = webUrl &#123; url = webUrl if let uid = userID &#123; url += "?" + "uid=" + uid &#125; if let topicId = topicId &#123; url += "&amp;" + "topic=" + topicId &#125; if isRank == true &#123; url += "&amp;" + "type=2" &#125;&#125; react.jsé€šè¿‡URLæ‹¼æŽ¥æ–¹å¼è§£æžä¼ é€’çš„å‚æ•°,æ–¹æ³•å¦‚ä¸‹: var params = &#123;&#125;let str = this.props.location.searchlet seg = str.replace(/^\?/, '').split('&amp;')let len = seg.lengthfor (var i = 0; i &lt; len; i++) &#123; if (seg[i]) &#123; let p = seg[i].split('='); params[p[0]] = p[1]; &#125;&#125; é€šè¿‡è¿™ç§æ–¹å¼params.uid | param.topic | param.type æ¥èŽ·å–å‚æ•° Nativeæ“ä½œWebï¼Œé€šè¿‡ä¸¤ç§æ–¹å¼ä¼ å€¼Nativeæ“ä½œ å®žä¾‹åŒ–WKWebViewConfigurationå’ŒWKUserContentController,userControlleråœ¨JavaScriptçš„æ³¨å†Œå¤„ç†è°ƒç”¨åç§°ã€‚å¹¶è®¾ç½®å®žçŽ°WKScriptMessageHandleråè®®çš„ä»£ç†ã€‚ let webConfiguration = WKWebViewConfiguration()webConfiguration.preferences = WKPreferences()webConfiguration.preferences.minimumFontSize = 10;webConfiguration.preferences.javaScriptEnabled = true;webConfiguration.preferences.javaScriptCanOpenWindowsAutomatically = false;webConfiguration.userContentController = WKUserContentController()webConfiguration.processPool = WKProcessPool()webConfiguration.userContentController.add(self as WKScriptMessageHandler, name:"pushAction")let webView = WKWebView(frame: .zero, configuration: webConfiguration)webView.scrollView.bounces = falsewebView.scrollView.showsVerticalScrollIndicator = falsewebView.scrollView.showsHorizontalScrollIndicator = false é€šè¿‡WKScriptMessageHandleråè®®è¿›è¡Œç›‘æŽ§ func userContentController(_ userContentController: WKUserContentController, didReceive message: WKScriptMessage) &#123; print(message.name) print(message.body) jsInvokeNativeHandler(message)&#125;func jsInvokeNativeHandler(_ message: WKScriptMessage) &#123; if message.isKind(of: WKScriptMessage.self) &#123; let serialQueue = DispatchQueue(label: "com.test.mySerialQueue") serialQueue.sync &#123; if message.name == "pushAction" &#123; if let dict : NSDictionary = message.body as? NSDictionary &#123; if let content = dict["content"] as? String &#123; self.sendPushNotification(content) &#125; &#125; &#125; &#125;&#125; å…³äºŽè§£æžï¼Œå’ŒWebè¿›è¡Œåè®®ï¼Œæˆ‘åœ¨H5å†™çš„ä»£ç é€šè¿‡messageä¼ è¿‡æ¥çš„æ˜¯ä¸€ä¸ªå­—å…¸ç±»åž‹ {content: â€˜â€¦â€™}ã€‚ webç«¯æ“ä½œH5å¦‚ä½•ä¼ é€’æ–¹æ³•ç»™nativeï¼Ÿ ä¼ å€¼æ–¹æ³•å¦‚ä¸‹ï¼ŒiOSå’ŒAndroidæŽ¥å—çš„æ–¹æ³•ä¸åŒï¼Œè¦å•ç‹¬è¿›è¡Œå¤„ç†: window.htmlCallMobileDeja = function(handlerMethod, parameters)&#123; try &#123; var u = navigator.userAgent; var isAndroid = u.indexOf('Android') &gt; -1 || u.indexOf('Adr') &gt; -1 var isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/) if (isiOS) &#123; if (window.webkit) &#123; window.webkit.messageHandlers[handlerMethod].postMessage(dic); console.log(handlerMethod) &#125; &#125; else if(isAndroid)&#123; window['JsClient'][handlerMethod](parameters) &#125; else &#123; // &#125; &#125; catch(err) &#123; console.log('The native context does not exist yet'); &#125;&#125;; javascripté€šè¿‡è¿™ç§æ–¹å¼è¿›è¡Œä¼ å€¼ var dic = &#123; 'event_name': event_name + '', 'event_first_param': event_first_param + '', 'event_second_param': event_second_param + '',&#125;window.htmlCallMobileDeja('hideMBP', dic)]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Week Tips(2019.4.1-2019.4.7)]]></title>
    <url>%2F2019%2F04%2F07%2F2019-04-07-1%2F</url>
    <content type="text"><![CDATA[H5 reactå¢žåŠ loadingé¡µé¢å®‰è£…æ’ä»¶:npm i react-loading --save npm web:https://www.npmjs.com/package/react-loading Demoå±•ç¤ºé¡µé¢:https://codesandbox.io/s/mqx0ql55qp ä½¿ç”¨æ–¹æ³•:&lt;ReactLoading type='spokes' color="#262729" height="0.3rem" width="0.3rem"/&gt; loadingæ ·å¼: æ¨¡æ‹ŸiOS loadingæ ·å¼:html: &lt;div className="SnsRankOther-loadingPic"&gt; &lt;ReactLoading type='spokes' color="#262729" height="0.3rem" width="0.3rem"/&gt;&lt;/div&gt; css: .SnsRankOther-loadingPic &#123; background: rgba(230, 230, 230, 0.479); width: 0.8rem; height: 0.8rem; border-radius: 0.05rem; display: flex; flex-direction: row; align-items: center; justify-content: center;&#125; æ•ˆæžœ: iOS pod updateåŽReact frameworkæŠ¥é”™é—®é¢˜å‡ºçŽ°: npm install åŽ podupdateï¼Œ Xcodeè¿è¡ŒæŠ¥é”™ï¼Œé”™è¯¯æç¤º React google::logmessageå‡ºé¢˜ã€‚ ç¼–è¯‘æŠ¥é”™æç¤ºï¼š log: Undefined symbols for architecture x86_64: &quot;google::LogMessage::LogMessage(char const*, int, int)&quot;, referenced from: facebook::react::CxxNativeModule::invoke(unsigned int, folly::dynamic&amp;&amp;, int)::$_1::operator()() const in CxxNativeModule.o facebook::react::JSException::buildMessage(OpaqueJSContext const*, OpaqueJSValue const*, OpaqueJSString*, char const*) in JSCHelpers.o &quot;double_conversion::DoubleToStringConverter::ToShortestIeeeNumber(double, double_conversion::StringBuilder*, double_conversion::DoubleToStringConverter::DtoaMode) const&quot;, referenced from: double_conversion::DoubleToStringConverter::ToShortest(double, double_conversion::StringBuilder*) const in CxxNativeModule.o &quot;double_conversion::DoubleToStringConverter::ToFixed(double, int, double_conversion::StringBuilder*) const&quot;, referenced from: std::__1::enable_if&lt;(std::is_floating_point&lt;double&gt;::value) &amp;&amp; (IsSomeString&lt;std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; &gt;::value), void&gt;::type folly::toAppend&lt;std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt;, double&gt;(double, std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt;*, double_conversion::DoubleToStringConverter::DtoaMode, unsigned int) in CxxNativeModule.o ... è§£å†³æ–¹æ¡ˆ:working manually adding DoubleConversion and glog to Link Binary With Libraries of React framework target in @CocoaPods project. UITableViewå›žæ»šåˆ°é¡¶éƒ¨çš„å‡ ç§æ–¹æ³•é—®é¢˜: tableviewæ¯æ¬¡å›žæ»šæ˜¯æ»šåˆ°äº†ç¬¬ä¸€ä¸ªcellä¸Šé¢ï¼Œä½†è¿™ä¸ªtableviewæ˜¯æœ‰è¡¨å¤´çš„ã€‚ çœ‹äº†ä¸‹ä»£ç : self.tableview.scrollToRow(at: IndexPath(row: 0, section: 0), at: .top, animated: true) æ”¹æˆå¦‚ä¸‹æ–¹å¼: self.contentTB.setContentOffset(CGPoint(x: 0, y: 0), animated: true) é—®é¢˜è§£å†³ UITableViewå›žæ»šåˆ°é¡¶éƒ¨çš„å‡ ä¸ªæ–¹æ³•ï¼š //æ–¹æ³•ä¸€[self.tableView scrollRectToVisible:CGRectMake(0, 0, 1, 1) animated:NO];//æ–¹æ³•äºŒ[self.tableView setContentOffset:CGPointMake(0,0) animated:NO];//æ–¹æ³•ä¸‰NSIndexPath* indexPat = [NSIndexPath indexPathForRow:0 inSection:0];[self.tableView scrollToRowAtIndexPath:indexPat atScrollPosition:UITableViewScrollPositionBottom animated:YES]; æ–¹æ³•ä¸€å¯ä»¥å›žæ»šåˆ°è¡¨å¤´ï¼Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•åªæ˜¯å›žæ»šåˆ°ç¬¬ä¸€ä¸ªcell. iOSé€šè¿‡Safariè°ƒè¯•H5é€šè¿‡æ•°æ®çº¿ï¼Œå°†æ‰‹æœºè¿žæŽ¥ç”µè„‘æ‰“å¼€æ‰‹æœºï¼Œ Settings - safari - Advanced - Web Inspector å¼€å…³æ‰“å¼€æ‰“å¼€ç”µè„‘safariï¼Œpreference - Advanced - Show Develop menu in menu bar å¼€å…³æ‰“å¼€,å¦‚å›¾: æ‰“å¼€ç”µè„‘safari - Develop bar ä¸­ä¼šçœ‹åˆ°ä½ çš„æ‰‹æœºï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œç‚¹å‡»è¿›è¡Œè°ƒè¯•: ç‚¹å‡»webåŽè¿›å…¥äº†è°ƒè¯•é¡µé¢ï¼Œå¯ä»¥è¿›è¡Œè°ƒè¯•äº†ã€‚ JavaScript èŽ·å–æ—¶é—´æˆ³è½¬æ¢ç¾Žå›½æ—¥æœŸç®€å†™çš„æ–¹æ³•ï¼šéœ€æ±‚: é€šè¿‡æœåŠ¡ç«¯ä¼ æ—¶é—´æˆ³æ˜¾ç¤ºé¡µé¢å¦‚ä¸‹: ä»£ç å¦‚ä¸‹, request.data.start_dateä¸ºæ—¶é—´æˆ³ç±»åž‹ï¼Œé€šè¿‡jsæ–¹æ³•è½¬æ¢æˆç¾Žå›½æ—¥æœŸç®€å†™çš„æ­£ç¡®çš„æ–¹å¼ let startDate = new Date(request.data.start_date);let startMonth = startDate.toDateString().split(" ")[1]let startDay = startDate.toDateString().split(" ")[2] + 'th'var date = new Date(request.data.end_date);let endDate = new Date(request.data.end_date);let endMonth = endDate.toDateString().split(" ")[1]let endDay = endDate.toDateString().split(" ")[2] + 'th'dateText = startDay + ' ' + startMonth + ' - ' + endDay + ' ' + endMonth iOSå€’è®¡æ—¶æ–¹æ³•ï¼šæ•ˆæžœå¦‚ä¸‹: ä»£ç å¦‚ä¸‹ internal var timer: Timer!public var timeFormat = "HH:mm:ss"internal var diffDate: NSDate!internal let date1970 = NSDate(timeIntervalSince1970: 0)internal var fromDate: NSDate = NSDate()internal var currentDate: NSDate = NSDate()internal var range: NSRange!internal var targetTime: TimeInterval = 0internal var currentTime: TimeInterval = 0internal var endOfTimer: Bool &#123; return timeCounted &gt;= currentTime&#125; public var timeCounted: TimeInterval &#123; let timeCounted = NSDate().timeIntervalSince(fromDate as Date) return round(timeCounted &lt; 0 ? 0 : timeCounted)&#125; public var dateFormatter: DateFormatter &#123; let df = DateFormatter() df.locale = Locale(identifier: "zh_CN") df.dateStyle = DateFormatter.Style.medium df.timeStyle = DateFormatter.Style.medium df.dateFormat = timeFormat return df&#125; func updateTimer() &#123; disposeTimer() timer = Timer.scheduledTimer(timeInterval: 1.0, target: self, selector: #selector(updateText), userInfo: nil, repeats: true) RunLoop.current.add(timer, forMode: RunLoop.Mode.common)&#125; func disposeTimer() &#123; if timer != nil &#123; timer.invalidate() timer = nil &#125;&#125;func updateText() &#123; guard diffDate != nil else &#123; return &#125; let date = diffDate.addingTimeInterval(round(timeCounted * -1)) as Date let formattedText = timeCounted &lt; 0 ? dateFormatter.string(from: date1970.addingTimeInterval(0) as Date) : self.surplusTime(date) countdownLabel.text = " - Result will be revealed in " + formattedText countdownLabel.sizeToFit() setNeedsDisplay() if endOfTimer &#123; disposeTimer() countdownLabel.text = " " countdownLabel.sizeToFit() &#125;&#125; func surplusTime(_ to1970Date: Date) -&gt; String &#123; let calendar = Calendar.init(identifier: .gregorian); var labelText = timeFormat; let comp = calendar.dateComponents([.day, .hour, .minute, .second], from: NSDate(timeIntervalSince1970: 0) as Date, to: to1970Date) if let day = comp.day ,let _ = timeFormat.range(of: "dd")&#123; labelText = labelText.replacingOccurrences(of: "dd", with: String.init(format: "%02ld", day)) &#125; if let hour = comp.hour ,let _ = timeFormat.range(of: "hh")&#123; labelText = labelText.replacingOccurrences(of: "hh", with: String.init(format: "%02ld", hour)) &#125; if let hour = comp.hour ,let _ = timeFormat.range(of: "HH")&#123; labelText = labelText.replacingOccurrences(of: "HH", with: String.init(format: "%02ld", hour)) &#125; if let minute = comp.minute ,let _ = timeFormat.range(of: "mm")&#123; labelText = labelText.replacingOccurrences(of: "mm", with: String.init(format: "%02ld", minute)) &#125; if let second = comp.second ,let _ = timeFormat.range(of: "ss")&#123; labelText = labelText.replacingOccurrences(of: "ss", with: String.init(format: "%02ld", second)) &#125; return labelText&#125; HTML5 å†™ REM.jsæ–‡ä»¶æ–¹æ³• å¤åˆ¶ä¸‹é¢è¿™æ®µä»£ç åˆ°ä½ çš„é¡µé¢çš„å¤´éƒ¨çš„scriptæ ‡ç­¾çš„æœ€å‰é¢ã€‚å¦‚æžœæ˜¯react jsï¼Œç›´æŽ¥æ”¾åœ¨index.jsæ–‡ä»¶é‡Œï¼š import './rem.js' æ ¹æ®è®¾è®¡ç¨¿å¤§å°ï¼Œè°ƒæ•´é‡Œé¢çš„æœ€åŽä¸¤ä¸ªå‚æ•°å€¼ã€‚ ä½¿ç”¨1rem=100pxè½¬æ¢ä½ çš„è®¾è®¡ç¨¿çš„åƒç´ ï¼Œä¾‹å¦‚è®¾è®¡ç¨¿ä¸ŠæŸä¸ªå—æ˜¯100px 300px,æ¢ç®—æˆremåˆ™ä¸º1rem 3remã€‚ var win = window;var doc = win.document;var docEl = doc.documentElement;var tid;function refreshRem()&#123; var width = docEl.clientWidth; var height = docEl.clientHeight; if(width&gt;=640)&#123; docEl.style.fontSize = '100px'; &#125;else&#123; docEl.style.fontSize = 100 * (width / 375) + 'px'; &#125;&#125;win.addEventListener('resize', function() &#123; clearTimeout(tid); tid = setTimeout(refreshRem, 300);&#125;, false);win.addEventListener('pageshow', function(e) &#123; if (e.persisted) &#123; clearTimeout(tid); tid = setTimeout(refreshRem, 300); &#125;&#125;, false);refreshRem();]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå‰‘æŒ‡offerã€‹ æ•°ç»„ä¸­å‡ºçŽ°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­—]]></title>
    <url>%2F2019%2F03%2F13%2F2019-03-13%2F</url>
    <content type="text"><![CDATA[OJ addresswebsite : ã€Šå‰‘æŒ‡offerã€‹æ•°ç»„ä¸­å‡ºçŽ°æ¬¡æ•°è¶…è¿‡ä¸€åŠçš„æ•°å­— Descriptionæ•°ç»„ä¸­æœ‰ä¸€ä¸ªæ•°å­—å‡ºçŽ°çš„æ¬¡æ•°è¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªæ•°å­—ã€‚ä¾‹å¦‚è¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸º9çš„æ•°ç»„{1,2,3,2,2,2,5,4,2}ã€‚ç”±äºŽæ•°å­—2åœ¨æ•°ç»„ä¸­å‡ºçŽ°äº†5æ¬¡ï¼Œè¶…è¿‡æ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œå› æ­¤è¾“å‡º2ã€‚å¦‚æžœä¸å­˜åœ¨åˆ™è¾“å‡º0ã€‚ Solution in C++ (one solution)class Solution &#123;public: int MoreThanHalfNum_Solution(vector&lt;int&gt; numbers) &#123; int n = numbers.size(); if (n==0) return 0; sort(numbers.begin(), numbers.end()); int mid = numbers[n/2]; int count = 0; for (int i=0;i&lt;n;++i) &#123; if (numbers[i] == mid) ++count; &#125; if (count*2 &gt; n) return mid; return 0; &#125;&#125;; Solution in C++ (two solution)class Solution &#123;public: int MoreThanHalfNum_Solution(vector&lt;int&gt; numbers) &#123; int n = numbers.size(); if (n==0) return 0; int num = numbers[0]; int count = 1; for (int i=0;i&lt;n;++i) &#123; if (numbers[i] == num) ++count; else --count; if (count == 0) &#123; num = numbers[i]; count = 1; &#125; &#125; count = 0; for (int i=0;i&lt;n;++i) &#123; if (numbers[i] == num) ++count; &#125; if (count*2 &gt; n) return num; return 0; &#125;&#125;; My IdeaSolution one ï¼š æ•°ç»„æŽ’åºåŽï¼Œå¦‚æžœç¬¦åˆæ¡ä»¶çš„æ•°å­˜åœ¨ï¼Œåˆ™ä¸€å®šæ˜¯æ•°ç»„ä¸­é—´é‚£ä¸ªæ•°ï¼ˆæ¯”å¦‚ï¼š1ï¼Œ2ï¼Œ2ï¼Œ2ï¼Œ3ï¼›æˆ–2ï¼Œ2ï¼Œ2ï¼Œ3ï¼Œ4ï¼›æˆ–2ï¼Œ3ï¼Œ4ï¼Œ4ï¼Œ4ç­‰ç­‰ï¼‰ Solution two ï¼š é‡‡ç”¨é˜µåœ°æ”»å®ˆçš„æ€æƒ³ï¼š ç¬¬ä¸€ä¸ªæ•°å­—ä½œä¸ºç¬¬ä¸€ä¸ªå£«å…µï¼Œå®ˆé˜µåœ°ï¼›count = 1ï¼› é‡åˆ°ç›¸åŒå…ƒç´ ï¼Œcount++; é‡åˆ°ä¸ç›¸åŒå…ƒç´ ï¼Œå³ä¸ºæ•Œäººï¼ŒåŒå½’äºŽå°½,countâ€“ï¼›å½“é‡åˆ°countä¸º0çš„æƒ…å†µï¼Œåˆä»¥æ–°çš„iå€¼ä½œä¸ºå®ˆé˜µåœ°çš„å£«å…µï¼Œç»§ç»­ä¸‹åŽ»ï¼Œåˆ°æœ€åŽè¿˜ç•™åœ¨é˜µåœ°ä¸Šçš„å£«å…µï¼Œæœ‰å¯èƒ½æ˜¯ä¸»å…ƒç´ ã€‚ å†åŠ ä¸€æ¬¡å¾ªçŽ¯ï¼Œè®°å½•è¿™ä¸ªå£«å…µçš„ä¸ªæ•°çœ‹æ˜¯å¦å¤§äºŽæ•°ç»„ä¸€èˆ¬å³å¯]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå‰‘æŒ‡offerã€‹ å­—ç¬¦ä¸²çš„æŽ’åˆ—]]></title>
    <url>%2F2019%2F03%2F12%2F2019-03-11-1%2F</url>
    <content type="text"><![CDATA[OJ addresswebsite : ã€Šå‰‘æŒ‡offerã€‹å­—ç¬¦ä¸²çš„æŽ’åˆ— Descriptionè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²,æŒ‰å­—å…¸åºæ‰“å°å‡ºè¯¥å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„æ‰€æœ‰æŽ’åˆ—ã€‚ä¾‹å¦‚è¾“å…¥å­—ç¬¦ä¸²abc,åˆ™æ‰“å°å‡ºç”±å­—ç¬¦a,b,cæ‰€èƒ½æŽ’åˆ—å‡ºæ¥çš„æ‰€æœ‰å­—ç¬¦ä¸²abc,acb,bac,bca,cabå’Œcbaã€‚ Solution in C++class Solution &#123;public: vector&lt;string&gt; result; vector&lt;string&gt; Permutation(string str) &#123; if (!str.length()) return result; dfs(str, 0); sort(result.begin(), result.end()); return result; &#125; void dfs(string str, int begin) &#123; if (begin == str.length()) &#123; result.push_back(str); return; &#125; for (int i=begin;str[i]!='\0';++i) &#123; if (i!=begin &amp;&amp; str[begin]==str[i]) &#123; continue; &#125; swap(str[begin], str[i]); dfs(str, begin+1); swap(str[begin], str[i]); &#125; &#125;&#125;; My Ideaå…¨æŽ’åˆ—ç±»åž‹é¢˜ç›®ã€‚è§£é¢˜æ€è·¯å°±æ˜¯ï¼Œåˆ©ç”¨dfsæ·±åº¦éåŽ†ï¼Œçœ‹å›¾è¯´è¯ã€‚å›¾å·²ç»å¾ˆæ˜Žæ˜¾äº†ã€‚ æŠŠç¬¬ä¸€ä¸ªå­—ç¬¦ä¸Žå½“å‰å­—ç¬¦ä»¥åŠåŽé¢æ¯ä¸€ä¸ªå­—ç¬¦ä¾æ¬¡äº¤æ¢ï¼ŒèŽ·å¾—é¦–ä½åŽé¢çš„å­—ç¬¦ä¸²å†æ¬¡è¿›è¡Œé€’å½’ï¼› é€’å½’çš„å‡ºå£ï¼Œå°±æ˜¯åªå‰©ä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™ï¼Œé€’å½’çš„å¾ªçŽ¯è¿‡ç¨‹ï¼Œå°±æ˜¯ä»Žæ¯ä¸ªå­ä¸²çš„ç¬¬äºŒä¸ªå­—ç¬¦å¼€å§‹ä¾æ¬¡ä¸Žç¬¬ä¸€ä¸ªå­—ç¬¦äº¤æ¢ï¼Œç„¶åŽç»§ç»­å¤„ç†å­ä¸²ã€‚ ç”±äºŽå…¨æŽ’åˆ—å°±æ˜¯ä»Žç¬¬ä¸€ä¸ªæ•°å­—èµ·ï¼Œæ¯ä¸ªæ•°åˆ†åˆ«ä¸Žå®ƒåŽé¢çš„æ•°å­—äº¤æ¢ï¼Œæˆ‘ä»¬å…ˆå°è¯•åŠ ä¸ªè¿™æ ·çš„åˆ¤æ–­â€”â€”å¦‚æžœä¸€ä¸ªæ•°ä¸ŽåŽé¢çš„æ•°å­—ç›¸åŒé‚£ä¹ˆè¿™ä¸¤ä¸ªæ•°å°±ä¸äº¤æ¢äº†ã€‚ä¾‹å¦‚abbï¼Œç¬¬ä¸€ä¸ªæ•°ä¸ŽåŽé¢ä¸¤ä¸ªæ•°äº¤æ¢å¾—babï¼Œbbaã€‚ç„¶åŽabbä¸­ç¬¬äºŒä¸ªæ•°å’Œç¬¬ä¸‰ä¸ªæ•°ç›¸åŒï¼Œå°±ä¸ç”¨äº¤æ¢äº†ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå‰‘æŒ‡offerã€‹ äºŒå‰æœç´¢æ ‘ä¸ŽåŒå‘é“¾è¡¨]]></title>
    <url>%2F2019%2F03%2F11%2F2019-03-11%2F</url>
    <content type="text"><![CDATA[OJ addresswebsite : ã€Šå‰‘æŒ‡offerã€‹äºŒå‰æœç´¢æ ‘ä¸ŽåŒå‘é“¾è¡¨ Descriptionè¾“å…¥ä¸€æ£µäºŒå‰æœç´¢æ ‘ï¼Œå°†è¯¥äºŒå‰æœç´¢æ ‘è½¬æ¢æˆä¸€ä¸ªæŽ’åºçš„åŒå‘é“¾è¡¨ã€‚è¦æ±‚ä¸èƒ½åˆ›å»ºä»»ä½•æ–°çš„ç»“ç‚¹ï¼Œåªèƒ½è°ƒæ•´æ ‘ä¸­ç»“ç‚¹æŒ‡é’ˆçš„æŒ‡å‘ã€‚ Solution in C++class Solution &#123;public: TreeNode* Convert(TreeNode* pRootOfTree) &#123; TreeNode *pRootOfDuLInk = pRootOfTree; if (!pRootOfTree) return pRootOfTree; while(pRootOfDuLInk-&gt;left) pRootOfDuLInk = pRootOfDuLInk-&gt;left; TreeNode* pre = 0; traverse(pRootOfTree, pre); return pRootOfDuLInk; &#125; void traverse(TreeNode* node, TreeNode* &amp;pre) &#123; if (node-&gt;left) &#123; traverse(node-&gt;left, pre); &#125; node-&gt;left = pre; if (pre) &#123; pre-&gt;right = node; &#125; pre = node; if (node-&gt;right) &#123; traverse(node-&gt;right, pre); &#125; &#125;&#125;; My Ideaè§£é¢˜æ€è·¯å°±æ˜¯ï¼ŒäºŒå‰æœç´¢æ ‘çš„ä¸­åºéåŽ†å°±æ˜¯ä»Žå°åˆ°å¤§çš„ä¸€æ¬¡æŽ’åº, éœ€è¦è®°å½•ä¸€ä¸ªpreæŒ‡é’ˆï¼š é€šè¿‡ä¸­åºæŽ’åºï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„nextä¸ºä¸­åºæŽ’åºçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ è®°å½•ä¸€ä¸ªpreæŒ‡é’ˆï¼Œä¸»è¦æ˜¯è®°å½•ä¸­åºæŽ’åºçš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¿™æ ·èŠ‚ç‚¹å¯ä»¥é€šåƒ§å“¦leftæŒ‡é’ˆæŒ‡å‘preæŒ‡é’ˆï¼Œå°±å¯ä»¥å®ŒæˆåŒé“¾è¡¨çš„æ“ä½œäº†ã€‚ pre-&gt;right=current; current-&gt;left=preã€‚ éœ€è¦ä¿å­˜æŒ‡å‘ä¸Šä¸ªèŠ‚ç‚¹,éœ€è¦å¯¹æŒ‡é’ˆçš„å¼•ç”¨ TreeNode&amp; ,äº†è§£ä¸‹ &amp; çš„è¿žæŽ¥ç”¨æ³• extension: That is taking the parameter by reference. So in the first case you are taking a pointer parameter by reference so whatever modification you do to the value of the pointer is reflected outside the function. Second is the simlilar to first one with the only difference being that it is a double pointer. See this example: void pass_by_value(int* p)&#123; //Allocate memory for int and store the address in p p = new int;&#125;void pass_by_reference(int*&amp; p)&#123; p = new int;&#125;int main()&#123; int* p1 = NULL; int* p2 = NULL; pass_by_value(p1); //p1 will still be NULL after this call pass_by_reference(p2); //p2 's value is changed to point to the newly allocate memory return 0;&#125;]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[csså®žçŽ°divé«˜åº¦æ ¹æ®è‡ªé€‚åº”å®½åº¦ï¼ˆç™¾åˆ†æ¯”ï¼‰è°ƒæ•´]]></title>
    <url>%2F2019%2F03%2F10%2F2019-03-10-3%2F</url>
    <content type="text"><![CDATA[é—®é¢˜ç”¨çš„æœ€å¤šçš„æ ‡ç­¾Divå´ä¸èƒ½åšåˆ°è‡ªåŠ¨è°ƒæ•´ï¼ˆè¦ä¹ˆä»Žçˆ¶çº§ç»§æ‰¿ï¼Œè¦ä¹ˆè‡ªè¡ŒæŒ‡å®špxï¼Œè¦ä¹ˆç»™ç™¾åˆ†æ¯”ã€‚ä½†æ˜¯è¿™ä¸ªç™¾åˆ†æ¯”æ˜¯æ ¹æ®çˆ¶çº§çš„é«˜åº¦æ¥è®¡ç®—çš„ï¼Œæ ¹æœ¬ä¸æ˜¯æ ¹æ®å…ƒç´ è‡ªèº«çš„å®½åº¦ï¼Œé‚£ä¹ˆå°±åšä¸åˆ°Divçš„å®½é«˜è¾¾æˆä¸€å®šçš„æ¯”ä¾‹ è§£å†³æ–¹æ³•é€šè¿‡paddingæ¥å®žçŽ°æ­¤åŠŸèƒ½ï¼Œå®½åº¦çš„è‡ªé€‚åº”æ˜¯æ ¹æ®viewportçš„widthæ¥è°ƒæ•´çš„ï¼Œæ¯”å¦‚{widthï¼š50%}å°±æ˜¯æµè§ˆå™¨å¯è§†åŒºåŸŸçš„50%ï¼Œresizeä¹‹åŽä¹Ÿä¼šè‡ªåŠ¨è°ƒæ•´ã€‚paddingæ˜¯æ ¹æ®viewportçš„widthæ¥è°ƒæ•´çš„ï¼Œå·§å°±å·§åœ¨padding-topå’Œpadding-bottomä¹Ÿæ˜¯æ ¹æ®viewportçš„widthæ¥è®¡ç®—çš„ï¼Œé‚£ä¹ˆé€šè¿‡è®¾ç½®è¿™ä¸ªå±žæ€§å°±èƒ½è·Ÿwidthè¾¾æˆæŸç§æ¯”ä¾‹å…³ç³»äº† æˆ‘ä»¬é¦–å…ˆæŒ‡å®šå…ƒç´ çš„widthä¸ºçˆ¶çº§å…ƒç´ çš„50%,è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†è®¾ç½®elementçš„heightä¸º0ï¼Œpadding-bottom:50%; å®žä¾‹: .element{width:50%;height:0;padding-bottom:50%;background:#eee;} elementå°±å°±å˜æˆäº†ä¸€ä¸ªå®½åº¦50%ï¼Œé«˜åº¦ä¸º0ï¼ˆä½†æ˜¯ä»–æœ‰50%widthçš„padding-bottomï¼‰çš„æ­£æ–¹å½¢äº†ã€‚ æ€è€ƒä¸Žæ€»ç»“è¿™æ ·å°±å¯ä»¥é€šè¿‡è®¾å®šçˆ¶çº§å…ƒç´ fatherã€æˆ‘ä»¬éœ€è¦çš„å…ƒç´ elementã€å­çº§å…ƒç´ datailæ¥å®žçŽ°ä»»æ„æƒ…å†µä¸‹è¯¥éœ€æ±‚]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ã€Šå‰‘æŒ‡offerã€‹ å¤æ‚é“¾è¡¨çš„å¤åˆ¶]]></title>
    <url>%2F2019%2F03%2F10%2F2019-03-10-2%2F</url>
    <content type="text"><![CDATA[OJ addresswebsite : ã€Šå‰‘æŒ‡offerã€‹ å¤æ‚é“¾è¡¨çš„å¤åˆ¶ Descriptionè¾“å…¥ä¸€ä¸ªå¤æ‚é“¾è¡¨ï¼ˆæ¯ä¸ªèŠ‚ç‚¹ä¸­æœ‰èŠ‚ç‚¹å€¼ï¼Œä»¥åŠä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦ä¸€ä¸ªç‰¹æ®ŠæŒ‡é’ˆæŒ‡å‘ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œè¿”å›žç»“æžœä¸ºå¤åˆ¶åŽå¤æ‚é“¾è¡¨çš„headã€‚ï¼ˆæ³¨æ„ï¼Œè¾“å‡ºç»“æžœä¸­è¯·ä¸è¦è¿”å›žå‚æ•°ä¸­çš„èŠ‚ç‚¹å¼•ç”¨ï¼Œå¦åˆ™åˆ¤é¢˜ç¨‹åºä¼šç›´æŽ¥è¿”å›žç©ºï¼‰ Solution in C++struct RandomListNode &#123; int label; struct RandomListNode *next, *random; RandomListNode(int x) : label(x), next(NULL), random(NULL) &#123; &#125;&#125;;class Solution &#123;public: RandomListNode* Clone(RandomListNode* pHead) &#123; if (!pHead) return 0; map&lt;RandomListNode *, RandomListNode *&gt; nodeMap; RandomListNode *currentNode = pHead; RandomListNode *newHead = 0; RandomListNode *preNode = 0; RandomListNode *newNode = 0; while(currentNode)&#123; newNode = new RandomListNode(currentNode-&gt;label); nodeMap[currentNode] = newNode; if (!preNode) newHead = newNode; else preNode-&gt;next = newNode; preNode = newNode; currentNode = currentNode-&gt;next; &#125; currentNode = pHead; newNode = newHead; while (currentNode &amp;&amp; newNode) &#123; RandomListNode *randNode = currentNode-&gt;random; RandomListNode *newRandNode = nodeMap[randNode]; newNode-&gt;random = newRandNode; currentNode = currentNode-&gt;next; newNode = newNode-&gt;next; &#125; return newHead; &#125;&#125;; My Ideaé“¾è¡¨ç±»åž‹é¢˜ç›®ï¼Œä¸»è¦è€ƒå¯Ÿå¯¹mapå’Œé“¾è¡¨çš„ç»“åˆåº”ç”¨: é“¾è¡¨æœ‰ä¸¤ä¸ªèŠ‚ç‚¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯éšæœºèŠ‚ç‚¹ï¼Œç¬¬äºŒä¸ªæ˜¯NextèŠ‚ç‚¹ ç¬¬ä¸€æ¬¡éåŽ†ï¼Œé€šè¿‡nextéåŽ†ä¸€éé“¾è¡¨ï¼Œå¹¶ä¸”copyä¸€ä»½æ–°çš„é“¾è¡¨ï¼ˆåŒ…å«nextæŒ‡é’ˆï¼Œä½†cloneçš„é“¾è¡¨randomçš„æŒ‡é’ˆä¸ºç©ºï¼‰ï¼Œé€šè¿‡mapæŠŠcopyå‰çš„é“¾è¡¨å’ŒCopyåŽçš„é“¾è¡¨è¿›è¡Œä¸€ä¸€æ˜ å°„ã€‚ ç¬¬äºŒæ¬¡éåŽ†é“¾è¡¨ï¼Œå¹¶å°†copyåŽçš„é“¾è¡¨çš„randomæŒ‡é’ˆæŒ‡å‘åŽŸé“¾è¡¨ä¸­å¯¹åº”çš„èŠ‚ç‚¹çš„copyèŠ‚ç‚¹ï¼Œè¿™ä¸ªèŠ‚ç‚¹æ€Žä¹ˆæ‰¾åˆ°ï¼Ÿé€šè¿‡mapé›†åˆæŸ¥æ‰¾ã€‚ mapä½œç”¨å°±æ˜¯å¿«é€ŸæŸ¥æ‰¾randomæŒ‡å‘çš„å…ƒç´ ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Leetcode 22 Generate Parentheses]]></title>
    <url>%2F2019%2F03%2F10%2F2019-03-10-1%2F</url>
    <content type="text"><![CDATA[OJ addressLeetcode website : 22. Generate Parentheses DescriptionGiven n pairs of parentheses, write a function to generate all combinations of well-formed parentheses. For example, given n = 3, a solution set is: [ &quot;((()))&quot;, &quot;(()())&quot;, &quot;(())()&quot;, &quot;()(())&quot;, &quot;()()()&quot;] My Solution in C#include &lt;stdlib.h&gt;#include &lt;string.h&gt;int top = 0;char** generateParenthesis(int n, int* returnSize) &#123; if (n &lt;= 0) &#123; *returnSize = 0; return 0; &#125; top = 0; char **returnArray = calloc(3000, sizeof(char *)); char * newArray = calloc(n*2+1, sizeof(char)); dfs(0, n, returnArray, newArray, 0, 0); *returnSize = top; return returnArray;&#125;void dfs(int index, int n, char **returnArray, char *newArray, int left, int right) &#123; if (right == n) &#123; newArray[n*2] = '\0'; char *array = calloc(n*2+1, sizeof(char)); memcpy(array, newArray, n*2+1); returnArray[top++] = array; return; &#125; if (left &lt; n) &#123; newArray[index] = '('; dfs(index+1, n, returnArray, newArray, left+1, right); &#125; if (right &lt; left) &#123; newArray[index] = ')'; dfs(index+1, n, returnArray, newArray, left, right+1); &#125;&#125; My Ideaè¿™æ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„DFSé¢˜ç›®ï¼Œæ¯”è¾ƒeasyï¼Œä½†æ˜¯è¦æ³¨æ„å‡ ä¸ªå‘ï¼š æ•°ç»„è¦è¶³å¤Ÿå¤§ï¼Œä¸ç„¶ä¼šæŠ¥Runtimeé”™è¯¯ï¼Œä¸è¦ä»…ä»…é€šè¿‡n n n * nä»¥ä¸ºæ•°ç»„å°±è¿™ä¹ˆå¤§ï¼Œå…¶å®žæ¯”ä½ è®¤ä¸ºçš„è¦å¤§å¾ˆå¤šã€‚ ä½¿ç”¨memcpyæ–¹æ³•æ—¶ï¼Œä¸€å®šè¦è®°å¾—é•¿åº¦å’Œæ•°ç»„é•¿åº¦ç›¸åŒï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[React Nativeé¡µé¢å‡ºçŽ°å†…å­˜å¢žåŠ ä¸é‡Šæ”¾é—®é¢˜]]></title>
    <url>%2F2019%2F03%2F10%2F2019-03-10%2F</url>
    <content type="text"><![CDATA[åˆ†äº«è§£å†³çš„ä¸€ä¸ªBug ï¼Œ ä»ŽiOSé¡µé¢è¿›å…¥React Nativeé¡µé¢ä¼šå‡ºçŽ°å†…å­˜å¢žåŠ ä¸é‡Šæ”¾é—®é¢˜ï¼Œæ¯æ¬¡è¿›å…¥é€€å‡ºå°±ä¼šä¸€ç›´å¢žåŠ ï¼Œç„¶åŽçœ‹äº†ä¸‹æˆ‘ä»¬çš„æ–¹æ³•ï¼Œå¦‚ä¸‹: override func loadView() &#123; let url = URL(string: "http://localhost:8081/index.bundle?platform=ios") let rcRootView = RCTRootView(bundleURL: url, moduleName: "RN", initialProperties: properties, launchOptions: nil) view = rcRootView&#125; å¯¹ï¼Œæ ‡å‡†çš„åŠ è½½RNé¡µé¢çš„æ–¹å¼ï¼Œä½†æ˜¯è¿™æ ·åŠ è½½ï¼Œå°±ä¼šå‡ºçŽ°å†…å­˜æ³„æ¼çš„æƒ…å†µï¼Œæ˜¯å› ä¸ºRTCBridgeå†…å­˜å¹¶æ²¡æœ‰é‡Šæ”¾æŽ‰å¯¼è‡´çš„è¿™ä¸ªbug. RCTBridge: æ‰€æœ‰çš„æ¨¡å—éƒ½ä¿å­˜åœ¨å†…å­˜çš„é™æ€å¸¸é‡åŒºåŸŸï¼Œè¿™ä¸ªå†…å­˜ç©ºé—´æ˜¯åœ¨RCTBridgeä¸­è¢«åˆå§‹åŒ–çš„ã€‚å› æ­¤è¿™äº›æ¨¡å—å±žäºŽå…¨å±€çš„å˜é‡ï¼Œå¯ä»¥åœ¨ä¸åŒçš„bridgeä¹‹é—´å…±äº«ã€‚ å› æ­¤æ¯æ¬¡è¿”å›žåˆ°iOSé¡µé¢çš„æ—¶å€™ï¼Œä½ è¦åŠæ—¶å°†RTCBridgeé‡Šæ”¾æŽ‰ã€‚ ä»£ç å¦‚ä¸‹ï¼š var rtcBridge : RCTBridge? init() &#123; super.init(nibName: nil, bundle: nil)&#125; deinit &#123; rtcBridge?.invalidate() rtcBridge = nil;&#125; override func loadView() &#123; let url = URL(string: "http://localhost:8081/index.bundle?platform=ios") let rcRootView = RCTRootView(bundleURL: url, moduleName: "RN", initialProperties: properties, launchOptions: nil) rtcBridge = rcRootView?.bridge view = rcRootView&#125; è¿™æ ·å°±å¯ä»¥å°†å†…å­˜é‡Šæ”¾äº†ï¼Œè¿™ä¸ªé—®é¢˜ï¼Œçœ‹ä¸ŠåŽ»è§£å†³å¾ˆç®€å•ï¼Œä½†ä¸çŸ¥é“å¤šå°‘äººä¸ç†è§£åŽŸç†ï¼Œè€Œå‡ºçŽ°è¿™ä¸ªå†…å­˜æ³„æ¼ï¼Œè€Œä¸”æ˜¯å¾ˆä¸¥é‡çš„å†…å­˜æ³„æ¼ï¼Œæ¥å›žåˆ‡æ¢å‡ æ¬¡ï¼Œç¨‹åºå°±ä¼šcrushäº†ã€‚æ‰€ä»¥è¦å­¦å­¦Bottom-up.]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS APPæ‰“åŒ…ä¸Šä¼ åˆ°App Storeçš„æµç¨‹]]></title>
    <url>%2F2019%2F03%2F08%2F2019-03-08%2F</url>
    <content type="text"><![CDATA[ä¸Šä¼ å‰çš„æ“ä½œå‘ç‰ˆå‰è‡ªæµ‹DPç”Ÿäº§çŽ¯å¢ƒæ˜¯å¦æœ‰é—®é¢˜ è‡ªæµ‹æ‰€æœ‰åŠŸèƒ½ç‚¹æ˜¯å¦æœ‰é—®é¢˜ ä¿®æ”¹DejaFashionä»¥åŠPushServiceçš„ Version | Build ä¾‹å¦‚: Build æŒ‰ç…§æ—¶é—´æ–¹å¼æ˜¾ç¤º: 2019 | 0305 | 11:10 é€‰æ‹©æ­£ç¡®çš„Archivearchive -&gt; Build Configuration : é€‰æ‹©AppStoreDis Upload to App Store.æŒ‰ç…§é»˜è®¤çš„é€‰é¡¹ä¸Šä¼  Next - Upload ä¸Šä¼ æˆåŠŸï¼Œæ²¡æœ‰è­¦å‘Šæ‰èƒ½ç»§ç»­ä¸‹ä¸€æ­¥ã€‚ iTunes Connect ä¸Šä¼ appæ‰“å¼€ https://itunesconnect.apple.com/ æŒ‰ç…§å¦‚ä¸‹é€‰æ‹©å¹¿å‘Šä»¥åŠå‡ºå£ä¿¡æ¯ï¼Œå¹¶ä¸”æäº¤åˆ°Appstoreå®¡æ ¸å°±OK. ä¸Šä¼ æˆåŠŸåŽçš„æ“ä½œmasteråˆ†æ”¯åˆå¹¶åˆ°releaseä¸­ç‚¹å‡» New merge request å°†master mergeåˆ° releaseåˆ†æ”¯ä¸­ æ‰“ä¸ŠTagåœ¨gitlabä¸­æ‰“ä¸€ä¸ªtagsï¼Œåç§°ä¸ºç‰ˆæœ¬å·åŠ æ—¥æœŸ: ios_7.4.1.190308ï¼ŒåŽé¢å¤‡æ³¨ä¿®æ”¹å†…å®¹ Xcode archive appstore dis / devåœ¨Xcodeä¸Šé¢archiveä¸¤ä¸ªåŒ…ï¼Œåˆ†åˆ«æ˜¯AppStoreDis | AppStoreDev ä¸Šä¼ åˆ° HockeyApp devçš„åŒ…éœ€è¦é€‰æ‹©çš„é€‰é¡¹ä¸º Release type: Enterprise Upload file types: .ipa &amp; .dSYM.zip Notify Testers ä¸»è¦ç”¨äºŽæµ‹è¯•äººå‘˜æµ‹è¯•çº¿ä¸Šç‰ˆæœ¬ disçš„åŒ…éœ€è¦é€‰æ‹©çš„é€‰é¡¹ä¸º Release type: Store Upload file types: Only .dSYM.zip Aviailable in Store diså‘å¸ƒåœ¨HockeyAppä¸»è¦ç”¨äºŽcrushçš„å®žæ—¶ç›‘æŽ§.]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[CS50's Mobile App Development with React Native (Lecture three)]]></title>
    <url>%2F2019%2F02%2F07%2F2019-02-07-1%2F</url>
    <content type="text"><![CDATA[Lecture three: React, Props, Stateè¿™ä¸€èŠ‚ä¸»è¦éƒ½æ˜¯ä¾‹å­ä»¥åŠDemoï¼ŒæŒ‰ç…§ä¸Šè¯¾çš„é¡ºåºï¼Œå°†Codeè¯´ä¸‹ SetSet é›†åˆçš„å®šä¹‰ï¼Œconstructoræ˜¯æž„å»ºèµ·ï¼Œç±»ä¼¼initï¼Œåˆå§‹åŒ–çš„ä¼ å‚ã€‚thisç›¸å½“äºŽocä¸­çš„self. arr.push(val) åœ¨æ•°ç»„ä¸­æ’å…¥valè¿™ä¸ªå…ƒç´ arr.filter(x =&gt; x!==val) è¿‡æ»¤æŽ‰å’Œvalç›¸åŒçš„value.arr.includes(x) æ˜¯å¦åŒ…å«xè¿™ä¸ªvaluearr.length è¿”å›žæ•°ç»„é•¿åº¦. è¿™æ˜¯è®²è§£ç±»çš„æž„é€ ï¼ŒSetç±»çš„åŠŸèƒ½æ˜¯æ’å…¥çš„å…ƒç´ ï¼Œä¸èƒ½æœ‰ç›¸åŒçš„å…ƒç´ ã€‚ // Set should maintain a list of unique values and should support add, delete, and inclusion// It should also have the ability to get its sizeclass Set &#123; constructor(arr) &#123; this.arr = arr &#125; add(val) &#123; if (!this.has(val)) this.arr.push(val) &#125; delete(val) &#123; this.arr = this.arr.filter(x =&gt; x !== val) &#125; has(val) &#123; return this.arr.includes(val) &#125; get size() &#123; return this.arr.length &#125;&#125;const s = new Set([1,2,3,4,5])// trying to add the same value shouldn't works.add(1)s.add(1)s.add(1)console.log('s should have 5 members and actually has:', s.size)console.log('s should contain 5:', s.has(5))s.add(6)console.log('s should contain 6:', s.has(6))console.log('s should have 6 members and actually has:', s.size)s.delete(6)console.log('s should no longer contain 6:', !s.has(6))console.log('s should have 5 members and actually has:', s.size) Class Extendsç±»æ‰©å±•æ–¹æ³•å¦‚ä¸‹ï¼Œé€šè¿‡ç±»ååŽé¢å¢žåŠ extends. // We can also extend the native implementation of Set if we wanted to do something// like log on addition or create new methodsclass MySet extends Set &#123; constructor(arr) &#123; super(arr) this.originalArray = arr &#125; add(val) &#123; super.add(val) console.log(`added $&#123;val&#125; to the set!`) &#125; toArray() &#123; return Array.from(this) &#125; reset() &#123; return new MySet(this.originalArray) &#125;&#125;const s = new MySet([1,2,3,4,5])s.add(6)s.add(7)console.log(s.toArray())const reset = s.reset()console.log(reset.toArray()) spread â€¦å®šä¹‰ï¼šæ‰©å±•è¿ç®—ç¬¦ï¼ˆ spread ï¼‰æ˜¯ä¸‰ä¸ªç‚¹ï¼ˆâ€¦ï¼‰ã€‚å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ã€‚ å°†æ•°ç»„è½¬åŒ–ä¸ºéåŽ†çš„å…ƒç´ ï¼Œä¸¾ä¾‹è¯´æ˜Žï¼š console.log(...[1, 2, 3])// 1 2 3console.log(1, ...[2, 3, 4], 5)// 1 2 3 4 5[...document.querySelectorAll('div')] å¯ä»¥å°†æ•°ç»„è½¬åŒ–ä¸ºå‡½æ•°ä½“çš„å‚æ•° function push(array, ...items) &#123; array.push(...items);&#125;function add(x, y) &#123; return x + y;&#125;var numbers = [4, 38];add(...numbers) // 42 æ‰©å±•è¿ç®—ç¬¦ä¸Žæ­£å¸¸çš„å‡½æ•°å‚æ•°å¯ä»¥ç»“åˆä½¿ç”¨ï¼Œéžå¸¸çµæ´» function f(v, w, x, y, z) &#123; &#125;var args = [0, 1];f(-1, ...args, 2, ...[3]); æ‰©å±•è¿ç®—ç¬¦å†…éƒ¨è°ƒç”¨çš„æ˜¯æ•°æ®ç»“æž„çš„ Iterator æŽ¥å£ï¼Œå› æ­¤åªè¦å…·æœ‰ Iterator æŽ¥å£çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦ï¼Œæ¯”å¦‚ Map ç»“æž„ï¼š let map = new Map([ [1, 'one'], [2, 'two'], [3, 'three'],]);let arr = [...map.keys()] .map()From the classic forloop to the forEach() method, various techniques and methods used to iterate through datasets abound JavaScript. However, one of the more popular methods is the .map() method .map() ç±»ä¼¼foreachçš„æžšä¸¾ï¼Œå°±æ˜¯è®²æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æ‰§è¡Œä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•ã€‚ ä¸¾ä¾‹è¯´æ˜Žï¼š const sweetArray = [2, 3, 4, 5, 35]const sweeterArray = sweetArray.map(sweetItem =&gt; &#123; return sweetItem * 2&#125;)console.log(sweeterArray) // [4, 6, 8, 10, 70] This can even be simplified further to make it cleaner with: // create a function to useconst makeSweeter = sweetItem =&gt; sweetItem * 2;// we have an arrayconst sweetArray = [2, 3, 4, 5, 35];// call the function we made. more readableconst sweeterArray = sweetArray.map(makeSweeter);console.log(sweeterArray); // [4, 6, 8, 10, 70] è¿˜å¯ä»¥Converting a String to an Arrayï¼Œç±»ä¼¼ .split()åŠŸèƒ½ ä¸¾ä¸ªæ —å­ï¼š const name = "Chuloo"const map = Array.prototype.mapconst newName = map.call(name, eachLetter =&gt; &#123; return `$&#123;eachLetter&#125;a`&#125;)console.log(newName) // ["Ca", "ha", "ua", "la", "oa", "oa"] Hereâ€™s a good example of a React component. Rendering Lists in JavaScript Libraries, for instance: import React from "react";import ReactDOM from "react-dom";const names = ["john", "sean", "mike", "jean", "chris"];const NamesList = () =&gt; ( &lt;div&gt; &lt;ul&gt;&#123;names.map(name =&gt; &lt;li key=&#123;name&#125;&gt; &#123;name&#125; &lt;/li&gt;)&#125;&lt;/ul&gt; &lt;/div&gt;);const rootElement = document.getElementById("root");ReactDOM.render(&lt;NamesList /&gt;, rootElement); How about handling objects in an array? å°±æ˜¯å¯¹è±¡åœ¨æ•°ç»„ä¸­çš„éåŽ†åº”ç”¨ã€‚ const myUsers = [ &#123; name: 'chuloo', likes: 'grilled chicken' &#125;, &#123; name: 'chris', likes: 'cold beer' &#125;, &#123; name: 'sam', likes: 'fish biscuits' &#125;]const usersByFood = myUsers.map(item =&gt; &#123; const container = &#123;&#125;; container[item.name] = item.likes; container.age = item.name.length * 10; return container;&#125;)console.log(usersByFood);// [&#123;chuloo: "grilled chicken", age: 60&#125;, &#123;chris: "cold beer", age: 50&#125;, &#123;sam: "fish biscuits", age: 30&#125;] Reactâ€˜s exampleä¸‹é¢è¿™ä¸ªä¹Ÿæ˜¯è®²è§£çš„ä¸€ä¸ªä¾‹å­ï¼Œè¿™ä¸ªç”¨åˆ°äº†JSXçš„ä¸€äº›ç‰¹æ€§ï¼Œ.map()ï¼Œä»¥åŠæ‰©å±•è¿ç®—â€¦éƒ½æœ‰ç”¨åˆ°ï¼Œæ˜¯ä¸ªç†è§£React å¾ˆå¥½çš„ä¾‹å­ï¼Œå¯ä»¥é€šè¿‡ https://codesandbox.io ç›´æŽ¥è¿è¡ŒæŸ¥çœ‹ç½‘é¡µæ˜¾ç¤ºã€‚ import React from 'react';import &#123; render &#125; from 'react-dom';let id = 0const Todo = props =&gt; ( &lt;li&gt; &lt;input type="checkbox" checked=&#123;props.todo.checked&#125; onChange=&#123;props.onToggle&#125; /&gt; &lt;button onClick=&#123;props.onDelete&#125;&gt;delete&lt;/button&gt; &lt;span&gt;&#123;props.todo.text&#125;&lt;/span&gt; &lt;/li&gt;)class App extends React.Component &#123; constructor() &#123; super() this.state = &#123; todos: [], &#125; &#125; addTodo() &#123; const text = prompt("TODO text please!") this.setState(&#123; todos: [ ...this.state.todos, &#123;id: id++, text: text, checked: false&#125;, ], &#125;) &#125; removeTodo(id) &#123; this.setState(&#123; todos: this.state.todos.filter(todo =&gt; todo.id !== id) &#125;) &#125; toggleTodo(id) &#123; this.setState(&#123; todos: this.state.todos.map(todo =&gt; &#123; if (todo.id !== id) return todo return &#123; id: todo.id, text: todo.text, checked: !todo.checked, &#125; &#125;) &#125;) &#125; render() &#123; return ( &lt;div&gt; &lt;div&gt;Todo count: &#123;this.state.todos.length&#125;&lt;/div&gt; &lt;div&gt;Unchecked todo count: &#123;this.state.todos.filter(todo =&gt; !todo.checked).length&#125;&lt;/div&gt; &lt;button onClick=&#123;() =&gt; this.addTodo()&#125;&gt;Add TODO&lt;/button&gt; &lt;ul&gt; &#123;this.state.todos.map(todo =&gt; ( &lt;Todo onToggle=&#123;() =&gt; this.toggleTodo(todo.id)&#125; onDelete=&#123;() =&gt; this.removeTodo(todo.id)&#125; todo=&#123;todo&#125; /&gt; ))&#125; &lt;/ul&gt; &lt;/div&gt; ) &#125;&#125;render(&lt;App /&gt;, document.getElementById('root')); Thatâ€™s all.]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Convert Dictionary to JSON in Swift4.2]]></title>
    <url>%2F2019%2F02%2F07%2F2019-02-07%2F</url>
    <content type="text"><![CDATA[Sometimes itâ€™s necessary to print out serverâ€™s response for debugging purposes. Hereâ€™s a function I use: extension Dictionary &#123; var json: String &#123; let invalidJson = "Not a valid JSON" do &#123; let jsonData = try JSONSerialization.data(withJSONObject: self, options: .prettyPrinted) return String(bytes: jsonData, encoding: String.Encoding.utf8) ?? invalidJson &#125; catch &#123; return invalidJson &#125; &#125; func printJson() &#123; print(json) &#125;&#125; or print dic directly do &#123; let jsonData = try JSONSerialization.data(withJSONObject: dic, options: .prettyPrinted) print (String(bytes: jsonData, encoding: String.Encoding.utf8) ?? 0)&#125; catch &#123; &#125; çœ‹åˆ°è¿™ä¸ªæ–¹æ³•æ„Ÿè§‰å¾ˆç®€å•ï¼Œä½†æ˜¯ä¸çŸ¥é“å¤šå°‘iOSå¼€å‘è€…ï¼Œä¸€ç›´é€šè¿‡æŠ“åŒ…çš„æ–¹å¼æ¥æŸ¥çœ‹ç½‘ç»œè¯·æ±‚çš„Jsonï¼Œæˆ–è€…åœ¨ç½‘ç«™ä¸Šè¿›è¡Œè½¬åŒ–ï¼Œè€Œä¸ä¼šé€šè¿‡æ‰“å°æ—¥å¿—çš„æ–¹å¼å°†JsonæŒ‰è§„èŒƒæ ¼å¼ç›´æŽ¥æ‰“å°åœ¨æŽ§åˆ¶å°ä¸Šé¢ã€‚]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Leetcode 17 Letter Combinations of a Phone Number]]></title>
    <url>%2F2019%2F02%2F03%2F2019-02-03%2F</url>
    <content type="text"><![CDATA[OJ addressLeetcode website : 17. Letter Combinations of a Phone Number DescriptionGiven a string containing digits from 2-9 inclusive, return all possible letter combinations that the number could represent. A mapping of digit to letters (just like on the telephone buttons) is given below. Note that 1 does not map to any letters. Example: Input: â€œ23â€Output: [â€œadâ€, â€œaeâ€, â€œafâ€, â€œbdâ€, â€œbeâ€, â€œbfâ€, â€œcdâ€, â€œceâ€, â€œcfâ€]. My Solution in C#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;string.h&gt;int indexValue = 0;void dfs(const char *s ,char** letter_matrix, int count, int n, char **returnArray, char *newArray);char** letterCombinations(char* digits, int* returnSize) &#123; if (!strlen(digits)) &#123; *returnSize = 0; return 0; &#125; indexValue = 0; char *letter_matrix[10]; letter_matrix[0] = " "; letter_matrix[1] = " "; letter_matrix[2] = "abc"; letter_matrix[3] = "def"; letter_matrix[4] = "ghi"; letter_matrix[5] = "jkl"; letter_matrix[6] = "mno"; letter_matrix[7] = "pqrs"; letter_matrix[8] = "tuv"; letter_matrix[9] = "wxyz"; char *s = malloc(sizeof(char) * strlen(digits)); memset(s, '\0', strlen(digits)); int j =0; for (int i=0;digits[i]!='\0';++i) &#123; if (digits[i]== '0' || digits[i] == '1') continue; s[j++] = digits[i]; &#125; s[j] = '\0'; int n = strlen(s); if (!n) &#123; *returnSize = 0; return 0; &#125; int sum = 1; for (int i=0;i&lt;n;++i) &#123; if (s[i] == '7' || s[i] == '9') &#123; sum *=4; continue; &#125; sum *=3; &#125; *returnSize = sum; char **returnArray = malloc(sizeof(char *) * sum + 10); memset(returnArray, '\0', sizeof(char *) * sum + 10); char* newArray = malloc(sizeof(char) * (n+1) ); dfs(s, letter_matrix, 0, n, returnArray, newArray); return returnArray;&#125;void dfs(const char *s ,char** letter_matrix, int count, int n, char **returnArray, char *newArray) &#123; if (count == n) &#123; newArray[count] = '\0'; char* array = malloc(sizeof(char) * (n+1) ); memcpy(array, newArray, n); array[count] = '\0'; returnArray[indexValue++] = array; return; &#125; int len = strlen(letter_matrix[s[count]-'0']); for(int i=0;i&lt;len;++i) &#123; newArray[count] = letter_matrix[s[count]-'0'][i]; dfs(s, letter_matrix, count+1, n, returnArray, newArray); &#125;&#125;int main(int argc, char const *argv[])&#123; char *s = "8\0"; int *returnsize = malloc(sizeof(int)*1000); char **dd = letterCombinations(s,returnsize); for(int i=0;i&lt;*returnsize;++i) &#123; printf("%s\n", dd[i]); &#125; return 0;&#125; Others Solution in C++ DFSclass Solution &#123;public: vector&lt;string&gt; letterCombinations(string digits) &#123; if (digits.empty()) return &#123;&#125;; vector&lt;vector&lt;char&gt;&gt; d(10); d[0] = &#123;' '&#125;; d[1] = &#123;&#125;; d[2] = &#123;'a','b','c'&#125;; d[3] = &#123;'d','e','f'&#125;; d[4] = &#123;'g','h','i'&#125;; d[5] = &#123;'j','k','l'&#125;; d[6] = &#123;'m','n','o'&#125;; d[7] = &#123;'p','q','r','s'&#125;; d[8] = &#123;'t','u','v'&#125;; d[9] = &#123;'w','x','y','z'&#125;; string cur; vector&lt;string&gt; ans; dfs(digits, d, 0, cur, ans); return ans; &#125;private: void dfs(const string&amp; digits, const vector&lt;vector&lt;char&gt;&gt;&amp; d, int l, string&amp; cur, vector&lt;string&gt;&amp; ans) &#123; if (l == digits.length()) &#123; ans.push_back(cur); return; &#125; for (const char c : d[digits[l] - '0']) &#123; cur.push_back(c); dfs(digits, d, l + 1, cur, ans); cur.pop_back(); &#125; &#125;&#125;; Others Solution in C++ BFSclass Solution &#123;public: vector&lt;string&gt; letterCombinations(string digits) &#123; if (digits.empty()) return &#123;&#125;; vector&lt;vector&lt;char&gt;&gt; d(10); d[0] = &#123;' '&#125;; d[1] = &#123;&#125;; d[2] = &#123;'a','b','c'&#125;; d[3] = &#123;'d','e','f'&#125;; d[4] = &#123;'g','h','i'&#125;; d[5] = &#123;'j','k','l'&#125;; d[6] = &#123;'m','n','o'&#125;; d[7] = &#123;'p','q','r','s'&#125;; d[8] = &#123;'t','u','v'&#125;; d[9] = &#123;'w','x','y','z'&#125;; vector&lt;string&gt; ans&#123;""&#125;; for (char digit : digits) &#123; vector&lt;string&gt; tmp; for (const string&amp; s : ans) for (char c : d[digit - '0']) tmp.push_back(s + c); ans.swap(tmp); &#125; return ans; &#125;&#125;; My IdeaSolution via DFS: Time complexity: O(4^n), n is the length of the input without â€˜0â€™ and â€˜1â€™.Space complexity: O(4^n + n) Solution via BS: Time complexity: O(4^n)Space complexity: O(4^n * 2) I solve it via C language, itâ€™s so difficult than C++, because â€˜charâ€™ is not comfortbal than â€˜Stringâ€™, but I like resolve it by C. You can resolve it via DBS or BFS, the question is medium level. The question check our programming about knowledge of DFSã€BFS and double dimensional array. All of them deserve a AC. ps: èŠ±äº†æˆ‘ä¸€ä¸Šåˆçš„æ—¶é—´è§£ç­”è¿™é“é¢˜ï¼Œå¤ªä¹…æ²¡çŽ©DFSï¼Œæ‰‹å¾ˆç”Ÿï¼Œä»¥è‡³äºŽåˆé¤æ—¶é—´éƒ½è¿‡äº†ï¼Œé¢˜ç›®ä¸è§£å†³ï¼Œåƒé¥­éƒ½æ²¡å¿ƒæ€ã€‚çŽ°åœ¨è§£å†³äº†ï¼ŒåŽ»åƒåˆé¤å•¦.äº‰å–ä»Šæ™šæžå®šä¸€ä¸ªARPS.]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[CS50's Mobile App Development with React Native (Lecture two)]]></title>
    <url>%2F2019%2F02%2F02%2F2019-02-02%2F</url>
    <content type="text"><![CDATA[Lecture two: JavaScript, ES6è¿™ä¸€èŠ‚ä¸œè¥¿æœ‰ç‚¹å¤šï¼ŒæŒ‰ç…§ä¸Šè¯¾çš„é¡ºåºï¼Œå°†ä¾‹å­è®²è§£ä¸€ä¸‹. closure Bugå…³äºŽä¸€ä¸ªä½œç”¨åŸŸå¼•èµ·çš„bugï¼Œä»£ç å¦‚ä¸‹ï¼š function makeFunctionArray() &#123; const arr = [] for (var i = 0; i &lt; 5; i++) &#123; arr.push(function () &#123; console.log(i) &#125;) &#125; return arr&#125;const functionArr = makeFunctionArray()// we expect this to log 0, but it doesn'tfunctionArr[0]() è¾“å‡ºçš„ç»“æžœä¸æ˜¯0ï¼Œè¿™ä¸ªbugä¼°è®¡ä¹Ÿåªæœ‰javascriptçš„ç¨‹åºå‘˜æ‰èƒ½çœ‹å¾—å‡ºæ¥ã€‚ å› ä¸ºvarçš„ä½œç”¨åŸŸçš„åŽŸå› ï¼Œåªè¦i++äº†ï¼Œé‚£ä¹ˆä¹‹åŽæ‰€æœ‰çš„iå€¼éƒ½æ˜¯æœ€æ–°çš„ï¼Œæ‰€æœ‰æ‰“å°å‡ºæ¥çš„ç»“æžœæ˜¯5,arrä¿å­˜çš„æ˜¯iå˜é‡çš„è¾“å‡ºå€¼ï¼Œæ‰€ä»¥æ•°ç»„è¾“å‡ºéƒ½æ˜¯5.å¦‚æžœç”¨letæˆ–è€…constæ›¿æ¢varï¼Œè¾“å‡ºçš„ç»“æžœå°±æ˜¯æ­£ç¡®ç­”æ¡ˆï¼šï¼ˆ0ã€1ã€2ã€3ã€4ï¼‰ è¿™ä¸ªå°±æ˜¯colureå¯èƒ½å¼•èµ·çš„é—®é¢˜,å°½é‡ä¸è¦ç”¨varï¼Œå› ä¸ºvarçš„ç”Ÿå‘½å‘¨æœŸå¤ªä¹…ã€‚ å¦‚ä½•ç”¨varçš„æ–¹å¼æ‰“å°å‡ºæ¥ä¸æ˜¯varçš„å€¼å‘¢ï¼Ÿé€šè¿‡IIFEsè¿›è¡Œè§£å†³,ä¾‹å­å¦‚ä¸‹: function makefunctionArray() &#123; const arr = [] for (var i=0; i&lt;5; ++i) &#123; arr.push((function (x) &#123; return function () &#123;console.log(x)&#125; &#125;)(i)) &#125; return arr&#125;const functionArr = makefunctionArray()functionArr[0]() è¿™æ ·çš„è¯ functionArr0 æ‰“å°å‡ºæ¥å°±æ˜¯æˆ‘ä»¬çš„excepted result. IIFEs(Immediately Invoked Functions Expressions)æ˜¯ä¸€ç§ç”¨ä¾†å»ºç«‹ function çš„æ–¹æ³•ï¼Œå°±æ˜¯ç”¨ function expression çš„æ–¹å¼å»ºç«‹å‡½æ•°åŽå¹¶ç«‹å³æ‰§è¡Œ å»ºç«‹ function çš„æ–¹æ³•é€šå¸¸æœ‰ function statement å’Œ function expressionï¼Œä¸‹é¢æ˜¯ä¸‰ç§å»ºç«‹å‡½æ•°çš„æ–¹æ³•ï¼š // function statementfunction sayHello(name) &#123; console.log('Hello ' + name);&#125;sayHello('PJCHEN');// function expressionvar sayWelcome = function(name) &#123; console.log('Welcome, ' + name);&#125;sayWelcome('PJCHEN');// Immediately Invoked Functions Expressions (IIFEs)var sayWelcomeIIFEs = function(name) &#123; console.log('Welcome ' + name);&#125;('Levi'); IIFEsï¼Œå¯ä»¥ç›´æŽ¥ç”¨.è¯­æ³•æ¥è°ƒç”¨returnçš„å‡½æ•°ï¼Œè¿™ç§å†™æ³•æ¯”è¾ƒå¥‡ç‰¹ï¼Œç®—æ˜¯javascriptä¸“æœ‰çš„ç‰¹æ€§ã€‚ const sayHello = (function () &#123; var message = 'Hello!' function sayHello() &#123; console.log(message) &#125; return sayHello&#125;)()const counter = (function() &#123; let count = 0 return &#123; inc: function() &#123; count = count + 1 &#125;, get: function() &#123; console.log(count) &#125;, &#125;&#125;)()counter.get()counter.inc()counter.get() Higher Order Functionså‡½æ•°çš„å‚æ•°æ˜¯å¯ä»¥ä¼ å‡½æ•°è¿›æ¥ï¼Œä¸‹é¢æ˜¯ä¾‹å­ï¼Œè¿™ä¹Ÿæ˜¯JavaScriptç‹¬åˆ°çš„æ–°ç‰¹æ€§ã€‚ function map(arr, fn) &#123; const newArr = [] arr.forEach(function(val) &#123; newArr.push(fn(val)) &#125;) return newArr&#125;function addOne(num) &#123; return num + 1 &#125;const x = [0,1,2,3]console.log(map(x, addOne))function filter(arr, fn) &#123; const newArr = [] arr.forEach(val =&gt; &#123; if (fn(val)) newArr.push(val) &#125;) return newArr&#125;function reduce(arr, fn, initialVal) &#123; let returnVal = initialVal arr.forEach(val =&gt; &#123; returnVal = fn(returnVal, val) &#125;) return returnVal&#125; asyncåˆ©ç”¨setTimeoutå‡½æ•°æ¥è¿›è¡Œå¼‚æ­¥çº¿ç¨‹è¿è¡Œ function printOne() &#123; console.log('one')&#125;function printTwo() &#123; console.log('two')&#125;function printThree() &#123; console.log('three')&#125;// this may not print in the order that you expect, because of the way the JS// function queue workssetTimeout(printOne, 1000)setTimeout(printTwo, 0)printThree() Callbackä¸‹é¢æ˜¯Callbackçš„å‡½æ•°ç”¨æ³•ï¼Œcallbackç±»ä¼¼äºŽobjective-cä¸­çš„blockå‡½æ•°ï¼Œç”±äºŽå‡½æ•°å¯ä»¥å½“åšå‚æ•°ä½¿ç”¨ï¼Œæ‰€ä»¥å°±ä¸éœ€è¦blockçš„å‡½æ•°å®šä¹‰äº†ï¼Œç›´æŽ¥ä¼ å‡½æ•°è¿›åŽ»å°±å¥½äº†ï¼Œè¿™ä¸€ç‚¹javascriptæ˜¯çœŸçš„æ–¹ä¾¿ã€‚ // this is a HOF that invokes the function argument on 1function doSomethingWithOne(callback) &#123; return callback(1)&#125;doSomethingWithOne(console.log)// this is the same thing, but done asynchronouslyfunction doSomethingWithOneAsync(callback) &#123; setTimeout(() =&gt; callback(1), 1000)&#125;doSomethingWithOneAsync(console.log)// this simulates a database call that returns an object representing a personfunction getUserFromDatabase(callback) &#123; // simulates getting data from db setTimeout(() =&gt; callback(&#123;firstName: 'Jordan', lastName: 'Hayashi'&#125;), 1000)&#125;// this is a function that greets a user, which we pass as a callback to getUserFromDatabasefunction greetUser(user) &#123; console.log('Hi, ' + user.firstName)&#125;getUserFromDatabase(greetUser) éœ€è¦æ³¨æ„çš„æ˜¯ ï¼ˆï¼‰=&gt; è¿™ä¸ªè‚¥æ‹¬å·çš„å«ä¹‰ï¼Œ(-&gt;è¿™ä¸ªå«åšç˜¦æ‹¬å·) ç®€å•ä¾‹å­ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š const func = (x) =&gt; x + 1 ç›¸å½“äºŽ const func = function (x) &#123; return x + 1 &#125; éœ€è¦æ³¨æ„çš„æ˜¯ï¼š èŠ±æ‹¬è™Ÿ({})æ˜¯æœ‰æ„ç¾©çš„ï¼Œå¦‚æžœå‡½å¼æ²’å›žå‚³æ±è¥¿å°±è¦èŠ±æ‹¬è™Ÿã€‚ä¾‹å¦‚ ()=&gt;{} åªæœ‰å–®ä¸€å€‹å‚³å…¥åƒæ•¸æ™‚ï¼Œæ‹¬è™Ÿ(())å¯ä»¥ä¸ç”¨ï¼Œä¾‹å¦‚ x=&gt;x*x ä¾‹å­ï¼š const funcA = x =&gt; x + 1const funcB = x =&gt; &#123; x + 1 &#125;funcA(1) //2funcB(1) //undefined ç•¶æ²’ç”¨èŠ±æ‹¬è™Ÿ({})æ™‚ï¼Œä»£è¡¨æœƒè‡ªå‹•åŠ returnï¼Œä¹Ÿåªèƒ½åœ¨ä¸€è¡Œçš„èªžå¥çš„æ™‚å€™ä½¿ç”¨ã€‚ä½¿ç”¨èŠ±æ‹¬è™Ÿ({})å‰‡æ˜¯å¯ä»¥åŠ å…¥å¤šè¡Œçš„èªžå¥ï¼Œä¸éŽreturnä¸æœƒè‡ªå‹•åŠ ï¼Œæœ‰éœ€è¦ä½ è¦è‡ªå·±åŠ ä¸Šï¼Œæ²’åŠ é€™å€‹å‡½å¼æœ€å¾Œç­‰æ–¼return undefined(è¨»: é€™æ˜¯JavaScriptèªžè¨€ä¸­å‡½å¼çš„è¨­è¨ˆ)ã€‚ callbackçš„ä¸€ä¸ªDemo function login(req, res, callback) &#123; User.findOne(&#123;email: req.body.email&#125;, function(err, user) &#123; if (err) return callback(err) user.comparePassword(req.body.password, (err, isMatch) =&gt; &#123; if (err) return callback(err) if (!isMatch) return res.status(401).send('Incorrect password') // add relevant data to token const payload = &#123;id: user._id, email: user.email&#125; jwt.sign(payload, config.secret, &#123;&#125;, function(err, token) &#123; if (err) return callback(err) user.token = token user.save((err) =&gt; &#123; if (err) return callback(err) res.json(&#123;token&#125;) &#125;) &#125;) &#125;) &#125;)&#125; å½“ç„¶å¯ä»¥ç”¨promiseçš„å†™æ³•ï¼Œå¦‚ä¸‹ï¼š function login(req, res, callback) &#123; User.findOne(&#123;email: req.body.email&#125;) .then(function(user) &#123; return user.comparePassword(req.body.password) &#125;) .then(function(isMatch) &#123; // have to throw in order to break Promise chain if (!isMatch) &#123; res.status(401).send('Incorrect password') throw &#123;earlyExit: true&#125; &#125; const payload = &#123;id: user._id, email: user.email&#125; return jwt.sign(payload, config.secret, &#123;&#125;) &#125;) .then(function(token) &#123; user.token = token return user.save() &#125;) .then(function() &#123; res.json(&#123;token&#125;) &#125;) .catch(function(err) &#123; if (!err.earlyExit) callback(err) &#125;)&#125; è¿˜æœ‰ç¬¬ä¸‰ç§å†™æ³•ï¼Œé€šè¿‡awaitçš„æ–¹å¼ï¼š async function login(req, res, callback) &#123; try &#123; const user = await User.findOne(&#123;email: req.body.email&#125;) const isMatch = await user.comparePassword(req.body.password) if (!isMatch) return res.status(401).send('Incorrect password') const payload = &#123;id: user._id, email: user.email&#125; const token = await jwt.sign(payload, config.secret, &#123;&#125;) user.token = token const success = await user.save() res.json(&#123;token&#125;) &#125; catch (err) &#123; callback(err) &#125;&#125; bind / call / applybind() æ–¹æ³•ç”¨äºŽåœ¨è°ƒç”¨æ—¶è®¾ç½®thiså…³é”®å­—ä¸ºæä¾›çš„å€¼ã€‚å¹¶ä¸”åˆ›å»ºä¸€ä¸ªæ–°çš„functionæ–¹æ³•ã€‚call()/apply() æ–¹æ³•ç”¨äºŽåœ¨è°ƒç”¨æ—¶è®¾ç½®thiså…³é”®å­—ä¸ºæä¾›çš„å€¼ï¼Œä½†ä¸èƒ½åˆ›å»ºæ–°çš„functionæ–¹æ³•ï¼Œå¯ä»¥è¿›è¡Œå˜é‡èµ‹å€¼. ä¾‹å­ï¼š const dd = &#123; name : 'levi', greet: function() &#123; return this.name &#125;&#125;const string = dd.greet.call(&#123;name: 'Yowon'&#125;)const func = dd.greet.bind(&#123;name: 'Rayna'&#125;)console.log(string) // è¾“å‡º 'Yowon'func() // è¾“å‡º 'Rayna' å…³äºŽè‚¥ç®­å¤´ï¼Œè¦æ³¨æ„ä¸€ç‚¹ï¼Œç®­å¤´æ–¹æ³•é‹ç®—å¼æœ€é©åˆç”¨åœ¨éžæ–¹æ³•çš„å‡½å¼ã€‚ä¾†çœ‹çœ‹å¦‚æžœè¦æŠŠå®ƒå€‘ç•¶æˆæ–¹æ³•ä¾†ç”¨ï¼Œæœƒç™¼ç”Ÿä»€éº¼äº‹ 'use strict';var obj = &#123; i: 10, b: () =&gt; console.log(this.i, this), c: function() &#123; console.log(this.i, this); &#125;&#125;obj.b(); // å°å‡º undefined, Object &#123;...&#125;obj.c(); // å°å‡º 10, Object &#123;...&#125; ç®­å¤´æ²’æœ‰è‡ªå·±çš„ thisï¼Ÿ å³ä½¿æœ‰ä¹Ÿåªä¼šç»‘å®šäº†å…¨å±€çš„this,æ‰€ä»¥ä¸ä¼šç»‘å®šå˜é‡å±€éƒ¨çš„this. ä¸‹é¢æ˜¯å“ˆä½›è€å¸ˆè®²è§£çš„ä¾‹å­ï¼š // NOTE: this doesn't work as a node script, since they are run as modules// `this` in this case is equal to module.exports, which is an empty objectconsole.log(this)// this logs the global objectfunction whatIsThis() &#123; console.log(this)&#125;whatIsThis()// =======================================const person = &#123; name: 'Jordan', greet: function() &#123; console.log('Hi, ' + this.name) &#125;&#125;person.greet() // Hi, Jordan// =====================================const friend = &#123; name: 'David',&#125;friend.greet = person.greetfriend.greet() // Hi, david// ====================================const greetPerson = person.greetgreetPerson() // Hi, undefined// make greetPerson() work, but not in nodethis.name = 'Global'// browser console or node REPL: Hi, Global// node script: Hi, undefinedgreetPerson()const reallyGreetPerson = person.greet.bind(person)reallyGreetPerson() // Hi, Jordanperson.greet.call(&#123;name: 'Yowon'&#125;) // Hi, Yowonperson.greet.apply(&#123;name: 'Raylen'&#125;) // Hi, Raylen// ====================================const newPerson = &#123; name: 'Jordan', // arrow notation binds `this` lexically greet: () =&gt; console.log('Hi, ' + this.name)&#125;newPerson.greet() // Hi, Global// bound functions cannot be bound againnewPerson.greet.call(person) // Hi, Global]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[2019/1/30 æ€è€ƒæ„Ÿæ‚Ÿ]]></title>
    <url>%2F2019%2F01%2F30%2F2019-01-30-1%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰å¬è¿‡ä¸€å¥è¯ï¼Œå¦‚æžœä½ å¯¹åˆ›ä¸šæˆåŠŸçš„å¯èƒ½æ€§æœ‰æ­£ç¡®è®¤è¯†çš„è¯ï¼Œä½ æ ¹æœ¬ä¸ä¼šåˆ›ä¸šã€‚åˆ›ä¸šè€…å¾€å¾€æ˜¯æ— çŸ¥æ— ç•ã€è¿‡åº¦è‡ªä¿¡çš„äººã€‚è¿™äº›äººæ˜¯è®¤å‡†ä¸€ä¸ªæ–¹å‘å…ˆå¹²èµ·æ¥å†è¯´ï¼Œå¤§è‡ªç„¶å¯¹æ­¤è¡¨ç¤ºå¾ˆæ„‰å¿«ï¼Œå› ä¸ºæ€»æœ‰æŽ¢ç´¢è€…å‡ºåŽ»å¹²ï¼Œæ‰èƒ½æŠŠé‚£ä¸ªæ­£ç¡®çš„æ–¹å‘æ‰¾å‡ºæ¥ã€‚ æˆåŠŸçš„åä¹‰è¯ä¸€ç›´éƒ½ä¸æ˜¯å¤±è´¥ï¼Œè€Œæ˜¯å¹³åº¸ã€‚å¤±è´¥è€…è·ŸæˆåŠŸè€…åŒæ ·å…‰è£ï¼Œä»–ä»¬éƒ½æ˜¯å°è¯•è€…ã€‚å°±å¥½æ¯”é©¬æ–¯å…‹ï¼Œä»Šå¤©å¼„ç«ç®­æ˜Žå¤©å¼„ä»€ä¹ˆé«˜é€Ÿäº¤é€šå·¥å…·ï¼Œä»–ä¸€ç›´éƒ½åœ¨èµŒåšè€Œå·²ã€‚ä¸èµŒå½“ç„¶æ°¸è¿œä¸ä¼šè¾“ï¼Œä½†æ˜¯ä¹Ÿæ°¸è¿œéƒ½ä¸ä¼šèµ¢ã€‚ ä»¥å‰å°å¸ƒä»€å½“æ€»ç»Ÿçš„æ—¶å€™ï¼Œæ‰“ä¼Šæ‹‰å…‹ï¼Œå¾ˆå¤šè®°è€…åå¯¹ï¼Œæœ‰ä¸€æ¬¡å°å¸ƒä»€å½“å±€ä¸€ä¸ªä»€ä¹ˆå®˜å‘˜å‡ºæ¥å¼€è®°è€…ä¼šï¼Œè·Ÿè®°è€…è¯´äº†å‡ å¥è¯ï¼Œéžå¸¸æœ‰æ„æ€ï¼Œå¤§æ„æ˜¯è¯´ï¼Œæˆ‘ä»¬æ˜¯åŽ†å²èˆžå°çš„å‚ä¸Žè€…ï¼Œæˆ‘ä»¬çš„ä¸€ä¸¾ä¸€åŠ¨éƒ½åœ¨å·¦å³åŽ†å²è¿›ç¨‹ï¼Œè€Œä½ ä»¬è¿™å¸®è®°è€…åªä¸è¿‡æ˜¯åŽ†å²çš„è®°å½•è€…ï¼Œä½ ä»¬ä¸‹äº†å¾ˆå¤šåŠŸå¤«ï¼Œè®°å½•çš„å¾ˆæ­£ç¡®ï¼Œå½“ç„¶æœ‰æƒæ‰¹è¯„æˆ‘ä»¬ï¼Œä½†æ˜¯ä½ åƒä¸‡åˆ«å¿˜äº†è¿™ä¸ªäº‹å®žï¼šä½ ä»¬æ°¸è¿œåªèƒ½æ—è§‚è®®è®ºï¼ŒçœŸæ­£å‚ä¸ŽåŽ†å²çš„æ˜¯æˆ‘ä»¬ã€‚ æ…Žç‹¬ï¼Œä¸æ˜¯è¯´ä»€ä¹ˆè‡ªå·±ä¸€ä¸ªäººçš„æ—¶å€™è°¨æ…Žå°å¿ƒä¸åšåäº‹ï¼Œè€Œæ˜¯å¸¸å¸¸æ‹…å¿ƒæœ‰ä»€ä¹ˆä¸œè¥¿ï¼Œè‡ªå·±ä¸çŸ¥é“ï¼Œè¦ä¸»åŠ¨å¯»æ±‚çŸ¥è¯†ã€‚ Synthesize æ„æ€æ˜¯ä½ ä¸»åŠ¨åŽ»è°ƒç ”æ‰€æœ‰ç›¸å…³çŸ¥è¯†ç„¶åŽè‡ªå·±åšä¸€ä¸ªç»¼åˆåˆ¤æ–­ã€‚ æ™®é€šäººåšäº‹æ€»æ˜¯æŠŠâ€ä¸ä¼¤å®³è‡ªå·±çš„æ„Ÿæƒ…â€œæ”¾åœ¨é¦–ä½ï¼Œä¸€å¤©åˆ°æ™šï¼Œæ‹…å¿ƒè¿™ä¸ªå®³æ€•é‚£ä¸ªï¼Œç‰¹åˆ«è„†å¼±ã€‚å¦‚æžœä¸€ä¸ªäººèƒ½å…‹æœè¿™äº›å¼±ç‚¹ï¼Œæ˜Žç¡®çŸ¥é“è‡ªå·±æ˜¯è°ï¼Œè‡ªå·±æƒ³è¦ä»€ä¹ˆï¼Œåº”è¯¥æ€Žä¹ˆåšï¼Œä»–å°±ä¼šéžå¸¸åšå®šï¼Œå¯¹ç”Ÿæ´»å°±æœ‰æŽŒæŽ§æ„Ÿã€‚]]></content>
      <categories>
        <category>Idea</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[CS50's Mobile App Development with React Native (Lecture one)]]></title>
    <url>%2F2019%2F01%2F30%2F2019-01-30%2F</url>
    <content type="text"><![CDATA[Lecture one: Overview, JavaScriptæœ€è¿‘åœ¨å­¦ä¹ RNè¯¾ç¨‹ï¼Œè¿™æ˜¯å“ˆä½›å¤§å­¦2018å¹´çš„å…¬å¼€è¯¾ï¼Œå†æ¬¡æ€»ç»“ç¬¬ä¸€èŠ‚è¯¾çš„çŸ¥è¯†ç‚¹ï¼ŒæŒ‰ç…§slidesçš„é¡ºåºè¿›è¡Œæ€»ç»“. JavaScript ï¼š ç®€ç§°JSï¼Œè§£é‡Šæ‰§è¡Œè¯­è¨€ï¼Œå¤šèŒƒå¼è¯­è¨€ï¼Œæ”¯æŒé¢å‘å¯¹è±¡å˜æˆï¼Œå‘½ä»¤å¼å˜æˆä»¥åŠå‡½æ•°å¼ç¼–ç¨‹ï¼Œæä¾›è¯­æ³•æ¥æ“æŽ§æ–‡æœ¬ã€‚ ES6ï¼šECMAScript 6.0,æ˜¯JavaScriptè¯­è¨€çš„ä¸‹ä¸€ä»£æ ‡å‡†ï¼Œåœ¨2015å¹´6æœˆå‘å¸ƒï¼Œ Reactï¼šç”¨äºŽæž„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼ŒReact å¯ä»¥éžå¸¸è½»æ¾åœ°åˆ›å»ºç”¨æˆ·äº¤äº’ç•Œé¢ã€‚ä¸ºä½ åº”ç”¨çš„æ¯ä¸€ä¸ªçŠ¶æ€è®¾è®¡ç®€æ´çš„è§†å›¾ï¼Œåœ¨æ•°æ®æ”¹å˜æ—¶ React ä¹Ÿå¯ä»¥é«˜æ•ˆåœ°æ›´æ–°æ¸²æŸ“ç•Œé¢ JSXï¼šä¸€ç§ JavaScript çš„è¯­æ³•æ‰©å±•ã€‚ æˆ‘ä»¬æŽ¨èåœ¨ React ä¸­ä½¿ç”¨ JSX æ¥æè¿°ç”¨æˆ·ç•Œé¢ã€‚JSX ä¹çœ‹èµ·æ¥å¯èƒ½æ¯”è¾ƒåƒæ˜¯æ¨¡ç‰ˆè¯­è¨€ï¼Œä½†äº‹å®žä¸Šå®ƒå®Œå…¨æ˜¯åœ¨ JavaScript å†…éƒ¨å®žçŽ°çš„ã€‚ Syntex// comments are prefixed with double slashes/* * Multi-line comments look like this */// camelCase is preferred// double-quotes create stringsconst firstName = "jordan";// semicolons are optional// single-quotes also create stringsconst lastName = 'Hayashi'// arrays can be declared inline// arrays can have multiple types (more on types later)const arr = [ 'string', 42, function() &#123; console.log('hi') &#125;,]// this returns the element at the 2nd index and invokes itarr[2]()// this will iterate through the array and console log each elementfor (let i = 0; i &lt; arr.length; i++) &#123; console.log(arr[i])&#125; Typecasting? Coercionconst x = 42;const explicit = String(x); // explicit === "42"const implicit = x + ""; // implicit === "42" == coerces the types=== requires equivalent types New Objectå£°æ˜Žä¸€ä¸ªå¯¹è±¡ï¼Œæœ‰ä¸‰ç§æ–¹å¼å¦‚ä¸‹ï¼Œå¯ä»¥ä»»é€‰ä¸€ç§æ–¹å¼è¿›è¡Œå¯¹è±¡åˆå§‹åŒ– const o = new Object()o.firstName = 'Jordan'o.lastName = 'Hayashi'o.isTeaching = trueo.greet = function() &#123; console.log('Hello!') &#125;console.log(JSON.stringify(o))const o2 = &#123;&#125;o2['firstName'] = 'Jordan'const ab = 'lastName'o2[ab] = 'Hayashi'const o3 = &#123; firstName: 'dd', lastName: 'ee', greet: function() &#123; console.log('hi') &#125;, address: &#123; street: "Main st.", number: '111' &#125;&#125; Deep copyo2 æ˜¯é€šè¿‡æŒ‡é’ˆè¿›è¡Œçš„æµ…æ‹·è´ï¼Œä¸‹é¢æ˜¯ä¸¤ç§æ·±æ‹·è´çš„æ–¹æ³•ï¼Œo3æ˜¯é€šè¿‡assignçš„æ–¹æ³•è¿›è¡Œçš„æ·±æ‹·è´ï¼Œo4æ˜¯é€šè¿‡å‡½æ•°æ–¹æ³•è¿›è¡Œçš„é€’å½’æ·±æ‹·è´ã€‚ const o = &#123; a: 'a', b: 'b', obj: &#123; key: 'key', &#125;,&#125;const o2 = oo2.a = 'new value'// o and o2 reference the same objectconsole.log(o.a)// this shallow-copies o into o3const o3 = Object.assign(&#123;&#125;, o)// deep copyfunction deepCopy(obj) &#123; // check if vals are objects // if so, copy that object (deep copy) // else return the value const keys = Object.keys(obj) const newObject = &#123;&#125; for (let i = 0; i &lt; keys.length; i++) &#123; const key = keys[i] if (typeof obj[key] === 'object') &#123; newObject[key] = deepCopy(obj[key]) &#125; else &#123; newObject[key] = obj[key] &#125; &#125; return newObject&#125;const o4 = deepCopy(o)o.obj.key = 'new key!'console.log(o4.obj.key) constã€varã€leté€šè¿‡ä¸‹é¢çš„ä»£ç å¾ˆè¯¦ç»†çš„è¯´æ˜Žä¸‰è€…çš„åŒºåˆ« const å®šä¹‰çš„å˜é‡æ˜¯ä¸èƒ½è¢«æ”¹å˜çš„,ä½œç”¨åŸŸåœ¨ block scoped å†…ã€‚let å®šä¹‰çš„å˜é‡æ˜¯å¯ä»¥æ”¹å˜çš„,ä½œç”¨åŸŸåœ¨ block scoped å†…ã€‚var å®šä¹‰çš„å˜é‡æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œä½œç”¨åŸŸåœ¨æ•´ä¸ªå‡½æ•°å†…çš„ï¼Œç¬¬ä¸€è¡Œæˆ–è€…æœ€åŽä¸€è¡Œéƒ½å¯ä»¥è°ƒç”¨ã€‚ Lexical scoping (var): from when theyâ€™re declared until when theirfunction ends. Block scoping (const, let): until the next } is reached. // "var" is lexically scoped, meaning it exists from time of declaration to end of funcif (true) &#123; var lexicallyScoped = 'This exists until the end of the function'&#125;console.log(lexicallyScoped)// "let" and "const" are block scopedif (true) &#123; let blockScoped = 'This exists until the next &#125;' const alsoBlockScoped = 'As does this'&#125;// this variable doesn't existconsole.log(typeof blockScoped)thisIsAlsoAVariable = "hello"const thisIsAConst = 50// thisIsAConst++ // error!const constObj = &#123;&#125;// consts are still mutableconstObj.a = 'a'let thisIsALet = 51thisIsALet = 50// let thisIsALet = 51 // errors!var thisIsAVar = 50thisIsAVar = 51var thisIsAVar = 'new value!' Function Scopeå‡½æ•°çš„ä½œç”¨åŸŸæ˜¯åœ¨æ•´ä¸ªå‡½æ•°å†…ï¼ŒåŽé¢å£°æ˜Žçš„å‡½æ•°ï¼Œåœ¨å£°æ˜Žå‰é¢å¯ä»¥ç›´æŽ¥è°ƒç”¨ã€‚ä¾‹å¦‚ä¸‹é¢ä»£ç çš„hoistedFunctionå‡½æ•°ã€‚ éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯å°†å‡½æ•°å¤åˆ¶ç»™å˜é‡çš„æ—¶å€™ï¼Œå¦‚æžœèµ‹å€¼ç»™varå˜é‡ï¼Œç”±äºŽvarå˜é‡æ˜¯æ•´ä¸ªå‡½æ•°å†…ï¼Œæ‰€ä»¥åœ¨å‡½æ•°ç¬¬ä¸€è¡ŒæŸ¥çœ‹è¿™ä¸ªå˜é‡ï¼Œå˜é‡æ˜¯å­˜åœ¨çš„ï¼Œå‡½æ•°å€¼ä¸å­˜åœ¨ã€‚å¦‚æžœèµ‹å€¼ç»™letå˜é‡ï¼Œåœ¨ç¬¬ä¸€è¡ŒæŸ¥çœ‹è¿™ä¸ªå˜é‡å°±ä¼šæŠ¥é”™äº†ï¼Œå› ä¸ºletçš„ä½œç”¨åŸŸåœ¨letå®šä¹‰å‡½æ•°çš„ä»£ç è¡Œä¸‹æ–¹æ‰èƒ½è°ƒç”¨ã€‚ å…³äºŽå˜é‡èµ‹å€¼çš„å‡½æ•°æ–¹æ³•ï¼Œéœ€è¦åœ¨èµ‹å€¼åŽæ‰èƒ½æ‰§è¡Œè¿™ä¸ªfunction. // functions are hoistedhoistedFunction()// but only if they are declared as functions and not as variables initialized to// anonymous functionsconsole.log("typeof butNotThis: " + typeof butNotThis)function thisShouldWork() &#123; console.log("functions are hoisted")&#125;var butNotThis = function() &#123; console.log("but variables aren't")&#125;butNotThis()console.log("typeof butNotThis: " + typeof butNotThis)function hoistedFunction() &#123; console.log("dd")&#125; The Global Objectæµè§ˆå™¨å’ŒNode.jsçš„å…¨å±€å¯¹è±¡æœ‰åŒºåˆ«ï¼Œéœ€è¦æ³¨æ„ä¸‹ Browser global object is the window objectNode.js global object is the global object]]></content>
      <categories>
        <category>web</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Leetcode 16 3Sum Closest]]></title>
    <url>%2F2019%2F01%2F28%2F2019-01-28-5%2F</url>
    <content type="text"><![CDATA[OJ addressLeetcode website : 16. 3Sum Closest DescriptionGiven an array nums of n integers and an integer target, find three integers in nums such that the sum is closest to target. Return the sum of the three integers. You may assume that each input would have exactly one solution. Example: Given array nums = [-1, 2, 1, -4], and target = 1.The sum that is closest to the target is 2. (-1 + 2 + 1 = 2). Solution in Cint cmp(const void *a, const void *b) &#123; return *(int*)a - *(int*)b; //ç”±å°åˆ°å¤§æŽ’åº&#125;int threeSumClosest(int* nums, int numsSize, int target) &#123; qsort(nums, numsSize, sizeof(int), cmp); if (numsSize &lt; 3) &#123; return 0; &#125; int pre = INT_MAX; int sum = 0; for(int i=0;i&lt;numsSize-2;++i) &#123; if (i&gt;0 &amp;&amp; nums[i] == nums[i-1]) continue; if (nums[i] &gt; target &amp;&amp; pre != INT_MAX) break; for(int j=i+1;j&lt;numsSize-1;++j) &#123; int index = numsSize-1; if (index &lt;= j) break; if (j&gt;i+1 &amp;&amp; nums[j] == nums[j-1]) continue; int res = target - nums[i] - nums[j]; if (res == nums[index]) &#123; return target; &#125; else if (res &lt; nums[index]) &#123; if (abs(res-nums[index]) == pre) &#123; if (nums[i]+nums[j]+nums[index] &gt; sum) sum = nums[i]+nums[j]+nums[index]; &#125; if (abs(res-nums[index]) &lt; pre) &#123; pre = abs(res-nums[index]); sum = nums[i]+nums[j]+nums[index]; &#125; --index; while (index &gt; j) &#123; int res = target - nums[i] - nums[j]; if (res == nums[index]) &#123; return target; &#125; else if (res &lt; nums[index])&#123; if (abs(res-nums[index]) == pre) &#123; if (nums[i]+nums[j]+nums[index] &gt; sum) sum = nums[i]+nums[j]+nums[index]; &#125; if (abs(res-nums[index]) &lt; pre) &#123; pre = abs(res-nums[index]); sum = nums[i]+nums[j]+nums[index]; &#125; --index; &#125; else &#123; if (abs(res-nums[index]) == pre) &#123; if (nums[i]+nums[j]+nums[index] &gt; sum) sum = nums[i]+nums[j]+nums[index]; &#125; if (abs(res-nums[index]) &lt; pre) &#123; pre = abs(res-nums[index]); sum = nums[i]+nums[j]+nums[index]; &#125; break; &#125; &#125; --index; &#125; else &#123; if (abs(res-nums[index]) == pre) &#123; if (nums[i]+nums[j]+nums[index] &gt; sum) sum = nums[i]+nums[j]+nums[index]; &#125; if (abs(res-nums[index]) &lt; pre) &#123; pre = abs(res-nums[index]); sum = nums[i]+nums[j]+nums[index]; &#125; &#125; &#125; &#125; return sum;&#125; My Ideaç®—å‡ºä¸‰ä¸ªæ•°å€¼å’Œtargetæœ€ç›¸è¿‘çš„å€¼ï¼Œå¦‚æžœtargetä¸º0ï¼Œå¦‚æžœæœ€è¿‘çš„æ•°å­—æœ‰1ï¼Œ-1ï¼Œé‚£ç­”æ¡ˆä¸º1ï¼Œä¹Ÿå°±æ˜¯è¯´æœ€è¿‘çš„ä¸¤ä¸ªå€¼å–å¤§äºŽtargetå€¼çš„è§£ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Leetcode 15 3Sum]]></title>
    <url>%2F2019%2F01%2F28%2F2019-01-28-4%2F</url>
    <content type="text"><![CDATA[OJ addressLeetcode website : 15. 3Sum DescriptionGiven an array nums of n integers, are there elements a, b, c in nums such that a + b + c = 0? Find all unique triplets in the array which gives the sum of zero. Note: The solution set must not contain duplicate triplets. Example: Given array nums = [-1, 0, 1, 2, -1, -4],A solution set is:[ [-1, 0, 1], [-1, -1, 2]] Solution in C ï¼ˆONEï¼‰/** * Return an array of arrays of size *returnSize. * Note: The returned array must be malloced, assume caller calls free(). */int cmp(const void *a, const void *b) &#123; return *(int*)a - *(int*)b; //ç”±å°åˆ°å¤§æŽ’åº&#125;int** threeSum(int* nums, int numsSize, int* returnSize) &#123; qsort(nums, numsSize, sizeof(int), cmp); int **returnArray = (int**)malloc(sizeof(int *) * (numsSize*(numsSize-1)*(numsSize-2))/6); if (numsSize &lt; 3) &#123; *returnSize = 0; return returnArray; &#125; int top = 0; int pre = nums[0]; for(int i=0;i&lt;numsSize-2;++i) &#123; if (i&gt;0 &amp;&amp; nums[i] == nums[i-1]) continue; if (nums[i] &gt; 0) break; int index = numsSize-1; for(int j=i+1;j&lt;numsSize-1;++j) &#123; if (index &lt;= j) break; if (j&gt;i+1 &amp;&amp; nums[j] == nums[j-1]) continue; int res = 0 - nums[i] - nums[j]; if (res == nums[index]) &#123; returnArray[top] = (int*)malloc(3*sizeof(int)); returnArray[top][0] = nums[i]; returnArray[top][1] = nums[j]; returnArray[top][2] = nums[index]; ++top; &#125; else if (res &lt; nums[index]) &#123; --index; while (index &gt; j) &#123; int res = 0 - nums[i] - nums[j]; if (res == nums[index]) &#123; returnArray[top] = (int*)malloc(3*sizeof(int)); returnArray[top][0] = nums[i]; returnArray[top][1] = nums[j]; returnArray[top][2] = nums[index]; ++top; break; &#125; else if (res &lt; nums[index])&#123; --index; &#125; else &#123; break; &#125; &#125; &#125; else &#123; continue; &#125; &#125; &#125; *returnSize = top; return returnArray;&#125; Solution in C ï¼ˆTWOï¼‰int cmp(const void *a, const void *b) &#123; return *(int*)a - *(int*)b; //ç”±å°åˆ°å¤§æŽ’åº&#125;int** threeSum(int* nums, int numsSize, int* returnSize) &#123; qsort(nums, numsSize, sizeof(int), cmp); int **returnArray = (int**)malloc(sizeof(int *) * (numsSize*(numsSize-1)*(numsSize-2))/6); if (numsSize &lt; 3) &#123; *returnSize = 0; return returnArray; &#125; int top = 0; int pre = nums[0]; for(int i=0;i&lt;numsSize-2;++i) &#123; if (i&gt;0 &amp;&amp; nums[i] == nums[i-1]) continue; if (nums[i] &gt; 0) break; int index = numsSize-1; for(int j=i+1;j&lt;numsSize-1;++j) &#123; if (index &lt;= j) break; if (j&gt;i+1 &amp;&amp; nums[j] == nums[j-1]) continue; int res = 0 - nums[i] - nums[j]; if (res == nums[index]) &#123; returnArray[top] = (int*)malloc(3*sizeof(int)); returnArray[top][0] = nums[i]; returnArray[top][1] = nums[j]; returnArray[top][2] = nums[index]; ++top; &#125; else if (res &lt; nums[index]) &#123; if (index &gt; j+1) &#123; --j; --index; &#125; &#125; else &#123; continue; &#125; &#125; &#125; *returnSize = top; return returnArray;&#125; My Ideaå…³äºŽè§£é¢˜æŠ€å·§ï¼Œç¬¬ä¸€ä¸ªæ•°å­—ä»¥åŠç¬¬äºŒä¸ªæ•°å­—æ­£å¸¸ä»Žç¬¬ä¸€ä¸ªä½ç½®åˆ°æœ€åŽä¸€ä¸ªä½ç½®éåŽ†å°±å¥½ï¼Œç¬¬ä¸‰ä¸ªä½ç½®è¦æ³¨æ„è¦ä»ŽåŽå¾€å‰æ•°ï¼Œè¿™æ ·æ•ˆçŽ‡ä¼šæ¯”è¾ƒé«˜ï¼Œå› ä¸ºå¦‚æžœä¸‰ä¸ªæ•°ç›¸åŠ ä¸º0çš„ç¬¬ä¸‰ä¸ªæ•°å­—å¤§äºŽæœ€åŽä¸€ä¸ªä½ç½®çš„æ•°å­—ï¼Œç¬¬äºŒä¸ªæ•°å­—ç›´æŽ¥å˜åŠ¨å°±å¥½ï¼Œä¸ç”¨æ¯æ¬¡ç§»åŠ¨ç¬¬ä¸‰ä¸ªæ•°å­—ï¼Œä¼šå¤§å¤§å‡å°‘ç§»åŠ¨æ¬¡æ•°ï¼Œæ¥æé«˜ç®—æ³•æ•ˆçŽ‡ã€‚ è¿™é“é¢˜æ˜¯å¾ˆæœ‰æ„æ€ï¼Œä¸­ç­‰ç±»åž‹ï¼Œç¬¬ä¸€æ¬¡è¿è¡Œï¼Œ88 msï¼Œé€Ÿåº¦ä»…ä»…æ‰“è´¥äº†30%çš„äººï¼Œç„¶åŽåŠ äº†ä¸€å¥ç¬¬ä¸€ä¸ªæ•°å­—&gt;0ï¼š if (nums[i] &gt; 0) break; çž¬é—´æ‰“è´¥äº†49%çš„äººï¼Œå°±æ˜¯ä¸Šé¢ç¬¬äºŒç§è§£æ³•ï¼Œç„¶åŽåœ¨ç¨å¾®ä¿®æ”¹äº†ä¸€ä¸‹ï¼Œé˜²æ­¢å¤šæ¬¡è¿è¡Œä»¥ä¸‹ä¸¤å¥ä»£ç ï¼š if (index &lt;= j) break;if (j&gt;i+1 &amp;&amp; nums[j] == nums[j-1]) continue; å°±çž¬é—´æ‰“è´¥äº†100%çš„äººï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ç§è§£æ³•ï¼Œé€Ÿåº¦æ˜¯æœ€å¿«çš„ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Leetcode 13 Roman to Integer]]></title>
    <url>%2F2019%2F01%2F28%2F2019-01-28-3%2F</url>
    <content type="text"><![CDATA[OJ addressLeetcode website : 13. Roman to Integer DescriptionRoman numerals are represented by seven different symbols: I, V, X, L, C, D and M. Symbol ValueI 1V 5X 10L 50C 100D 500M 1000 For example, two is written as II in Roman numeral, just two oneâ€™s added together. Twelve is written as, XII, which is simply X + II. The number twenty seven is written as XXVII, which is XX + V + II. Roman numerals are usually written largest to smallest from left to right. However, the numeral for four is not IIII. Instead, the number four is written as IV. Because the one is before the five we subtract it making four. The same principle applies to the number nine, which is written as IX. There are six instances where subtraction is used: I can be placed before V (5) and X (10) to make 4 and 9.X can be placed before L (50) and C (100) to make 40 and 90.C can be placed before D (500) and M (1000) to make 400 and 900.Given a roman numeral, convert it to an integer. Input is guaranteed to be within the range from 1 to 3999. Example 1: Input: â€œIIIâ€Output: 3Example 2: Input: â€œIVâ€Output: 4Example 3: Input: â€œIXâ€Output: 9Example 4: Input: â€œLVIIIâ€Output: 58Explanation: L = 50, V= 5, III = 3.Example 5: Input: â€œMCMXCIVâ€Output: 1994Explanation: M = 1000, CM = 900, XC = 90 and IV = 4. Solution in Cint romanToInt(char* s) &#123; int index = 0; int sum = 0; while(s[index] != '\0') &#123; if (s[index] == 'M') sum+=1000; if (s[index] == 'D') sum+=500; if (s[index] == 'C') &#123; if(s[index+1] == 'D' | s[index+1] == 'M') &#123; sum-=100; &#125; else &#123; sum += 100; &#125; &#125; if (s[index] == 'L') sum+=50; if (s[index] == 'X') &#123; if(s[index+1] == 'L' | s[index+1] == 'C') &#123; sum-=10; &#125; else &#123; sum += 10; &#125; &#125; if (s[index] == 'V') sum+=5; if (s[index] == 'I') &#123; if(s[index+1] == 'V' | s[index+1] == 'X') &#123; sum-=1; &#125; else &#123; sum += 1; &#125; &#125; ++index; &#125; return sum;&#125; My Ideaè¿™é“é¢˜æ˜¯Easyç±»åž‹ï¼Œä¸‹æ¬¡ä¸ä¼šæ”¾åšå®¢æ¥è¯´ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Leetcode 12 Integer to Roman]]></title>
    <url>%2F2019%2F01%2F28%2F2019-01-28-2%2F</url>
    <content type="text"><![CDATA[OJ addressLeetcode website : 12. Integer to Roman DescriptionRoman numerals are represented by seven different symbols: I, V, X, L, C, D and M. Symbol ValueI 1V 5X 10L 50C 100D 500M 1000 For example, two is written as II in Roman numeral, just two oneâ€™s added together. Twelve is written as, XII, which is simply X + II. The number twenty seven is written as XXVII, which is XX + V + II. Roman numerals are usually written largest to smallest from left to right. However, the numeral for four is not IIII. Instead, the number four is written as IV. Because the one is before the five we subtract it making four. The same principle applies to the number nine, which is written as IX. There are six instances where subtraction is used: I can be placed before V (5) and X (10) to make 4 and 9.X can be placed before L (50) and C (100) to make 40 and 90.C can be placed before D (500) and M (1000) to make 400 and 900.Given an integer, convert it to a roman numeral. Input is guaranteed to be within the range from 1 to 3999. Example 1: Input: 3Output: &quot;III&quot;Example 2:Input: 4Output: &quot;IV&quot;Example 3:Input: 9Output: &quot;IX&quot;Example 4:Input: 58Output: &quot;LVIII&quot;Explanation: L = 50, V = 5, III = 3.Example 5:Input: 1994Output: &quot;MCMXCIV&quot;Explanation: M = 1000, CM = 900, XC = 90 and IV = 4. Solution in Cchar a[100];int b[4];char* intToRoman(int num) &#123; int index = 0; int tmp = 0; int count = 0; int value = num; while(num &gt; 0) &#123; tmp = num % 10; b[count] = tmp; ++count; num /= 10; &#125; --count; if (count == 3) &#123; int t = b[count]; while(t) &#123; a[index] = 'M'; ++index; --t; &#125; --count; &#125; if (count == 2) &#123; int t = b[count]; if (t &lt;= 3) &#123; while(t) &#123; a[index] = 'C'; ++index; --t; &#125; &#125; else if (t == 4) &#123; a[index] = 'C'; ++index; a[index] = 'D'; ++index; &#125; else if (t == 5) &#123; a[index] = 'D'; ++index; &#125; else if (t &lt;= 8) &#123; a[index] = 'D'; ++index; t -= 5; while(t) &#123; a[index] = 'C'; ++index; --t; &#125; &#125; else &#123; a[index] = 'C'; ++index; a[index] = 'M'; ++index; &#125; --count; &#125; if (count == 1) &#123; int t = b[count]; if (t &lt;= 3) &#123; while(t) &#123; a[index] = 'X'; ++index; --t; &#125; &#125; else if (t == 4) &#123; a[index] = 'X'; ++index; a[index] = 'L'; ++index; &#125; else if (t == 5) &#123; a[index] = 'L'; ++index; &#125; else if (t &lt;= 8) &#123; a[index] = 'L'; ++index; t -= 5; while(t) &#123; a[index] = 'X'; ++index; --t; &#125; &#125; else &#123; a[index] = 'X'; ++index; a[index] = 'C'; ++index; &#125; --count; &#125; if (count == 0) &#123; int t = b[count]; if (t &lt;= 3) &#123; while(t) &#123; a[index] = 'I'; ++index; --t; &#125; &#125; else if (t == 4) &#123; a[index] = 'I'; ++index; a[index] = 'V'; ++index; &#125; else if (t == 5) &#123; a[index] = 'V'; ++index; &#125; else if (t &lt;= 8) &#123; a[index] = 'V'; ++index; t -= 5; while(t) &#123; a[index] = 'I'; ++index; --t; &#125; &#125; else &#123; a[index] = 'I'; ++index; a[index] = 'X'; ++index; &#125; --count; a[index] = '\0'; &#125; return a;&#125; My Ideaç†è§£äº†é¢˜ç›®çš„å«ä¹‰ï¼Œå°±å¾ˆå®¹æ˜“ï¼ŒçŸ¥é“ç½—é©¬æ•°å­—çš„è¡¨è¾¾æ–¹å¼ï¼Œå°±å¾ˆå¥½åšã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Leetcode 11 Container With Most Water]]></title>
    <url>%2F2019%2F01%2F28%2F2019-01-28-1%2F</url>
    <content type="text"><![CDATA[OJ addressLeetcode website : 11. Container With Most Water DescriptionGiven n non-negative integers a1, a2, â€¦, an , where each represents a point at coordinate (i, ai). n vertical lines are drawn such that the two endpoints of line i is at (i, ai) and (i, 0). Find two lines, which together with x-axis forms a container, such that the container contains the most water. Note: You may not slant the container and n is at least 2. The above vertical lines are represented by array [1,8,6,2,5,4,8,3,7]. In this case, the max area of water (blue section) the container can contain is 49. Example: Input: [1,8,6,2,5,4,8,3,7]Output: 49 Solution in C (one)int maxArea(int* height, int heightSize) &#123; int max = 0; for (int i = 0; i &lt; heightSize; ++i) &#123; int left = i-0; int right = heightSize-i-1; int l = 0; int r = heightSize-1; int tmp = 0; while(r &gt; i | l &lt; i) &#123; if (left &lt; right &amp;&amp; i&lt;r) &#123; if (height[r] &gt;= height[i]) &#123; tmp = (r-i)*height[i]; printf("a[%d],a[%d]-&gt;%d\n", r, i, tmp); break; &#125; --r;--right; &#125; else if (left &gt; right &amp;&amp; l&lt;i) &#123; if (height[l] &gt;= height[i]) &#123; tmp = (i-l)*height[i]; printf("a[%d],a[%d]-&gt;%d\n", l, i, tmp); break; &#125; ++l;++left; &#125; else &#123; break; &#125; &#125; max = max&gt;tmp ? max: tmp; &#125; return max;&#125;int main(int argc, char const *argv[])&#123; int a[9] = &#123;1,2,3,4,5,4,3,2,1&#125;; // int a[4] = &#123;1,2,4,3&#125;; printf("%d\n", maxArea(a, 9)); return 0;&#125; Solution in C (two)int maxArea(int* height, int heightSize) &#123; int max = 0; int left = 0; int right = heightSize-1; int sum = 0; while (left &lt; right) &#123; if (height[left] &lt; height[right]) &#123; sum = height[left] * (right - left); ++left; &#125; else &#123; sum = height[right] * (right - left); --right; &#125; max = max &gt; sum ? max : sum; &#125; return max;&#125; My Ideaç¬¬ä¸€ç§ åˆšå¼€å§‹ï¼Œæˆ‘æƒ³çš„å¹¶éžæ˜¯Oï¼ˆnï¼‰çš„æ–¹æ³•ï¼Œæ˜¯Oï¼ˆn*nï¼‰æƒ…å†µä¸‹çš„å‰ªæžæ–¹æ³•ï¼Œæ‰“è´¥äº†50%çš„peopleï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯å…ˆé€‰ä¸€ä¸ªé•¿åº¦å›ºå®šçº¿ï¼Œç„¶åŽä»Žæœ€å·¦è¾¹å’Œæœ€å³è¾¹æ‰¾åˆ°æœ€è¿œçš„æ¯”è¿™ä¸ªå›ºå®šé«˜åº¦çš„çº¿è¿˜è¦é«˜çš„çº¿ï¼Œæ‰¾åˆ°åŽï¼Œç®—å‡ºä¸¤çº¿ä¹‹é—´çš„é¢ç§¯å°±æ˜¯è¿™ä¸ªå›ºå®šé•¿åº¦çº¿çš„æœ€å¤§é¢ç§¯ï¼Œç„¶åŽå†åŽ»æ‰¾å…¶ä»–çº¿ï¼Œä»¥æ­¤ç±»æŽ¨å°†æ±‚å‡ºæ‰€æœ‰çº¿çš„æœ€å¤§é¢ç§¯ï¼Œå¾—å‡ºè¿™ä¸ªç­”æ¡ˆã€‚è¿™ä¸ªæ–¹æ³•å¯ä»¥ACï¼Œä½†æ˜¯ä¸æ˜¯Oï¼ˆnï¼‰ï¼Œæ‰€ä»¥åªèƒ½è¾¾åˆ°50%çš„ACé€Ÿåº¦ã€‚ ç¬¬äºŒç§ Oï¼ˆnï¼‰çš„ç®—æ³•: åˆå§‹åŒ–æœ€å¤§é¢ç§¯(max_area)ä»¥åŠå³è¾¹(right)ã€å·¦è¾¹(left)çš„çº¿ï¼Œleftä¸º0ï¼Œrightåˆ™ä¸ºæœ€å³è¾¹çš„çº¿ï¼Œ ä¸¤çº¿çš„é•¿åº¦ä¸º right â€” left ï¼Œæ±‚å‡ºé¢ç§¯ï¼Œè‹¥é¢ç§¯å¤§äºŽmax_areaï¼Œå°±å–ä»£max_area æ¯”è¾ƒä¸¤æ¡çº¿é•¿åº¦ï¼Œè‹¥å·¦è¾¹å°ï¼Œå·¦è¾¹çš„çº¿å¾€å³ç§» left + 1ï¼Œåä¹‹å³è¾¹çš„çº¿å¾€å·¦ç§» right â€” 1ç„¶åŽç»§ç»­ä»Ž ç¬¬ 2 ç‚¹å¼€å§‹ï¼Œç›´åˆ°left == rightã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Leetcode 10 Regular Expression Matching]]></title>
    <url>%2F2019%2F01%2F28%2F2019-01-28%2F</url>
    <content type="text"><![CDATA[OJ addressLeetcode website : 10. Regular Expression Matching DescriptionGiven an input string (s) and a pattern (p), implement regular expression matching with support for â€˜.â€™ and â€˜*â€™. â€˜.â€™ Matches any single character.â€˜*â€™ Matches zero or more of the preceding element.The matching should cover the entire input string (not partial). Note: s could be empty and contains only lowercase letters a-z.p could be empty and contains only lowercase letters a-z, and characters like . or *.Example 1: Input:s = &quot;aa&quot;p = &quot;a&quot;Output: falseExplanation: &quot;a&quot; does not match the entire string &quot;aa&quot;.Example 2:Input:s = &quot;aa&quot;p = &quot;a*&quot;Output: trueExplanation: &apos;*&apos; means zero or more of the precedeng element, &apos;a&apos;. Therefore, by repeating &apos;a&apos; once, it becomes &quot;aa&quot;.Example 3:Input:s = &quot;ab&quot;p = &quot;.*&quot;Output: trueExplanation: &quot;.*&quot; means &quot;zero or more (*) of any character (.)&quot;.Example 4:Input:s = &quot;aab&quot;p = &quot;c*a*b&quot;Output: trueExplanation: c can be repeated 0 times, a can be repeated 1 time. Therefore it matches &quot;aab&quot;.Example 5:Input:s = &quot;mississippi&quot;p = &quot;mis*is*p*.&quot;Output: false Solution in C (one)int isMatchLen(char* s, char* p, int sIndex, int pIndex, int slen, int plen) &#123; char s1 = s[sIndex]; char s2 = p[pIndex]; if (plen == 0) return !slen; int result1 = slen &amp;&amp; (s1 == s2 || s2 == '.'); if (plen &gt;= 2 &amp;&amp; p[pIndex+1] == '*') return isMatchLen(s, p, sIndex, pIndex+2, slen, plen-2) | (result1 &amp;&amp; isMatchLen(s, p, sIndex+1, pIndex, slen-1, plen)); else return (result1 &amp;&amp; isMatchLen(s, p, sIndex+1, pIndex+1, slen-1, plen-1));&#125;bool isMatch(char* s, char* p) &#123; int slen = strlen(s); int plen = strlen(p); return isMatchLen(s, p, 0, 0, slen, plen);&#125; Solution in C (two)int isMatchLen(char* s, char* p, int sIndex, int pIndex) &#123; char s1 = s[sIndex]; char s2 = p[pIndex]; if (s1 == '\0' &amp;&amp; s2 == '\0') &#123; return 1; &#125; if (s2 == '\0') return 0; int result1 = 0; int result2 = 0; int result3 = 0; int result4 = 0; int result5 = 0; if (s2 == '.' || s1 == s2) &#123; if (s[sIndex] != '\0') &#123; result5 = isMatchLen(s, p, sIndex+1, pIndex+1); &#125; &#125; if (p[pIndex+1] == '*') &#123; result4 = isMatchLen(s, p, sIndex, pIndex+2); &#125; if (s2 == '*') &#123; result1 = isMatchLen(s, p, sIndex, pIndex+1); char s3 = p[pIndex-1]; if (s3 == '.') &#123; if (s[sIndex] != '\0') result2 = isMatchLen(s, p, sIndex+1, pIndex+1); if (s[sIndex] != '\0') result3 = isMatchLen(s, p, sIndex+1, pIndex); &#125; else &#123; if (s1 == s3) &#123; if (s[sIndex] != '\0') result2 = isMatchLen(s, p, sIndex+1, pIndex+1); if (s[sIndex] != '\0') result3 = isMatchLen(s, p, sIndex+1, pIndex); &#125; else &#123; return result1 | result4 | result5 | 0; &#125; &#125; &#125; else &#123; return result4 | result5 | 0; &#125; return result1 | result2 | result3 | result4 | result5;&#125;bool isMatch(char* s, char* p) &#123; return isMatchLen(s, p, 0, 0);&#125; My Ideaé¢˜ç›®å«ä¹‰æ˜¯ï¼Œè¯¥é¢˜æ˜¯æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼Œè¦æ±‚â€™.â€™ åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦, â€˜*â€™ åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå‰é¢çš„å…ƒç´ ã€‚æ‰€è°“é›¶ä¸ªå­—ç¬¦ä»£è¡¨å‰é¢çš„é‚£ä¸ªå­—ç¬¦æ˜¯å¯ä»¥çœç•¥çš„ã€‚ ç¬¬ä¸€æ¬¡åšçš„æ—¶å€™ï¼Œç”¨çš„æ˜¯ç¬¬äºŒç§æ–¹æ³•ï¼Œå†™äº†å¾ˆå¤šåˆ†æ”¯ï¼Œè™½ç„¶å¯ä»¥ACï¼Œç”±äºŽåˆ†æ”¯å¤ªå¤šï¼Œæ‰€ä»¥æ¶ˆè€—å¾ˆå¤šæ—¶é—´ã€‚æ‰€ä»¥ç¬¬äºŒæ¬¡å°±å‡å°‘äº†å¤§éƒ¨åˆ†åˆ†æ”¯æ¼”å˜æˆäº†ç¬¬ä¸€ç§çš„æ–¹æ³•ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼š 1.â€™*â€™ å·å‰é¢çš„å­—ç¬¦å¯ä»¥çœç•¥æŽ‰ï¼Œå› ä¸ºå®ƒçš„ç‰¹æ®Šæ€§å¯ä»¥åŒ¹é…0ä¸ªå­—ç¬¦ï¼Œå°±æ˜¯å¯ä»¥æŠŠå‰é¢çš„å­—ç¬¦åŽ»æŽ‰ã€‚ é€’å½’æ–¹ç¨‹å¼å’Œæ¡ä»¶è¿›è¡Œ &amp;&amp;ï¼Œè¿™æ ·ä¼šæé«˜å¾ˆå¤šæ•ˆçŽ‡ï¼Œå¹¶ä¸”å°‘å†™å¾ˆå¤šä»£ç ]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[2018-01-22 Review & Shares]]></title>
    <url>%2F2019%2F01%2F23%2F201912302%2F</url>
    <content type="text"><![CDATA[ReviewThe End of iTunes I hope iTunes will meet the future, it will change better, Apple will never give up this app that is people know and love the brand we have. So I look forward to the change comming soon. About new iTunes Movies and TV Shows app, itâ€™s too silent so that I canâ€™t look forward more. SharesThe high productivity = 15.87%, The first knowledge is Learning Zone, The psychologists define three Zone: Panic Zone/Learning Zone/Comfort Zone.The Comfort Zone is too easy for us, however The Panic Zone is too hard for us.So deliberate practice demand us study between Panic Zone and Comfort Zone, because of the difficult is just the right. The second knowledge is flow channel, if the work challenge is under your skill , it will make you boredom, but the work challenge exceed your skill, it will make you anxiety. If you will solve this question but you donâ€™t know how to solve it, however you make a breakthrough at some point and finish it for sometime, that is flow channel, you can immerse yourself in working, that you forget time. The third knowledge is formulaï¼Œlike = familiar + surprisedï¼Œa article can collect most of people, it must offer familiar things to readers, however, it make readers feel surprised. Thatâ€™s a question, because we donâ€™t know proportion. However, a scientist get a conclusion about This proportion, it is 15.87%. è¿™ä¸ªæ¯”ä¾‹æ˜¯é€šè¿‡ã€Šæœ€ä¼˜å­¦ä¹ çš„85%è§„åˆ™ã€‹æŠ¥é“çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªAIç®—æ³•æ¨¡åž‹çš„å‡ºæ¥çš„ç»“è®ºï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ª85%è§„åˆ™å¤§éƒ¨åˆ†å…¬å¼éƒ½ä¼šé€šç”¨ï¼Œä¾‹å¦‚å½“ä½ è®­ç»ƒAIæœºå™¨äººçš„æ—¶å€™ï¼Œè¦ç»™ä»–85%ç†Ÿæ‚‰çš„ï¼Œ15%æ˜¯å®ƒæ„Ÿåˆ°æ„å¤–çš„äº‹æƒ…ã€‚ åˆæ¯”å¦‚è¯´å­¦è‹±è¯­ï¼Œæœ€å¥½å·²å°†ä¸­85%æ˜¯ä½ æœ¬æ¥å°±ä¼šçš„ï¼Œ15%æ˜¯æ–°æŠ€å·§ã€‚ä»Žä¸­å¯ä»¥å¾—åˆ°ï¼Œç†Ÿæ‚‰æœ€é‡è¦ï¼Œ15.78%æ•°å€¼åŸºæœ¬ä¸Šæ˜¯é€šç”¨çš„ï¼Œå…·æœ‰æ™®éæ„ä¹‰ï¼Œè¿™é‡Œé¢æœ‰ä¸€ä¸ªå€¼å¾—ä¸“é—¨å¼ºè°ƒçš„ç²¾ç¥žï¼Œå°±æ˜¯ä½ åº”è¯¥æ—¶åˆ»è¿½æ±‚æ•ˆçŽ‡çš„æœ€å¤§åŒ–ã€‚ å¦‚æžœä¸–ç•Œä¸Šæœ‰ä¸€ä¸ªäººï¼Œä»–æ¯æ¬¡å®‰æŽ’å­¦ä¹ çš„å†…å®¹ç¡®ä¿æ¯æ¬¡15%æ„å¤–çŽ‡ï¼Œ85%ç†Ÿæ‚‰çš„é¢˜ç›®ï¼Œé‚£ä¹ˆè¿™ä¸ªäººçš„å­¦ä¹ æ•ˆçŽ‡å°±è¾¾åˆ°äº†æœ€å¤§åŒ–ï¼Œå‡ä»¥æ—¶æ—¥ï¼Œä»–å°±æˆä¸ºå­¦ä¹ æ•ˆçŽ‡æœ€é«˜çš„äººï¼Œè¿™æ˜¯å¤šä¹ˆå¯æ€•çš„ä¸€ä¸ªäº‹å®žã€‚]]></content>
      <categories>
        <category>Idea</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Leetcode 8 String to Integer(atoi)]]></title>
    <url>%2F2019%2F01%2F23%2F2019012301%2F</url>
    <content type="text"><![CDATA[AlgorithmOJ addressLeetcode website : 8. String to Integer (atoi) DescriptionImplement atoi which converts a string to an integer. The function first discards as many whitespace characters as necessary until the first non-whitespace character is found. Then, starting from this character, takes an optional initial plus or minus sign followed by as many numerical digits as possible, and interprets them as a numerical value. The string can contain additional characters after those that form the integral number, which are ignored and have no effect on the behavior of this function. If the first sequence of non-whitespace characters in str is not a valid integral number, or if no such sequence exists because either str is empty or it contains only whitespace characters, no conversion is performed. If no valid conversion could be performed, a zero value is returned. Note: Only the space character â€˜ â€˜ is considered as whitespace character.Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [âˆ’231, 231 âˆ’ 1]. If the numerical value is out of the range of representable values, INT_MAX (231 âˆ’ 1) or INT_MIN (âˆ’231) is returned.Example 1: Input: â€œ42â€Output: 42Example 2: Input: â€œ -42â€Output: -42Explanation: The first non-whitespace character is â€˜-â€˜, which is the minus sign. Then take as many numerical digits as possible, which gets 42.Example 3: Input: â€œ4193 with wordsâ€Output: 4193Explanation: Conversion stops at digit â€˜3â€™ as the next character is not a numerical digit.Example 4: Input: â€œwords and 987â€Output: 0Explanation: The first non-whitespace character is â€˜wâ€™, which is not a numerical digit or a +/- sign. Therefore no valid conversion could be performed.Example 5: Input: â€œ-91283472332â€Output: -2147483648Explanation: The number â€œ-91283472332â€ is out of the range of a 32-bit signed integer. Thefore INT_MIN (âˆ’231) is returned. Solution in C#include &lt;stdio.h&gt;#include &lt;string.h&gt;#include &lt;stdlib.h&gt;#include &lt;limits.h&gt;int myAtoi(char* str) &#123; int mark = 0; int i = 0; while (str[i] == ' ') &#123; ++i; &#125; if (str[i] == '\0' || str[i] &lt; 48 || str[i] &gt; 57) &#123; if (str[i] == '-') &#123; mark = 1; ++i; &#125; else if (str[i] == '+') &#123; mark = 0; ++i; &#125; else return 0; &#125; int j = 0; long long sum = 0; int tmp = 0; int t = 0; int max = 0; while (str[i] == '0') &#123; ++i; &#125; while(str[i] &gt;= 48 &amp;&amp; str[i] &lt;= 57) &#123; ++j; if (j &gt;= 11) &#123; max = 1; break; &#125; sum *= 10; t = str[i]-'0'; sum+=t; ++i; tmp = sum; if (sum &gt; INT_MAX) &#123; max = 1; break; &#125; &#125; if (max == 1 &amp;&amp; mark==0) return INT_MAX; if (max == 1 &amp;&amp; mark==1) return INT_MIN; return mark? sum*-1 : sum;&#125;int main(int argc, char const *argv[])&#123; char *s = "2147483648"; int result = myAtoi(s); printf("%d\n", result); return 0;&#125; My Ideaé¢˜ç›®å«ä¹‰æ˜¯ï¼Œç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè½¬æ¢æˆINTç±»åž‹çš„æ•°å­—æ ¼å¼ã€‚ å°†å‰å¯¼0åŽ»æŽ‰ï¼Œä¾‹å¦‚0023 - 23ï¼Œå°†å‰é¢çš„ç©ºæ ¼åŽ»æŽ‰ã€‚ åŽ»æŽ‰â€+â€ç¬¦å·ï¼Œ â€œ+54â€ - â€œ54â€ Intç±»åž‹æœ€å¤§å€¼å°½é‡ç”¨INT_MAX/INT_MINï¼Œå¼•å…¥åº“å‡½æ•°&lt;limits.h&gt;]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[EPç”³è¯·ç»“æžœçŠ¶æ€å®žæ—¶é€šçŸ¥çˆ¬è™«æ–‡ä»¶]]></title>
    <url>%2F2019%2F01%2F21%2F201901211011%2F</url>
    <content type="text"><![CDATA[Before I get my employment pass from Singapore, I will check my EP application status by Mom website, the process is so troublesomeï¼Œso I write a programme to get status auto by Python script.I will not check my status by website, itâ€™s so convenience that I get my finial status by mobile sms. About how to get status by my mobile, because xxx.139.com will send my email automatically to my sms. I hope this may be useful for you! XD #!/usr/bin/python# -*- coding: utf-8 -*-# coding: utf-8import urllib2import urllibimport reimport smtplibimport sysimport timefrom email.mime.text import MIMETextfrom email.mime.multipart import MIMEMultipartfrom email.mime.image import MIMEImagedef sleeptime(hour,min,sec): return hour*3600 + min*60 + sec;def sendSbmail(to_sbmail,status): # å‘é€çš„é‚®ç®± from_mail='once24@126.com' to_mail=to_sbmail reload(sys) sys.setdefaultencoding('gb2312') msg=MIMEMultipart() msg['From']=from_mail msg['To']=to_mail msg['Subject']='è¯·å…³æ³¨status'+status # bodyå†…å®¹ body='çŠ¶æ€'+ status # å¦‚æžœå›¾ç‰‡çš„è¯ï¼Œå¯ä»¥åœ¨è¿™é‡Œé€šè¿‡HTMLæ ¼å¼æ·»åŠ  con=MIMEText('&lt;b&gt;%s&lt;/b&gt;&lt;br&gt;&lt;img src="cid:idreamsky_258.jpg"&gt;&lt;br&gt;' % body,'html',_charset="utf-8") msg.attach(con) # é…ç½®é‚®ç®±çš„STMP server=smtplib.SMTP('smtp.126.com') # ä¾‹å¦‚ suiyun@me.com å¯†ç  server.login('é‚®ç®±åç§°','é‚®ç®±å¯†ç ') # å‘é€é‚®ä»¶ç»™æˆ‘ server.sendmail(from_mail,to_mail,msg.as_string()) server.quit()def sendData(): formdata = &#123;"requesterNRICFIN":"E70330000","requesterName":"Duan Duan","travelDocNo":"E70330000","trvDateBirth":"04/12/1994"&#125; data = urllib.urlencode(formdata) request = urllib2.Request('https://eponline.mom.gov.sg/epol/PEPOLENQM008SubmitAction.do', data = data) try: response = urllib2.urlopen(request) except Exception as ex: print ex return 1 else: content = response.read() t = re.search('Pending', content) a = re.search('Rejected', content) b = re.search('prove', content) if t: print 'Pending', return 1 if a: sendSbmail('ä½ çš„é‚®ç®±@me.com', 'Rejected') return 0 if b: sendSbmail('ä½ çš„é‚®ç®±@me.com', 'prove') return 0 return 1 return 1if __name__ == "__main__": second = sleeptime(0,0,300); status = 1 i = 0 while status: i = i+1 print i, status = sendData() time.sleep(second);]]></content>
      <categories>
        <category>Python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Leetcode 7 Reverse Integer]]></title>
    <url>%2F2019%2F01%2F21%2F201901211010%2F</url>
    <content type="text"><![CDATA[AlgorithmOJ addressLeetcode website : 7. Reverse Integer DescriptionGiven a 32-bit signed integer, reverse digits of an integer. Example 1: Input: 123Output: 321 Example 2: Input: -123Output: -321 Example 3: Input: 120Output: 21 Note: Assume we are dealing with an environment which could only store integers within the 32-bit signed integer range: [âˆ’2çš„31æ¬¡æ–¹, 2çš„31æ¬¡æ–¹ âˆ’ 1]. For the purpose of this problem, assume that your function returns 0 when the reversed integer overflows. Solution in C (one)int reverse(int x) &#123; int t = 0; if (x == 0) return 0; while (!x%10) &#123; x/=10; &#125; int sum = 0; long long reallysum = 0; while (x) &#123; reallysum *=10; sum *= 10; t = x%10; reallysum+=t; sum+=t; x/=10; &#125; if (reallysum != sum) return 0; return sum;&#125; Solution in C (Two)int reverse(int x) &#123; int t = 0; if (x == 0) return 0; while (!x%10) &#123; x/=10; &#125; int sum = 0; int tmp = 0; while (x) &#123; sum *= 10; if (sum/10 != tmp) return 0; t = x%10; sum+=t; x/=10; tmp = sum; &#125; return sum;&#125; My Ideaé¢˜ç›®å«ä¹‰æ˜¯ï¼Œç»™å®šä¸€ä¸ªintç±»åž‹çš„æ•´æ•°ï¼Œç„¶åŽè¿›è¡Œæ•°å­—åè½¬ï¼Œè¾“å‡ºã€‚ åè½¬åŽï¼Œå°†å‰å¯¼0åŽ»æŽ‰ï¼Œä¾‹å¦‚2300 -&gt; 0023 -&gt;23 å¦‚æžœè¶…è¿‡ INT_MAX , æˆ–è€…å°äºŽ INT_MINï¼Œåˆ™è¾“å‡º0ï¼Œå…³äºŽè¿™ä¸ªå¦‚ä½•åˆ¤æ–­ï¼Œæœ‰ä¸¤ç§ç®€å•çš„æ–¹æ³•ï¼Œç¬¬ä¸€ç§æ–¹æ³•æ˜¯ç”¨long longæ¥å­˜å–å˜é‡ï¼Œå¦‚æžœå¤§äºŽINT_MAXæˆ–è€…å°äºŽINT_MINï¼Œåˆ™è¾“å‡º0.ç¬¬äºŒç§æ–¹æ³•å°±æ˜¯å¦‚æžœè¶…å‡ºæœ€å¤§å€¼ï¼Œæˆ–å°äºŽæœ€å°å€¼ï¼Œåˆ™ä½ æœ€é«˜ä½åŽé¢çš„å°¾æ•°æ˜¯ä¼šå› ä¸ºè¶…å‡ºæœ€å¤§å€¼è€Œè·Ÿç€æ”¹å˜çš„ï¼Œæ‰€ä»¥ä½ åªè¦æ£€æµ‹å°¾æ•°å¦‚æžœå˜åŒ–ï¼Œå°±è¾“å‡º0å³å¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»£ç é‡Œçš„ç¬¬äºŒç§æ–¹æ³•ã€‚]]></content>
      <categories>
        <category>Algorithm</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[2018-01-21 Review & Shares]]></title>
    <url>%2F2019%2F01%2F21%2F201901211012%2F</url>
    <content type="text"><![CDATA[ReviewNothing Can Stop Google. DuckDuckGo Is Trying Anyway. When it comes to the internet, trust is something easily lost and difficult to regain. In a sense, every time a giant of the internet surveillance economy is revealed to have sold out its customers in some innovatively horrifying way, the ensuing chaos almost serves as free advertising for DuckDuckGo. â€œThe world keeps going in a bad direction, and it makes people think, â€˜Hey, I would like to escape some of the bad stuff on the internet and go to a safer place,â€™â€ Weinberg says. â€œAnd thatâ€™s where we see ourselves.â€ I like DuckDuckGo, because it make us pay attention to privacy, donâ€™t track you, the little duck is trying to stop Google, by the way protect your privacy. SharesHow now to do â€œThe things must to doâ€ If you have tow months vocation without duty, what will you do? We are a group of adults, I believe us donâ€™t waste time to enjoy life for tow months. Perhaps your study a skill. or you will read a book that you donâ€™t have time to read. however, why didnâ€™t we have two month to do something. Time management demand us divide into two parties: importance and urgency, however, most things is urgent in our routine schedule. We are used to doing â€œMust Thingsâ€ instead of â€œThings want to doâ€. I think the highest state about time management is not to do â€œThe things must to doâ€.We must be ahead of the schedule. I like slack status, I donâ€™t like tradeoff, Your time is that we can do anything unconstrained. free time is more expensive than free money. We must do â€œMust thingsâ€ and mental activity by the minimum time, and you do nothing in most time. If you like slack status, firstly, you will be brave to say â€œNoâ€, that make you get â€œyour timeâ€, Secondly, you give up some project. æ‹¥æœ‰ä½™é—²å°±æœ‰ç”¨ä¸»åŠ¨æƒï¼Œå°±æœ‰ç”¨åˆ›é€ ï¼Œå†’é™©æ”¹å˜çš„å¯èƒ½æ€§ï¼Œæ—¶é—´å°±å¥½åƒé‡‘é’±ï¼Œä½ èŠ±äº†å®ƒå°±ä¸æ˜¯ä½ çš„äº†ï¼Œå¯æ˜¯ä½ ä¸€ç›´ä¸èŠ±ä¹Ÿä¸æ˜¯ä½ çš„ï¼Œåªæœ‰åœ¨ä½ â€œå¯ä»¥èŠ±ä¹Ÿå¯ä»¥ä¸èŠ±â€çš„é‚£ä¸€åˆ»ï¼Œå®ƒæ‰æ˜¯ä½ çš„ã€‚]]></content>
      <categories>
        <category>Idea</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS Custom URL Scheme]]></title>
    <url>%2F2019%2F01%2F20%2F201901211013%2F</url>
    <content type="text"><![CDATA[Iâ€™m making an app using a custom URL scheme, so I thought Iâ€™d share it with everyone else incase they were curious. Step 1Go into your appâ€™s info.plst file. Step 2Add a Row to this and call it â€œURL typesâ€ Step 3Expand the first item in â€œURL typesâ€ and add a row called â€œURL identifierâ€, the value of this string should be the reverse domain for your app e.g. â€œcom.yourcompany.myappâ€. Step 4Again, add a row into the first item in â€œURL typesâ€ and call it â€œURL Schemesâ€ Step 5Inside â€œURL Schemesâ€ you can use each item as a different url you wish to use, so if you wanted to use â€œmyapp://â€œ you would create an item called â€œmyappâ€. After all of this, your structure should look something like this: Using the URL SchemeNow youâ€™ve registered the URL with the app, you can start the application by opening a url with the custom scheme. Here are a few examples: myapp://myapp://a/random/pathmyapp://?foo=1&amp;bar=2 This url will send a message to the UIApplicationDelegate so if you want to provide a custom handler for it, all you need to do is provide an implementation for it in your delegate. Something like this: - (BOOL)application:(UIApplication *)application handleOpenURL:(NSURL *)url &#123; // Do something with the url here&#125; Most people will want to parse the URL and store it in the NSUserDefaults, here is a example of how you could do that: - (BOOL)application:(UIApplication *)application handleOpenURL:(NSURL *)url &#123; if (!url) &#123; return NO; &#125; NSString *URLString = [url absoluteString]; &#125; For example In my project: declare a dictionary hostToAction = @&#123; @"redemption": NSStringFromSelector(@selector(openRedeemptionPage:params:)), @"web": NSStringFromSelector(@selector(openWebViewWithPath:params:absoluteString:))&#125;; handleOpenURL void + (BOOL)handleOpenURL:(NSURL *)url sourceApplication:(NSString *)sourceApplication&#123; if ([url.scheme isEqualToString:DJURLSchema] &amp;&amp; url.host &amp;&amp; hostToAction[url.host]) &#123; [DJLog info:DJ_UI content:@"handleOpenURL %@ from application %@", url.absoluteString, sourceApplication]; NSString *path = url.path.length &gt; 1 ? [url.path substringFromIndex:1] : @""; NSDictionary *params = [self dictionaryWithQuery:url.query]; NSString *absoluteString = url.absoluteString; SEL action = NSSelectorFromString(hostToAction[url.host]); NSInvocation *inv = [NSInvocation invocationWithMethodSignature:[self methodSignatureForSelector:action]]; [inv setSelector:action]; [inv setTarget:self]; // arguments 0 and 1 are self and _cmd respectively, automatically set by NSInvocation [inv setArgument:&amp;(path) atIndex:2]; [inv setArgument:&amp;(params) atIndex:3]; if([url.host isEqualToString:@"web"]) &#123; [inv setArgument:&amp;(absoluteString) atIndex:4]; &#125; [inv invoke]; return YES; &#125; return NO;&#125; openPage void + (void)openRedeemptionPage:(NSString *)path params:(NSDictionary *)params&#123; dispatch_async(dispatch_get_main_queue(), ^&#123; [[DJAppCallContainer sharedInstance] appCallRedeemptionPage:path]; &#125;);&#125;func appCallRedeemptionPage(_ path : String) &#123; if canShowViewController() &#123; gotoRedeemptionPage() &#125;&#125;func gotoRedeemptionPage() &#123; if let vc = DJRedeemptionVC() &#123; if DJAppCall.isTopVC(vc) &#123; DJAppCall.getTopvc().navigationController?.popViewController(animated: false) &#125; DJAppCall.showViewController(vc) &#125;&#125;func canShowViewController() -&gt; Bool &#123; let homeMianVC = MainTabViewController.sharedInstance if let appDelegate = UIApplication.shared.delegate as? AppDelegate&#123; if appDelegate.window.rootViewController == homeMianVC &#123; return true &#125; &#125; return false&#125;+ (BOOL)isTopVC:(UIViewController *)viewController&#123; UIWindow *window = [[[UIApplication sharedApplication] delegate] window]; UITabBarController *mainViewController = (UITabBarController *)window.rootViewController; if ([mainViewController.selectedViewController isKindOfClass:[UINavigationController class]]) &#123; UINavigationController *nvc = (UINavigationController *)mainViewController.selectedViewController; if ([nvc.topViewController isKindOfClass:viewController.class]) &#123; return YES; &#125; &#125; return NO;&#125;+ (UIViewController *)getTopvc&#123; UIWindow *window = [[[UIApplication sharedApplication] delegate] window]; UITabBarController *mainViewController = (UITabBarController *)window.rootViewController; if ([mainViewController.selectedViewController isKindOfClass:[UINavigationController class]]) &#123; UINavigationController *nvc = (UINavigationController *)mainViewController.selectedViewController; return nvc.topViewController; &#125; return nil;&#125;+ (void)showViewController:(UIViewController *)viewController&#123; UIWindow *window = [[[UIApplication sharedApplication] delegate] window]; UITabBarController *mainViewController = (UITabBarController *)window.rootViewController; [mainViewController dismissViewControllerAnimated:NO completion:nil]; for (UIViewController *vc in mainViewController.viewControllers) &#123; [vc dismissViewControllerAnimated:NO completion:nil]; &#125; if ([mainViewController.selectedViewController isKindOfClass:[UINavigationController class]]) &#123; viewController.hidesBottomBarWhenPushed = true; [(UINavigationController *)mainViewController.selectedViewController pushViewController:viewController animated:YES]; &#125;&#125; Thats it!I hope this may be useful for you!]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Redemption Server API]]></title>
    <url>%2F2019%2F01%2F20%2FRedemptionProject%2F</url>
    <content type="text"><![CDATA[Redemption Server APIAPI: Redemption ListDescriptionRedemptioné¡µé¢çš„CollectionViewçš„ç½‘ç»œæ•°æ®è¯·æ±‚List. URLGET: /shop/redeemption_list Query Parameters Parameter Type Description page Int é¡µç  pageSize Int ä¸€é¡µæœ€å¤šæ˜¾ç¤ºçš„data item Response Parameter Type Description last Bool æ˜¯å¦ä¸ºæœ€åŽä¸€é¡µ status Bool true: jump to detail page false: jump to åº“å­˜ä¸è¶³é¡µé¢. shopItems [DJShopItem] å•†å“ç±»åž‹ APIï¼šRedemption detail PageDescriptionRedemption Pageâ€˜s shop detail page URLGET /redeemption_shop_item/{shopItemId}/shop_item_group_id/{shopItemGroupId} GET: shop/redeemption_shop_item/%@/shop_item_group_id/%@â€ Query Parameters Parameter Type Description shopItemId Int å•†å“Id shopItemGroupId String å“ç‰ŒId Response Parameter Type Description shopItems [DJShopItem] å•†å“ç±»åž‹æ•°ç»„ isOutOfStock Bool åº“å­˜ä¸è¶³ isOcbProduct Bool Obcå•†å“ APIï¼šRedemption order PageDescriptionRedemptionè¯¦æƒ…é¡µé¢ç‚¹å‡»è´­ä¹°ï¼Œå­—æ®µè·³è½¬åˆ°è®¢å•é¡µé¢ï¼Œè®¢å•é¡µé¢æ•°æ®ç½‘ç»œæŽ¥å£ URLPOST: /redeem/preview Query Parameters Parameter Type Description inventoryItemId Int åº“å­˜ID productId Int äº§å“ID productGroupId String äº§å“å“ç‰ŒID size String å°ºå¯¸ quantity Int æ•°é‡ productName String äº§å“åç§° Response Parameter Type Description result DJCheckoutModel è®¢å•æ•°æ®æ¨¡åž‹ APIï¼šRedemptionè®¢å•ç¡®è®¤æ”¯ä»˜æŽ¥å£Descriptionç‚¹å‡»Redemptionæ´»åŠ¨çš„è®¢å•é¡µé¢ç¡®è®¤æ”¯ä»˜ï¼Œå°†è¦è¯·æ±‚è¿™ä¸ªç½‘ç»œæŽ¥å£ URLPOST /redeem/create_and_pay Query ParameterscheckoutModel : DJCheckoutModel Response Parameter Type Description result DJCheckoutCreatandPayModel è®¢å•æ”¯ä»˜æ•°æ®æ¨¡åž‹ Data ModelDJShopItem å•†å“ç±»åž‹cashback: Intcolor: Stringcurrency : String | è´§å¸ç±»åž‹currentPrice: Intimage: DJShopItemImageimages: [DJShopItemImage]originalPrice: IntrecommendReason: StringshopItemGroupId: StringshopId: StringshopItemId: IntshopItemName: String | å•†å“åç§°shopName: String | å“ç‰Œåç§°cashbackDescription: StringbuttonDescription: StringspecialAttribute : [Int] DJShopItemImageheight: CGFloatwidth: CGFloatimageUrl: String DJCheckoutModelshippingAddress : DJAddressInfoorderItemsInShopList = DJOrderItemsInShopInfopaymentPriceDetailInfo = DJPaymentPriceDetailInfo()isOverallOutOfStock : Bool = falseoutOfStockMessage : String DJAddressInfoid: IntfirstName: StringlastName: StringpostalCode: StringfloorUnitNumber: Stringphone : StringisDefault: Bool = falsesearchval: StringblockNumber: StringroadName: Stringbuilding: Stringaddress: StringfullAddress : String = â€œâ€country: StringformatAddress : String DJOrderItemsInShopInfocurrency : StringshopId : StringshopName : StringitemCount : IntorderSubtotal : IntselectedShippingMethodInfo = DJShippingMethodInfo()availableShippingMethodInfo = DJShippingMethodInfoshopItemList = DJOrderShopItem DJPaymentPriceDetailInfocashbackDiscount :Int | ä½¿ç”¨çš„è¿”çŽ°é‡‘é¢cashbackDiscountMaximum :Int | æœ€å¤šå¯ä»¥ä½¿ç”¨å¤šå°‘è¿”çŽ°cashbackReward :Int | å¯ä»¥æ‹¿åˆ°å¤šå°‘è¿”çŽ°currency : String = â€œâ€orderCount : Int | å•†å“æ€»æ•°orderGroupSubtotal :Int | å•†å“åŠ ç‰©æµçš„æ€»è´¹ç”¨ ï¼Œæœªå‡Cashbackå’ŒPromotionorderGroupTotal :Int | ä½¿ç”¨è¿‡å„ç§æŠ˜æ‰£åŽéœ€è¦ Card ä»˜çš„å®žé™…é‡‘é¢promotionDiscount :Int | Deja Promotion çš„æŠ˜æ‰£é‡‘é¢cashbackPayRateDescription : String DJShippingMethodInfocurrency : StringshippingMethod = DJShippingMethod()shippingFeeSubtotal : Int DJShippingMethodshippingMethodId : IntshippingMethodName : StringshippingMethod : StringshippingFee : Intcurrency : StringestimatedDeliveryTimeDescription : StringcourierUrl : String DJCheckoutCreatandPayModelcheckTitle : String | the title of payment pop-up windowcheckSubTitle : String | reserved fieldcheckDescription : String | the description of payment pop-up windowcheckBtnName : String | the name of button, for exampleï¼šGot itcheckType : Int | checkType, return : 20 success , 10 failure]]></content>
      <categories>
        <category>Deja</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Work Style]]></title>
    <url>%2F2019%2F01%2F19%2F201901181009%2F</url>
    <content type="text"><![CDATA[æžç®€ç‰ˆZTD ç”¨ç¬”è®°æœ¬è®°ä¸‹ä½ çš„ä»»ä½•æƒ³æ³•ï¼Œè®©äº‹æƒ…ä»Žå¤´è„‘ä¸­æ•´ç†å‡ºæ¥ï¼Œä¸å†é—å¿˜ã€‚ å½“ä½ åˆ°äº†åŠžå…¬å®¤æˆ–å®¶é‡Œï¼ŒæŠŠè¿™äº›æ–°ä»»åŠ¡åŠ å…¥åˆ°å¾…åšäº‹é¡¹ä¸»æ¸…å•ã€‚è¿™ä¸ªæ¸…å•å¯ä»¥åœ¨ç¬”è®°æœ¬ä¸Šåˆ›å»ºã€‚ åœ¨æ¯å¤©çš„å¼€ç«¯ï¼Œå›žé¡¾æ¸…å•ï¼Œå†™ä¸‹å½“å¤©ä½ æƒ³å®Œæˆçš„1~3ä»¶è¦äº‹ã€‚è¿™å°±æ˜¯ä½ æ•´ä¸ªçš„è§„åˆ’ç³»ç»Ÿï¼Œä¸éœ€è¦å…¶ä»–ä¸œè¥¿ã€‚ å°½æ—©å®Œæˆè¦äº‹ã€‚åœ¨å¤„ç†æ¯é¡¹ä»»åŠ¡æ—¶ï¼Œæ¶ˆé™¤æ‰€æœ‰å¹²æ‰°ï¼Œåªä¸“æ³¨äºŽå®ƒï¼Œä¸è¦åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚å®Œæˆä¸€é¡¹è¦äº‹ä¹‹åŽï¼Œå†æŽ¥ç€å¤„ç†ä¸‹ä¸€é¡¹ã€‚ å¦‚æžœå®Œæˆäº†è¦äº‹ï¼ŒæŸ¥çœ‹ä¸»æ¸…å•ä¸Šç¬¬äºŒé‡è¦çš„ä»»åŠ¡æ˜¯ä»€ä¹ˆã€‚ç¡®å®šå¥½ä¹‹åŽï¼ŒæŒ‰ç…§æ­¥éª¤4è¿›è¡Œå¤„ç†ã€‚è‹¥æœ‰å¿…è¦ï¼Œå†æ¬¡é‡å¤è¿™ä¸ªæµç¨‹ã€‚ æ¯æ—¥åŸºç¡€äº‹é¡¹ æ¯å¤©æ¥å…¬å¸åˆ—å‡ºä¸€å¤©çš„å·¥ä½œäº‹é¡¹ï¼Œå®Œæˆå¹¶æ‰“é’© ä¸¤åˆ†é’Ÿå†…çš„äº‹æƒ…ç«‹å³è§£å†³ï¼Œè¶…è¿‡ä¸¤åˆ†é’Ÿæ”¾ä¾¿ç­¾ä¸Š é‡å¤çš„äº‹æƒ…è¦æƒ³åŠžæ³•å›ºåŒ– ä¸‹ç­å‰å†™ä¸‹ä¸€å¤©çš„å·¥ä½œæ€»ç»“ æ¯æ—¥åŸºæœ¬åŽŸåˆ™ å°±åƒé‚£å¤©ç»™æŸäººçš„é¼“åŠ±ï¼šè¦ä¸€ç›´åšæŒåšå¯¹çš„äº‹æƒ…ã€‚â€œæˆ‘ä»¬åšæŒåšä¸€ä»¶äº‹æƒ…ï¼Œä¸æ˜¯å› ä¸ºè¿™æ ·åšä¼šæœ‰æ•ˆæžœï¼Œè€Œæ˜¯å› ä¸ºåšä¿¡è¿™æ ·åšæ˜¯å¯¹çš„ã€‚â€Draw a picture. Dream it, make it a belief, then make it come true. æ¯æ—¥äº‹é¡¹å‘å‡ºé è°±æ‰èƒ½è®©åˆ«äººä¿¡ä»»ä½ ï¼Œâ€œå‡¡äº‹æœ‰äº¤ä»£ï¼Œä»¶ä»¶æœ‰ç€è½ï¼Œäº‹äº‹æœ‰å›žéŸ³ã€‚ä½ ä¸ä¸€å®šéœ€è¦æœ‰å¤šå¤§çš„èƒ½åŠ›ï¼Œä½†ä½ ä¸€å®šè¦è®©åä½œä¼™ä¼´çŸ¥é“ä½ çš„èƒ½åŠ›è¾¹ç•Œå’Œè¡ŒåŠ¨é€Ÿåº¦ã€‚ åœ¨å…¬å¸å†…åªåšé¡¹ç›®ç›¸å…³äº‹æƒ…æŠŠé¡¹ç›®ä½œä¸ºè‡ªå·±çš„ä¸€éƒ¨åˆ†ï¼Œä¸ºè‡ªå·±çš„ä»£ç è´Ÿè´£ã€‚ åŸ¹å…»åˆä½œæ„è¯†ä¿éšœæ€§ï¼Œå°±æ˜¯ä½ æœ‰æ²¡æœ‰èƒ½åŠ›ååŒèµ„æºï¼Œæ‰“ä¸€åœºæˆ˜å½¹ã€‚ å¯¹æ‰€åœ¨åœºæ™¯å½¢æˆé—­çŽ¯ï¼Œäº†è§£è‡ªå·±çš„ç‚¹çº¿é¢ä½“ã€‚èƒ½å¤Ÿè·¨è¶Šæ—¶é—´ç©ºé—´ï¼Œè·¨è¶Šç»„ç»‡çš„è¾¹ç•Œï¼Œå¯¹å„ç§è¶‹åŠ¿è¿›è¡Œé¢„æ–™ï¼Œå¹¶ä½œå‡ºé¢„æ¡ˆï¼Œè¿›è¡Œç³»ç»Ÿæ€§æ€è€ƒã€‚åˆ©ç”¨é«˜ç»´æ‰“ä½Žç»´çš„æ€è€ƒèƒ½åŠ›ã€‚ ä½“çŽ°è‡ªå·±çš„ä¸ªäººå“ç‰Œä½ ä¸ä»…èƒ½å¹²æ´»ï¼ŒæŠŠæ´»å¹²æˆï¼Œè¿˜èƒ½è®©ç¤¾ä¼šä¸Šæ‰€æœ‰çš„äººèƒ½çœ‹è§ã€èƒ½è¯„ä¼°ä½ å¹²çš„æ´»ã€‚ä½ ä¸ä»…èƒ½ä¸»åŠ¨ç»„ç»‡åä½œï¼Œè¿˜èƒ½è®©ä¸åœ¨ä½ è§†çº¿é‡Œçš„èµ„æºä¸»åŠ¨æ‰¾ä¸Šé—¨æ¥è·Ÿä½ åˆä½œã€‚ åˆ©ç”¨SOPçš„æ–¹æ³•å°†å¤æ‚äº‹æƒ…å˜ç®€å•ï¼Œä½¿å‘¨å›´äººæ”¾å¿ƒå°†æŸä¸€äº‹ä»¶çš„æ ‡å‡†æ“ä½œæ­¥éª¤å’Œè¦æ±‚ä»¥ç»Ÿä¸€çš„æ ¼å¼æè¿°å‡ºæ¥ï¼Œç”¨æ¥æŒ‡å¯¼å’Œè§„èŒƒæ—¥å¸¸çš„å·¥ä½œã€‚æœ‰èƒ½åŠ›æŠŠä¸€ä¸ªå¤æ‚ç³»ç»Ÿï¼ŒåŒ…æ‹¬å„ç§ä¸ç¡®å®šæ€§ï¼Œå°è£…æˆä¸€ä¸ªç®€å•çš„å·¥ä½œç•Œé¢ã€‚è¿™æ ·æ‰èƒ½ä½¿å‘¨å›´äººæ”¾å¿ƒã€‚]]></content>
      <categories>
        <category>Idea</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Deja Packing]]></title>
    <url>%2F2019%2F01%2F08%2FDejaPacking%2F</url>
    <content type="text"><![CDATA[Auto packingMerge brunch to the master Login in jenkinsAddress: http://172.28.10.64:8080/job/RN_IOS_DT/ Status is free Choose RN_IOS_DT Click config button check â€œ Branches to buildâ€ Branch Specifier (blank for â€˜anyâ€™) : */master And Save it build it and wait final status If failure , please check log. Manual packingXcode archiveEdit Scheme Choose environment archive DT çŽ¯å¢ƒï¼Œè¯ä¹¦ä¸ºï¼šTestDev | TestDis é¡¾åæ€ä¹‰ï¼Œå¼€å‘ä»¥åŠæµ‹è¯•çš„çŽ¯å¢ƒ DP çŽ¯å¢ƒï¼Œè¯ä¹¦ä¸ºï¼šProductDis | ProductDev æŽ¥è¿‘çœŸå®žçŽ¯å¢ƒï¼Œäº§å“\å¸‚åœº\å•†åŠ¡\CTOå¯ä»¥å®‰è£…DPçŽ¯å¢ƒæŸ¥çœ‹ AppStore æ­£å¼å‘å¸ƒçŽ¯å¢ƒ Dis | Dev Dis æŒ‡æ‰“åŒ…å‘å¸ƒçš„è¯ä¹¦ï¼ŒDev Xcodeç”¨è¿žæŽ¥çº¿è°ƒè¯•çœŸæœºè¿è¡Œçš„è¯ä¹¦ Download HockeyApp and Upload New Build Add Release Notes]]></content>
      <categories>
        <category>Deja</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[UICollectionVIewçš„æ¸å˜èƒŒæ™¯]]></title>
    <url>%2F2019%2F01%2F08%2FUICollectionVIewJianBianMD%2F</url>
    <content type="text"><![CDATA[Demandå¦‚å›¾æ‰€ç¤ºï¼ŒUICollectionVIewçš„èƒŒæ™¯æ¸å˜ï¼Œæ»‘åŠ¨çš„æ—¶å€™ï¼Œæ¸å˜èƒŒæ™¯ä¹Ÿéœ€è¦è·Ÿç€æ»‘åŠ¨ã€‚æ¸å˜èƒŒæ™¯åœ¨UICollectionView layer å’Œ Cellä¹‹é—´å­˜åœ¨ã€‚ implementationå¢žåŠ æ–°çš„æ¸å˜Layerprivate lazy var gradientLayer : CAGradientLayer = &#123; let TColor : UIColor = UIColor(fromHexString: "FF8E8A") let BColor = UIColor.white let gradientColors: [CGColor] = [TColor.cgColor, BColor.cgColor] let gradientLayer: CAGradientLayer = CAGradientLayer() gradientLayer.colors = gradientColors gradientLayer.startPoint = CGPoint(x: 0, y: 0) gradientLayer.endPoint = CGPoint(x: 0, y: 1) gradientLayer.frame = CGRect(x: 0, y: 0, width: ScreenWidth, height: ScreenHeight) return gradientLayer&#125;() æ·»åŠ UICollectionViewprivate lazy var flowLayout: UICollectionViewFlowLayout = &#123; let flowLayout = UICollectionViewFlowLayout() flowLayout.scrollDirection = .vertical flowLayout.minimumInteritemSpacing = 15.0 flowLayout.minimumLineSpacing = 15.0 return flowLayout&#125;() private lazy var collectionView: UICollectionView = &#123; let collectionView = UICollectionView(frame: .zero, collectionViewLayout: flowLayout) collectionView.backgroundColor = UIColor.clear collectionView.delegate = self collectionView.dataSource = self collectionView.scrollsToTop = false collectionView.showsVerticalScrollIndicator = false collectionView.register(DJProductCollectionViewCell.self, forCellWithReuseIdentifier: "DJRedeemptionVCstreetSnapCell") collectionView.alwaysBounceVertical = false collectionView.bounces = false refreshControl = DJRefreshControl(in: collectionView) refreshControl?.addTarget(self, action: #selector(pullRefresh), for: .valueChanged) return collectionView&#125;() UICollectionView Delegateextension DJRedeemptionVC : UICollectionViewDelegate &#123; func collectionView(_ collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath) &#123; if let vc = DJRedeemProductDetailVC() &#123; if pageResult.count &gt; indexPath.row &#123; let pageResultItem = pageResult[indexPath.row] if let shopItemId = pageResultItem.shopItemId, let shopItemGroupId = pageResultItem.shopItemGroupId &#123; vc.shopItemId = shopItemId as NSNumber vc.shopItemGroupId = shopItemGroupId self.navigationController?.pushViewController(vc, animated: true) &#125; &#125; &#125; &#125;&#125;extension DJRedeemptionVC : UICollectionViewDataSource &#123; func collectionView(_ collectionView: UICollectionView, numberOfItemsInSection section: Int) -&gt; Int &#123; return pageResult.count &#125; func collectionView(_ collectionView: UICollectionView, cellForItemAt indexPath: IndexPath) -&gt; UICollectionViewCell &#123; let cell = collectionView.dequeueReusableCell(withReuseIdentifier: "DJRedeemptionVCstreetSnapCell", for: indexPath) as! DJProductCollectionViewCell if pageResult.count &gt; indexPath.row &#123; let pageResultItem = pageResult[indexPath.row] if let shopItemId = pageResultItem.shopItemId &#123; cell.shopItemId = shopItemId &#125; cell.setImageUrl(pageResultItem.image?.imageUrl) cell.setBrandName(pageResultItem.shopName) cell.setClothName(pageResultItem.shopItemName) cell.setPriceInfo(pageResultItem.currentPrice, uprice: pageResultItem.originalPrice, currency: pageResultItem.currency) cell.setRecommendReason(pageResultItem.recommendReason) cell.clipsToBounds = true &#125; return cell &#125;&#125;extension DJRedeemptionVC : UICollectionViewDelegateFlowLayout &#123; func collectionView(_ collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, sizeForItemAt indexPath: IndexPath) -&gt; CGSize &#123; return DJProductCollectionViewCell.calculateFixedCellSize() &#125; func collectionView(_ collectionView: UICollectionView, layout collectionViewLayout: UICollectionViewLayout, insetForSectionAt section: Int) -&gt; UIEdgeInsets &#123; return UIEdgeInsets.init(top: 180, left: 23, bottom: 20, right: 23) &#125;&#125; æœ€å…³é”®çš„ä¸¤å¥è¯collectionViewçš„layerä¸Šé¢æ’å…¥gradientLayerï¼Œä½ç½®æ”¾åœ¨æœ€ä¸‹é¢ã€‚ ä¹‹å‰æˆ‘å†™äº†å¥½å¤šæ–¹æ³•éƒ½æ²¡èƒ½æˆåŠŸçš„æŠŠè¿™ä¸ªlayeræˆ–è€…Viewæ”¾åœ¨collectionviewå’Œcellä¹‹é—´ã€‚æ¯æ¬¡å°è¯•éƒ½æ˜¯æ–°æ·»åŠ çš„layeræˆ–è€…viewä¾ç„¶åœ¨cellçš„ä¸Šé¢ã€‚ æŸ¥äº†ä¸€äº›èµ„æ–™ï¼Œç„¶åŽæ‰¾åˆ°ä¸€ä¸ªæœ€é€‚åˆçš„æ–¹æ³•ï¼Œåªè¦åŠ ä¸€å¥ä»£ç ï¼š Layer.zPosition = -1 layerå¯ä»¥é€šè¿‡è®¾ç½®zPositionå±žæ€§æ¥å›ºå®šå±‚çº§å…³ç³»ï¼Œé»˜è®¤æ˜¯0ï¼Œè®¾ç½®ä¸º-1çš„è¯å°±åœ¨æœ€ä¸‹å±‚ï¼Œå€¼è¶Šå¤§å±‚çº§çš„å…³ç³»å°±è¶Šé«˜ã€‚CollectionViewæœ¬æ¥çš„layerè®¾ç½®ä¸º0,æ‰€ä»¥å°†æ–°åŠ å…¥çš„layerè®¾ç½®ä¸º-1å³å¯è¾¾åˆ°éœ€æ±‚çš„æ•ˆæžœã€‚ override func viewDidLoad() &#123; super.viewDidLoad() view.backgroundColor = UIColor.white view.addSubview(collectionView) gradientLayer.zPosition = -1 collectionView.layer.insertSublayer(gradientLayer, at: 0)&#125; ä¸‹æ‹‰åˆ·æ–°çš„åˆ¤æ–­æ–¹æ³•extension DJRedeemptionVC : UIScrollViewDelegate&#123; func scrollViewDidScroll(_ scrollView: UIScrollView) &#123; if scrollView.contentSize.height &lt; ScreenHeight &#123; return &#125; print("scrollView.contentSize.height: \(scrollView.contentSize.height)") print("scrollView.contentOffset.y: \(scrollView.contentOffset.y)") print("scrollView.frame.size.height: \(scrollView.frame.size.height)") print("scrollView.contentInset.bottom: \(scrollView.contentInset.bottom)") print("scrollView.contentInset.top: \(scrollView.contentInset.top)") print("left Value : \(scrollView.contentSize.height - scrollView.contentOffset.y)") print("&lt;=right Value: \(scrollView.frame.size.height - scrollView.contentInset.bottom + scrollView.contentInset.top + 40)") if scrollView.contentSize.height - scrollView.contentOffset.y &lt;= scrollView.frame.size.height - scrollView.contentInset.bottom + scrollView.contentInset.top + 40 &#123; if (!isLoadingMore &amp;&amp; redeemptionHomeNetTask.last == false) &#123; isLoadingMore = true page += 1 getShopDetailListNetTask(page: page) &#125; &#125; &#125;&#125; Thinking And Summarizedä¸Šé¢è¯´çš„æ˜¯ç¬¬ä¸€ç§æ–¹æ³•ï¼Œç¬¬äºŒç§æ–¹æ³•æ˜¯é€šè¿‡CollectionViewå¢žåŠ Viewæ¥è¿›è¡Œå®žçŽ°ï¼Œè¿™ä¸ªViewåœ¨CollectionViewå’ŒCellä¹‹é—´æ’å…¥ä¸€ä¸ªæ¸å˜çš„View.å½“ç„¶Viewä¸Šä¹Ÿå¯ä»¥å¢žåŠ å…¶ä»–labelä»¥åŠimageView å¢žåŠ DJPassThroughViewçš„ç±»å¦‚ä¸‹ï¼šDJPassThroughViewåˆ›å»ºè¿™ä¸ªViewæ˜¯ä¸ºäº†å¯ä»¥å°†è¿™ä¸ªViewæ’å…¥åˆ°CollectionViewçš„cellä¸Šé¢ï¼Œä¸”ä¸ä¼šæŒ¡ä½cellçš„ç‚¹å‡»äº‹ä»¶ // Created by levi duan on 2019/1/13.// Copyright Â© 2019 Mozat. All rights reserved.//import UIKitclass DJPassThroughView: UIView &#123; override func point(inside point: CGPoint, with event: UIEvent?) -&gt; Bool &#123; for subview in subviews &#123; if !subview.isHidden &amp;&amp; subview.isUserInteractionEnabled &amp;&amp; subview.point(inside: convert(point, to: subview), with: event) &#123; return true &#125; &#125; return false &#125;&#125; åˆå§‹åŒ–DJPassThroughViewçš„å˜é‡private lazy var passThroughView : DJPassThroughView = &#123; let passThroughView = DJPassThroughView(frame: CGRect(x: 0, y: 0, width: ScreenWidth, height: 180+422)) let TColor : UIColor = UIColor(fromHexString: "FF8E8A") let BColor = UIColor.white let gradientColors: [CGColor] = [TColor.cgColor, BColor.cgColor] //åˆ›å»ºå¹¶å®žä¾‹åŒ– let gradientLayer: CAGradientLayer = CAGradientLayer() gradientLayer.colors = gradientColors //(è¿™é‡Œçš„èµ·å§‹å’Œç»ˆæ­¢ä½ç½®å°±æ˜¯æŒ‰ç…§åæ ‡ç³»,å››ä¸ªè§’åˆ†åˆ«æ˜¯å·¦ä¸Š(0,0),å·¦ä¸‹(0,1),å³ä¸Š(1,0),å³ä¸‹(1,1)) //æ¸²æŸ“çš„èµ·å§‹ä½ç½® gradientLayer.startPoint = CGPoint(x: 0, y: 0) //æ¸²æŸ“çš„ç»ˆæ­¢ä½ç½® gradientLayer.endPoint = CGPoint(x: 0, y: 1) //è®¾ç½®frameå’Œæ’å…¥viewçš„layer gradientLayer.frame = CGRect(x: 0, y: 180, width: ScreenWidth, height: 422) passThroughView.layer.insertSublayer(gradientLayer, at: 0) passThroughView.isUserInteractionEnabled = true return passThroughView&#125;() æœ€å…³é”®çš„ä¸¤å¥è¯æ”¾åœ¨Cellä¸‹é¢CollectionViewä¸Šé¢å¯ä»¥åŠ ä¸Šè¿™å¥è¯: passThroughView.layer.zPosition = -1; å¦‚æžœæ”¾åœ¨Cellä¸Šé¢ï¼Œä¸å½±å“ç‚¹å‡»Cellï¼Œå¯ä»¥ä¸åŠ ä¸Šé¢è¿™å¥è¯ collectionView.addSubview(passThroughView) åˆ°è¿™ï¼Œéœ€æ±‚å°±ç»“æŸå•¦]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSä¸­ç‚¹å‡»æŒ‰é’®è·³è½¬å¾®ä¿¡å°ç¨‹åº]]></title>
    <url>%2F2018%2F12%2F28%2F2020-01-08-17%2F</url>
    <content type="text"><![CDATA[éœ€æ±‚åœ¨iOSçš„UIWebViewç•Œé¢ï¼Œç‚¹å‡»buttonï¼Œç›´æŽ¥æ‰“å¼€å¾®ä¿¡è·³è½¬åˆ°å¾®ä¿¡å°ç¨‹åºã€‚ å®žçŽ°æ–¹å¼ æŽ¥å…¥å¾®ä¿¡SDK,podä¸­å¢žåŠ ä¸‹é¢ä¸€å¥è¯ pod â€˜WechatOpenSDKâ€™ AppDelegateæ–‡ä»¶å¯¼å…¥&lt;WechatOpenSDK/WXApi.h&gt;å¹¶å®žçŽ°ä»£ç† åˆå§‹åŒ–ä½ çš„å¾®ä¿¡WXAPIï¼Œå¢žåŠ ä»£ç†çš„æ—¶å€™ï¼Œä¼šæŠ¥è­¦å‘Šï¼Œâ€Implementing deprecated methodâ€,ç”±äºŽå¾®ä¿¡æ²¡æœ‰æ›´æ–°APIï¼Œå°±åªèƒ½ç”¨ä¹‹å‰ç‰ˆæœ¬åºŸäº†çš„æ–¹æ³•ï¼Œæ‰€ä»¥æš‚æ—¶å°±å¿½ç•¥è­¦å‘Šå§ï¼Œå¦‚æžœå¾®ä¿¡æ”¹äº†çš„è¯ï¼Œè¯·åŠæ—¶é€šçŸ¥æˆ‘ã€‚ - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions &#123; [WXApi registerApp:@"wxf691476627360000"];//IDä¸ºä½ ç”³è¯·çš„å¾®ä¿¡å¼€æ”¾ID&#125;- (BOOL)application:(UIApplication *)application handleOpenURL:(nonnull NSURL *)url&#123; return [WXApi handleOpenURL:url delegate:self];&#125;- (BOOL)application:(UIApplication *)app openURL:(NSURL *)url sourceApplication:(nullable NSString *)sourceApplication annotation:(nonnull id)annotation&#123; return [WXApi handleOpenURL:url delegate:self];&#125;-(void) onReq:(BaseReq*)req&#123; NSLog(@"req : %@", req);&#125;-(void) onResp:(BaseResp*)resp&#123; NSLog(@"req : %@", resp);&#125; WKWebViewä»£ç† - (void)webView:(WKWebView*)webView decidePolicyForNavigationAction:(WKNavigationAction*)navigationAction decisionHandler:(void(^)(WKNavigationActionPolicy))decisionHandler&#123; WKNavigationActionPolicy policy = WKNavigationActionPolicyAllow; // ä¹‹å‰æ˜¯æ‰“å¼€ç›´æŽ¥è·³è½¬APPSOTREï¼Œæ‰€ä»¥è¦WKWebViewè¦åŠ ä¸Šè¿™å¥è¯ï¼Œæ‰èƒ½è´´ç –åˆ°APPSTOREå•†åº— if([[navigationAction.request.URL host] isEqualToString:@"itunes.apple.com"] &amp;&amp; [[UIApplication sharedApplication] openURL:navigationAction.request.URL])&#123; policy = WKNavigationActionPolicyCancel; &#125; decisionHandler(policy);&#125;- (void)userContentController:(WKUserContentController *)userContentController didReceiveScriptMessage:(WKScriptMessage *)message&#123; if ([message.name isEqualToString:@"OpenWxMinFunc"]) &#123; [_webView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:message.body]]]; [Tools enter_weixin_miniProgramid:@â€œå¡«å†™ç”³è¯·çš„å°ç¨‹åºåç§°â€ path:@â€œå¡«å†™è·¯å¾„â€]; &#125;&#125;- (void)webView:(WKWebView *)webView didFinishNavigation:(null_unspecified WKNavigation *)navigation&#123; [_hud hideAnimated:YES];&#125;- (void)webView:(WKWebView *)webView didFailNavigation:(null_unspecified WKNavigation *)navigation withError:(NSError *)error&#123; [_hud hideAnimated:YES]; [self goBack];&#125;- (void)gobackVoid&#123; [self goBack];&#125;- (void)goBack&#123; id vc = [self.navigationController popViewControllerAnimated:YES]; if (nil == vc) &#123; [self dismissViewControllerAnimated:YES completion:^&#123; // æ— äº‹ä»¶å¤„ç† &#125;]; &#125;&#125;- (WKWebView *)webView&#123; if (!_webView) &#123; WKWebViewConfiguration *config = [[WKWebViewConfiguration alloc]init]; config.preferences = [[WKPreferences alloc]init]; config.preferences.minimumFontSize = 10; config.preferences.javaScriptEnabled = YES; config.preferences.javaScriptCanOpenWindowsAutomatically = NO; config.userContentController = [[WKUserContentController alloc] init]; config.processPool = [[WKProcessPool alloc] init]; [config.userContentController addScriptMessageHandler:self name:@"OpenWxMinFunc"]; _webView = [[WKWebView alloc] initWithFrame:CGRectZero configuration:config]; _webView.backgroundColor = [UIColor whiteColor]; _webView.scrollView.bounces = YES; NSURL *url = [NSURL URLWithString:@"https://dddd.net/ddd/song_app_list.html"];// å¡«å†™ä½ çš„ç½‘å€URL [_webView loadRequest:[NSURLRequest requestWithURL:url]]; _webView.navigationDelegate = self; &#125; return _webView;&#125; å¾®ä¿¡å°ç¨‹åºè·³è½¬æ–¹æ³•ï¼š + (void)enter_weixin_miniProgramid:(NSString *)userName path:(NSString *)path&#123; if (![WXApi isWXAppInstalled]) &#123; [self showMessage:@"æ‚¨æœªå®‰è£…å¾®ä¿¡ï¼Œè¯·å…ˆå®‰è£…å¾®ä¿¡"]; return; &#125; WXLaunchMiniProgramReq *launchMini = [WXLaunchMiniProgramReq object]; launchMini.userName = userName; launchMini.path = path; launchMini.miniProgramType = WXMiniProgramTypeRelease; [WXApi sendReq:launchMini];&#125; ä¿®æ”¹info.plistï¼Œå¢žåŠ ä¸€æ¡ï¼š LSApplicationQueriesSchemes weixin wechat æ•ˆæžœå¦‚å›¾: æ€è€ƒä¸Žæ€»ç»“ï¼š è¿™æ˜¯Appæ‹‰èµ·å°ç¨‹åºï¼Œè¯·é—®å¦‚æžœç”¨å°ç¨‹åºæ‹‰èµ·APPï¼Ÿæ˜¯é€šè¿‡onRespå›žè°ƒä¹ˆï¼Ÿ [config.userContentController addScriptMessageHandler:self name:@â€OpenWxMinFuncâ€]ï¼Œåœ¨WKWebViewè¦é…ç½®è¿™ä¸€æ¡ï¼Œæ‰èƒ½å’ŒH5å‰ç«¯è”è°ƒï¼Œè¯·é—®OpenWxMinFuncè¿™ä¸ªå­—æ®µæ˜¯å¹²å˜›ç”¨çš„ï¼Ÿ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[IonicçŽ¯å¢ƒæ­å»º]]></title>
    <url>%2F2018%2F12%2F28%2F2020-01-08-18%2F</url>
    <content type="text"><![CDATA[å®‰è£…brew1.å‘½ä»¤è¡Œè¾“å…¥/usr/bin/ruby -e â€œ$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot; brew -v æ˜¾ç¤ºç‰ˆæœ¬å· å®‰è£…node.jså‘½ä»¤ï¼š brew install node psï¼šå¦‚æžœä¹‹å‰æ›¾ç»å®‰è£…è¿‡ä½†æ˜¯ç‰ˆæœ¬å¹¶ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œè¯·å‡çº§ç‰ˆæœ¬ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š çœ‹nodeç‰ˆæœ¬ï¼Œæ²¡å®‰è£…çš„è¯·å…ˆå®‰è£…ï¼›node -vsudo npm cache clean -f å®‰è£…nodeç‰ˆæœ¬ç®¡ç†å·¥å…·â€™nâ€™;sudo npm install n -g ä½¿ç”¨ç‰ˆæœ¬ç®¡ç†å·¥å…·å®‰è£…æŒ‡å®šnodeæˆ–è€…å‡çº§åˆ°æœ€æ–°nodeç‰ˆæœ¬ï¼›sudo n stable ï¼ˆå®‰è£…nodeæœ€æ–°ç‰ˆæœ¬ï¼‰sudo n 8.9.4 ï¼ˆå®‰è£…nodeæŒ‡å®šç‰ˆæœ¬8.9.4ï¼‰ ä½¿ç”¨node -væŸ¥çœ‹nodeç‰ˆæœ¬ï¼Œå¦‚æžœç‰ˆæœ¬å·æ”¹å˜ä¸ºä½ æƒ³è¦çš„åˆ™å‡çº§æˆåŠŸã€‚ å®‰è£… ionic å®‰è£…å…¨å±€çš„ionic CLInpm install -g ionic æ£€æµ‹ionicæ˜¯å¦å®‰è£…æˆåŠŸï¼šionic -v åˆ›å»ºionicé¡¹ç›®é€šè¿‡ionic cliå‘½ä»¤åˆ›å»ºionicé¡¹ç›®ï¼šionic start myApp tabs â€“type=angularï¼ˆç›®å‰ionic4æ˜¯betaç‰ˆï¼Œéœ€è¦åŠ ä¸Š â€“type=angularæ‰èƒ½åˆ›å»ºåŸºäºŽangularçš„é¡¹ç›®ï¼ŒåŽé¢ç­‰å‘å¸ƒæ­£å¼ç‰ˆæœ¬ï¼Œå°±ä¸éœ€è¦äº†ï¼‰ è¿è¡Œionicé¡¹ç›®ï¼š ionic serve â€“lab å¯èƒ½é‡åˆ°å¤±è´¥åŽŸå› ï¼š Error: Node Sass does not yet support your current environment: OS X 64-bit with Unsupported runtime (67) å®‰è£… cordova åˆ©ç”¨npmå‘½ä»¤å®‰è£…cordova sudo npm install -g cordova åˆ©ç”¨cordovaåˆ›å»ºé¡¹ç›® cordova create HelloWorld å¢žåŠ iOSå¼€å‘å¹³å° cordova playform add ios é€šè¿‡iOSè®¾å¤‡è¿›è¡Œè¿è¡Œ cordova run ios åˆ©ç”¨æ¨¡æ‹Ÿå™¨è¿›è¡Œè¿è¡Œ cordova emulate ios â€“target iPhone-6s é€šè¿‡æ¨¡æ‹Ÿå™¨è¿è¡Œionic ionic cordova emulate ios â€“ â€“buildFlag=â€-UseModernBuildSystem=0â€ â€“verbose å®‰è£…UIå·¥å…· VSCODEç›´æŽ¥åœ¨å®˜ç½‘å®‰è£…ï¼Œæ²¡æœ‰å¤ªå¤šéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚ è‡³æ­¤çŽ¯å¢ƒå·²ç»æ­å»ºå¥½äº†ï¼Œå¯èƒ½é‡åˆ°çš„é—®é¢˜ï¼š å®‰è£…å‡ºçŽ°çš„é—®é¢˜é—®é¢˜ï¼š-bash: cordova: command not foundè§£å†³æ–¹æ¡ˆï¼š export PATH=$PATH:/usr/local/share/npm/bin npm config get prefix echo â€œ$PATHâ€ npm config set prefix /usr/local sudo npm install -g cordova é—®é¢˜ï¼šæ— æ³•å®‰è£…cordovaè§£å†³æ–¹æ¡ˆï¼š sudo npm install â€“unsafe-perm=true â€“allow-root â€“save-dev cordova é—®é¢˜ï¼šæ— æ³•ç”¨iOSè™šæ‹Ÿæœºæ‰“å¼€è§£å†³æ–¹æ¡ˆï¼š ionic cordova emulate ios â€“ â€“buildFlag=â€-UseModernBuildSystem=0â€ å¦‚æžœå‡ºçŽ°è¿™ç§é”™è¯¯ï¼š CordovaError: Promise rejected with non-error: â€œxcode-select: error: tool â€˜xcodebuildâ€™ requires Xcode, but active developer directory â€˜/Library/Developer/CommandLineToolsâ€™ is a command line tools instance\nâ€ at cli.catch.err (/usr/local/lib/node_modules/cordova/bin/cordova:30:15) at process.internalTickCallback (internal/process/next_tick.js:77:7)[ERROR] An error occurred while running subprocess cordova. cordova emulate ios --buildFlag=-UseModernBuildSystem=0 exited with exit code 1. Re-running this command with the --verbose flag may provide more information. è¿™ç§æƒ…å†µæ˜¯xcodebuildçš„è·¯å¾„ä¸æ­£ç¡®ï¼Œè§£å†³æ–¹æ¡ˆï¼š sudo xcode-select â€“switch /Applications/Xcode.app/Contents/Developer/]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS UICollectionViewCellä¸­çš„å›¾ç‰‡æ•°å­—å¤ç”¨é—®é¢˜]]></title>
    <url>%2F2018%2F12%2F28%2F2020-01-08-19%2F</url>
    <content type="text"><![CDATA[éœ€æ±‚å¦‚å›¾æ‰€ç¤ºï¼Œæ’­æ”¾æ¬¡æ•°:2000ï¼Œä½†æ˜¯è¦æ±‚åªèƒ½é€šè¿‡å›¾ç‰‡æ•°å­—æ¥å®žçŽ°. å®žçŽ°æ–¹å¼è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æžœä»…ä»…é€šè¿‡æ‹¼æŽ¥æ•°å­—å›¾ç‰‡ï¼Œåœ¨cellæ–¹æ³•ä¸­å®žçŽ°ï¼Œå°±ä¼šå¼•èµ·cellå¤ç”¨é—®é¢˜ã€‚ç±»ä¼¼è¿™ç§æƒ…å†µ æ’­æ”¾æ¬¡æ•°:2000ä¸‡ ï¼Œ å…¶ä¸­2ï¼Œ0ï¼Œ0ï¼Œ0,ä¸‡ ä¸º5å¼ å›¾ç‰‡æ‹¼æŽ¥è€Œæˆ æœ‰ä¸€ç§åšæ³•æ˜¯å°†4ä¸ªimageæ‹¼æŽ¥æˆä¸€ä¸ªImageViewä¸Šé¢ï¼Œè¿™ç§æ–¹å¼ä¸ä¼šå¼•èµ·å¤ç”¨. ç”±äºŽæ’­æ”¾æ¬¡æ•°æœ€å¤šä¸ä¼šè¶…è¿‡10ä½æ•°ï¼Œæ‰€ä»¥å°±å¯ä»¥ç”³è¯·10ä¸ªimageView,æ¥æ‰¿è½½æ•°å­—å›¾ç‰‡ï¼ŒåŽé¢ç”¨ä¸åˆ°çš„å¯ä»¥å°†ImageViewè¿›è¡Œéšè—ï¼Œè¿™ç§åšæ³•ä¹Ÿä¸ä¼šå¼•èµ·å¤ç”¨é—®é¢˜ã€‚ æˆ‘åˆ©ç”¨çš„æ˜¯ç¬¬äºŒç§åšæ³•ï¼Œé¦–å…ˆåœ¨cellåˆå§‹åŒ–çš„æ—¶å€™å¯¹æ•°å­—çš„imageViewè¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼Œå¹¶æ‰“ä¸Šç›¸åº”çš„tagå€¼ï¼Œæ·»åŠ æ•°æ®çš„æ—¶å€™ï¼Œé€šè¿‡tagå€¼æ‰¾åˆ°å¯¹åº”çš„imageViewã€‚ for (int i=0;i&lt;12;++i) &#123; UIImageView *numberImageView = [[UIImageView alloc] init]; numberImageView.tag=i+1000; [self addSubview:numberImageView];&#125; åˆå§‹åŒ–å®Œæ¯•åŽï¼Œåœ¨cellçš„æ·»åŠ æ•°æ®çš„æ–¹æ³•ä¸­,å¯¹æ•°å­—ImageViewè¿›è¡ŒFrameå¸ƒå±€ï¼Œå¸ƒå±€æ–¹æ³•å¦‚ä¸‹ï¼š CGFloat width = CGRectGetMaxX(playerImage.frame); CGFloat height = CGRectGetMaxY(playerImage.frame); for (int i=1;i&lt;=11;++i) &#123; UIImageView *imageView = (UIImageView *)[self viewWithTag:i+1000]; imageView.hidden = YES; &#125; int top = 0; for (int i=0; i&lt;numberStr.length; ++i) &#123; UIImageView *numberImageView = (UIImageView *)[self viewWithTag:i+1001]; numberImageView.hidden = NO; numberImageView.image = [UIImage imageNamed:[NSString stringWithFormat:@"å›¾ç‰‡æ•°å­—_%c",[numberStr characterAtIndex:i]]]; numberImageView.frame = CGRectMake(width, height-numberImageView.image.size.height-1, numberImageView.image.size.width, numberImageView.image.size.height); width += numberImageView.image.size.width; top = i; &#125; ++top; if (flag == 1) &#123; UIImageView *numberImageView = (UIImageView *)[self viewWithTag:top+1001]; numberImageView.hidden = NO; numberImageView.image = [UIImage imageNamed:@"å›¾ç‰‡-ä¸‡"]; numberImageView.frame = CGRectMake(width, height-numberImageView.image.size.height, numberImageView.image.size.width, numberImageView.image.size.height);&#125; æ€è€ƒä¸Žæ€»ç»“ï¼šå…³äºŽCellå¤ç”¨çš„é—®é¢˜ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯UIViewä¸ªæ•°ä¸ä¸€è‡´å¯¼è‡´çš„ï¼Œæ‰€ä»¥ä¸€å®šè¦ä¿è¯UIViewåœ¨æ¯ä¸ªcellä¸­ä¸ªæ•°æ˜¯ä¸€è‡´çš„ï¼Œå¦‚æžœä¸æ˜¾ç¤ºï¼Œä½ è¦å¯¹æ­¤è¿›è¡Œéšè—ã€‚]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSä¸ªäººä¸­å¿ƒé€æ˜Žå¯¼èˆªæ ç®€æ˜“å®žçŽ°]]></title>
    <url>%2F2018%2F06%2F27%2F2020-01-08-21%2F</url>
    <content type="text"><![CDATA[éœ€æ±‚ä»»åŠ¡è¿›åº¦çš„åœ†å½¢åŒºåŸŸå¯ä»¥ç‚¹å‡»(é»„è‰²åœ†åœˆå†…çš„éƒ¨åˆ†éƒ½å¯ä»¥ç‚¹å‡») å®žçŽ°æ–¹æ³•å®žçŽ°æ€è·¯ é€šè¿‡ä¸Šå›¾çº¢è‰²æ–¹æ¡†çš„UIViewå¢žåŠ æ‰‹åŠ¿ï¼Œå¦‚æžœä»…ä»…æ˜¯é€šè¿‡touchView.layer.cornerRadiusçš„æ–¹å¼æ˜¯æ— æ³•å°†ä¸Šå›¾çº¢è‰²çŸ©å½¢çš„è§¦æ‘¸åŒºåŸŸå˜æˆé»„è‰²çš„åœ†å½¢è§¦æ‘¸åŒºåŸŸã€‚ é€šè¿‡hitTest:withEventæ–¹æ³•è¿›è¡Œå¤„ç†ï¼Œåˆ¤æ–­åœ†åœˆèŒƒå›´ï¼Œå“åº”å…¶è§¦æ‘¸äº‹ä»¶ã€‚è‹¥ä¸åœ¨åœ†åœˆå†…ï¼Œåˆ™ä¸å¤„ç†è§¦æ‘¸äº‹ä»¶ã€‚ ä»£ç - (BOOL)touchPointInsideCircle:(CGPoint)center radius:(CGFloat)radius targetPoint:(CGPoint)point&#123; CGFloat dist = sqrtf((point.x - center.x) * (point.x - center.x) + (point.y - center.y) * (point.y - center.y)); return (dist &lt;= radius);&#125;- (UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event&#123; UIView *hitView = nil; BOOL pointInRound = [self touchPointInsideCircle:self.touchView.center radius:163/2.0 targetPoint:point]; if (pointInRound) &#123; hitView = self.touchView; &#125; else &#123; hitView = self; &#125; return hitView;&#125;- (UIView *)touchView&#123; if (!_touchView) &#123; _touchView = [[UIView alloc] init]; _touchView.frame = CGRectMake(0, 0, 163, 163); _touchView.centerX = self.frame.size.width/2.0; _touchView.centerY = self.frame.size.height/2.0; _touchView.layer.cornerRadius = 163/2.0; _touchView.layer.masksToBounds = YES; _touchView.clipsToBounds = YES; UITapGestureRecognizer *tapGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(touthVoid)]; [_touchView addGestureRecognizer:tapGesture]; &#125; return _touchView;&#125;]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Blockå¾ªçŽ¯å¼•ç”¨å¾ˆæœ‰æ„æ€çš„ä¸€é“é¢˜ç›®]]></title>
    <url>%2F2018%2F06%2F15%2F2020-01-08-15%2F</url>
    <content type="text"><![CDATA[ç–‘é—®æ˜¯åœ¨ç®€ä¹¦ä¸­çœ‹åˆ°çš„ï¼ŒåŽŸåœ°å€ä¸ºï¼šhttps://www.jianshu.com/p/6d6fd717390e ä¾‹ä¸€: - (void)viewDidLoad &#123; [super viewDidLoad]; Student *student = [[Student alloc]init]; student.name = @"Hello World"; __weak typeof(student) weakStu = student; Student *strongStu = weakStu; student.study = ^&#123; dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.0 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123; NSLog(@"my name is = %@", strongStu.name); &#125;); &#125;;&#125; ä½œè€…åŽŸè¯æ˜¯ï¼š ä¾‹1æ˜¯æœ‰å†…å­˜æ³„æ¼çš„æ²¡æœ‰èµ°-[Student dealloc]ï¼Œå› ä¸ºæœªæ‰§è¡Œstudent.study, æ‰€ä»¥dispatch_after blockä¹Ÿä¸ä¼šèµ°ï¼Œä½†æ˜¯dispatch_after bLockå´å¼ºå¼•ç”¨äº†strongStuè¿˜æ˜¯å‘ç”Ÿäº†å¾ªçŽ¯å¼•ç”¨ã€‚è¿™ä¸ªæ¯”è¾ƒå¥½ç†è§£ã€‚ä½†æ˜¯ä¸‹é¢ä¾‹2,å°±æ”¹äº†ä¸€è¡Œä»£ç  æˆ‘æ€Žä¹ˆä¹Ÿæƒ³ä¸é€šä¸ºä»€ä¹ˆ æ²¡æœ‰å‘ç”Ÿå¾ªçŽ¯å¼•ç”¨ï¼Œèµ°äº†-[Student dealloc] . ä¾‹2ï¼š - (void)viewDidLoad &#123; [super viewDidLoad]; Student *student = [[Student alloc]init]; student.name = @"Hello World"; __weak typeof(student) weakStu = student; student.study = ^&#123; Student *strongStu = weakStu; dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.0 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^&#123; NSLog(@"my name is = %@", strongStu.name); &#125;); &#125;;&#125; dispatch_after block å¼ºå¼•ç”¨äº†å¤–éƒ¨å˜é‡strongStu ï¼Œè¿™ç§ä¸è°ƒç”¨student.study()çš„å†™æ³•ä¸ºä»€ä¹ˆæ²¡æœ‰å¾ªçŽ¯å¼•ç”¨å‘¢ï¼Œä½†æ˜¯å¦‚æžœåœ¨ViwDidLoadç»“å°¾è°ƒç”¨student.study()ï¼Œé‚£ä¹ˆä¼šåœ¨2ç§’åŽæ‰§è¡Œå®Œdispatch_after blockæ‰ä¼šèµ°-[Student dealloc]ï¼Œä¸å°±è¯´æ˜Ždispatch_after blockæŒæœ‰è¿™ä¸ªstudentï¼Œèµ°å®Œæ‰å›žé”€æ¯ï¼Œé‚£å¦‚æžœä¸æ‰§è¡Œstudent.study()çš„è¯ï¼ŒæŒ‰é“ç†è®²ï¼Œåº”è¯¥ä¹Ÿä¼šè¢«dispatch_after blockæŒæœ‰è¿™ä¸ªstudentï¼Œä¸ºä»€ä¹ˆ ä¸ä¼šäº§ç”Ÿå¾ªçŽ¯å¼•ç”¨å‘¢ åŒªå¤·æ‰€æ€å¦‚æžœæœ‰å“ªä¸ªå¤§ç¥žè·¯è¿‡ï¼Œéº»çƒ¦ç»™ä¸ªæ€è·¯ï¼Œæˆ‘çœŸæƒ³ä¸æ˜Žç™½ã€‚ è¯·é—®è¿™ä¸ªé—®é¢˜å‡ºåœ¨å“ªé‡Œï¼Ÿ - åŽä¸½çš„åˆ†å‰²çº¿ï¼Œæ€è€ƒå®Œå†çœ‹æˆ‘çš„ç†è§£ã€‚ã€‚ - è§£ç­”é¦–å…ˆè¯´ä¸‹ä½ å¯¹ä¾‹1åœºæ™¯è§£ç­”çš„é—®é¢˜ä½ çš„è§£ç­”æ˜¯ï¼šQï¼šä¾‹1æ˜¯æœ‰å†…å­˜æ³„æ¼çš„æ²¡æœ‰èµ°-[Student dealloc]ï¼Œå› ä¸ºæœªæ‰§è¡Œstudent.study, æ‰€ä»¥dispatch_after blockä¹Ÿä¸ä¼šèµ°ï¼Œä½†æ˜¯dispatch_after bLockå´å¼ºå¼•ç”¨äº†strongStuè¿˜æ˜¯å‘ç”Ÿäº†å¾ªçŽ¯å¼•ç”¨ã€‚è¿™ä¸ªæ¯”è¾ƒå¥½ç†è§£ã€‚ä½†æ˜¯ä¸‹é¢ä¾‹2,å°±æ”¹äº†ä¸€è¡Œä»£ç  æˆ‘æ€Žä¹ˆä¹Ÿæƒ³ä¸é€šä¸ºä»€ä¹ˆ æ²¡æœ‰å‘ç”Ÿå¾ªçŽ¯å¼•ç”¨ï¼Œèµ°äº†-[Student dealloc] .Aï¼šæˆ‘å…ˆæ›´æ­£ä¸‹ä½ çš„è§£ç­”1.ä¾‹1çš„å†…å­˜æ³„æ¼å’Œæ‰§è¡Œä»¥åŠæœªæ‰§è¡Œstudent.studyæ²¡æœ‰ä»»ä½•ç›´æŽ¥å…³è”ï¼Œå¦‚æžœæœªæ‰§è¡Œstudent.studyå­˜åœ¨å†…å­˜æ³„æ¼ï¼Œé‚£ä¹ˆæ‰§è¡Œä¹Ÿä¼šå­˜åœ¨å†…å­˜æ³„æ¼ã€‚2.ä½†æ˜¯dispatch_after bLockå´å¼ºå¼•ç”¨äº†strongStuè¿˜æ˜¯å‘ç”Ÿäº†å¾ªçŽ¯å¼•ç”¨ï¼Œè¿™é‡Œé¢dispatch_afteråªæ˜¯å¹²æ‰°å› ç´ ï¼Œå’Œä½ çš„å†…å­˜æ³„æ¼æ²¡æœ‰ç›´æŽ¥å…³è”ã€‚ä½ å¯ä»¥åŽ»æŽ‰å®ƒï¼Œä¹Ÿä¸€æ ·ä¼šå†…å­˜æ³„æ¼ï¼Œæ‰€ä»¥åŽ»å¹´çš„ä½ åº”è¯¥æ˜¯ç†è§£é”™äº†ï¼Œå¯èƒ½ä»Šå¹´çš„ä½ å·²ç»è§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼Œä¸è¿‡è¿˜æ˜¯é’ˆå¯¹åŽ»å¹´çš„ä½ è¯´ä¸€ä¸‹é—®é¢˜çš„åŽŸå› å§ã€‚ Qï¼šä¾‹2ï¼Œdispatch_after block å¼ºå¼•ç”¨äº†å¤–éƒ¨å˜é‡strongStu ï¼Œè¿™ç§ä¸è°ƒç”¨student.study()çš„å†™æ³•ä¸ºä»€ä¹ˆæ²¡æœ‰å¾ªçŽ¯å¼•ç”¨å‘¢ï¼Œä½†æ˜¯å¦‚æžœåœ¨ViwDidLoadç»“å°¾è°ƒç”¨student.study()ï¼Œé‚£ä¹ˆä¼šåœ¨2ç§’åŽæ‰§è¡Œå®Œdispatch_after blockæ‰ä¼šèµ°-[Student dealloc]ï¼Œä¸å°±è¯´æ˜Ždispatch_after blockæŒæœ‰è¿™ä¸ªstudentï¼Œèµ°å®Œæ‰å›žé”€æ¯ï¼Œé‚£å¦‚æžœä¸æ‰§è¡Œstudent.study()çš„è¯ï¼ŒæŒ‰é“ç†è®²ï¼Œåº”è¯¥ä¹Ÿä¼šè¢«dispatch_after blockæŒæœ‰è¿™ä¸ªstudentï¼Œä¸ºä»€ä¹ˆ ä¸ä¼šäº§ç”Ÿå¾ªçŽ¯å¼•ç”¨å‘¢ã€‚Aï¼šæ— è®ºä¾‹1è¿˜æ˜¯ä¾‹2 dispatch_afterçš„blockéƒ½ä¸ä¼šå¼ºå¼•ç”¨ä½ çš„å˜é‡ï¼Œå¼ºå¼•ç”¨å˜é‡çš„æ˜¯strongStu.nameã€‚æ— è®ºæ˜¯å¦è°ƒç”¨student.study()å’Œä½ çš„å†…å­˜æ³„æ¼æ²¡æœ‰ç›´æŽ¥å…³è”ã€‚ æˆ‘å¯¹ä¾‹1çš„ç†è§£ä¾‹1ä¹‹æ‰€ä»¥ä¼šå†…å­˜æ³„æ¼æ˜¯ç”±äºŽï¼Œstudentç±»ä¸­çš„çš„æ–¹æ³•studyæ˜¯ç”¨copyå±žæ€§ä¿®é¥°çš„ï¼Œå› æ­¤åœ¨ä½ è°ƒç”¨student.study = ^{ }æ—¶ï¼Œæ˜¯å°†strongStu.nameè¿™ä¸ªå¼ºå¼•ç”¨èµ‹å€¼åˆ°äº†blockçš„å †ä¸­ï¼Œblockæœ¬æ¥å°±è¢«strongStuæ‰€å¼•ç”¨ï¼ŒblockåˆåŒæ—¶å¼•ç”¨äº†StrongStu,å¯¼è‡´A,Bæˆä¸ºåŒå‘å¼•ç”¨çš„ä¿ç•™çŽ¯ã€‚__weak typeof(student) weakStu = student;Student *strongStu = weakStu;è¿™ä¸¤å¥è¯ä¸€èµ·å†™ï¼Œè™½ç„¶ä¸æ˜Žç™½ä»€ä¹ˆæ„æ€ï¼Œä¸è¿‡weakStuæ˜¯å¼±å¼•ç”¨ï¼ŒstorngStuæ˜¯å¼ºå¼•ç”¨ã€‚å¦‚æžœä½ æƒ³æ‰“ç ´è¿™ä¸ªçŽ¯ï¼Œå¾ˆç®€å•ï¼Œå°±æ˜¯ç”¨å¼±å¼•ç”¨å°±å¯ä»¥äº†ã€‚æŠŠä¾‹ä¸€è¿™å¥è¯æ”¹æˆ NSLog(@â€my name is = %@â€, weakStu.name);å°±ä¸ä¼šå‡ºçŽ°å†…å­˜æ³„æ¼äº†ã€‚ æˆ‘å¯¹ä¾‹2çš„ç†è§£ä¾‹2ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰å¾ªçŽ¯å¼•ç”¨ï¼Ÿå› ä¸ºä½ åœ¨blocké‡Œé¢å°†å¼±å¼•ç”¨å˜æˆäº†å¼ºå¼•ç”¨ï¼Œè¿™ä¸ªä½ åº”è¯¥ä¼šæ‡‚å§ï¼Ÿé‚£ä¸ºä»€ä¹ˆä¾‹1çš„å¼ºå¼•ç”¨å°±ä¼šå¾ªçŽ¯å¼•ç”¨ï¼Œä¾‹2å°±ä¸ä¼šå‘¢ï¼Ÿå¾ˆç®€å•ï¼Œå› ä¸ºä¾‹1çš„StrongStuæ˜¯blockå¤–é¢çš„å¼ºå¼•ç”¨ï¼Œè¿™ä¸ªæ˜¯å¼•ç”¨è¿™ä¸ªblockçš„å¼ºå¼•ç”¨ï¼Œè€Œä¾‹2çš„blocké‡Œé¢çš„çš„å¼ºå¼•ç”¨æ˜¯ä¸´æ—¶å˜é‡ï¼Œåœ¨blockç»“æŸåŽä¼šè‡ªåŠ¨é”€æ¯æŽ‰ã€‚åº”è¯¥æ˜¯æ²¡ç†è§£blockå¤–é¢çš„å¼ºå¼•ç”¨å’Œblocké‡Œé¢çš„å¼ºå¼•ç”¨å¯¼è‡´ä¸æ˜Žç™½è¿™ä¸¤ä¸ªä¾‹å­çš„åŒºåˆ«ã€‚ æ€è€ƒä¸Žè¡ŒåŠ¨ï¼š ä¸ºä»€ä¹ˆdispatch_afterçš„blockå‡½æ•°ï¼Œä¸éœ€è¦è§£å†³å¾ªçŽ¯å¼•ç”¨ä¿ç•™çŽ¯çš„é—®é¢˜ï¼Ÿ å¦‚æžœæˆ‘ä»¬å¸¸å¸¸å†™ç½‘ç»œè¯·æ±‚æ—¶å€™ï¼Œä¼šç”¨åˆ°æˆåŠŸçš„blockå›žè°ƒæˆ–è€…å¤±è´¥çš„blockå›žè°ƒï¼Œè¿™é‡Œçš„blockéœ€è¦å†™@weakifyæˆ–è€…@strongifyä¹ˆï¼Ÿ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS è®¾ç½®å¯åŠ¨é¡µ LaunchImage ä¸æ˜¾ç¤ºé—®é¢˜]]></title>
    <url>%2F2018%2F06%2F15%2F2020-01-08-16%2F</url>
    <content type="text"><![CDATA[é—®é¢˜æ–°é¡¹ç›®æ­å»ºå¥½çš„æ—¶å€™ï¼Œå¯èƒ½æ›¿æ¢å¯åŠ¨é¡µå›¾ç‰‡å‘çŽ°å¯åŠ¨é¡µå›¾ç‰‡ä¸æ˜¾ç¤ºé—®é¢˜ã€‚ è§£å†³ å¤§æ¦‚çŽ‡æ˜¯é…ç½®é—®é¢˜ï¼ŒTarget-&gt;General-&gt;App Icons and Launch Images ä¸‹é¢æœ‰ä¸¤ä¸ªé€‰é¡¹ï¼š Launch Images Source: LaunchImage è¿™ä¸ªæ˜¯å¯åŠ¨å›¾æ–‡ä»¶å¤¹åç§°ï¼Œæ­£å¸¸ä¼šè‡ªåŠ¨åŒ¹é…,ç‚¹ä¸€ä¸‹èœå•çœ‹ä¸‹æ˜¯å¦å’Œä½ è‡ªåŠ¨å›¾æ–‡ä»¶ååç§°ç›¸åŒ¹é…ï¼Œå¦‚æžœä¸åŒ¹é…ï¼Œé‡æ–°ç‚¹ä¸€ä¸‹èœå•ï¼Œå®ƒä¼šè¿›è¡Œè‡ªåŠ¨åŒ¹é…ï¼Œç¨ç­‰1åˆ†é’Ÿï¼Œå°±ä¼šåŒ¹é…æˆåŠŸã€‚ çœ‹ä¸‹Launch Screen File: ï¼ˆæ˜¯å¦æœ‰æ–‡ä»¶åï¼‰ å¦‚æžœæœ‰æ–‡ä»¶åï¼Œè¯·æŠŠå®ƒåˆ æŽ‰ï¼Œå¤§éƒ¨åˆ†äººä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªé—®é¢˜ï¼Œå¯¼è‡´å¯åŠ¨å›¾æ˜¾ç¤ºä¸å‡ºæ¥ï¼Œä¸€å®šè¦ä¿æŒè¿™ä¸ªé€‰é¡¹ä¸ºç©ºã€‚ å¦‚æžœè¿˜æ˜¾ç¤ºä¸å‡ºï¼Œé‚£å°±ç‚¹å‡»LaunchScreen.storyboardï¼Œå°†å³ä¾§æ èœå•ä¸­çš„Use as Launch Screen é€‰é¡¹åŽ»æŽ‰ã€‚ å¦‚æžœè¿˜ä¸æˆåŠŸï¼Œåˆ é™¤æ‰‹æœºapp, é‡æ–°è¿è¡ŒAppè¯•è¯•ã€‚å¤šå–çƒ­æ°´ï¼Œé‡å¯Xcodeè¯•è¯•ã€‚]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSä¸ªäººä¸­å¿ƒé€æ˜Žå¯¼èˆªæ ç®€æ˜“å®žçŽ°]]></title>
    <url>%2F2018%2F06%2F15%2F2020-01-08-20%2F</url>
    <content type="text"><![CDATA[éœ€æ±‚iOSé¡¹ç›®ä¸ªäººä¸­å¿ƒéœ€è¦å¯¼èˆªæ éšç€å†…å®¹çš„ä¸Šæ»‘ï¼Œå¯¼èˆªæ é¢œè‰²é€æ¸å˜æ·±ï¼Œåˆ°æŒ‡å®šè·ç¦»æ—¶ï¼Œå¯¼èˆªæ å˜ä¸ºä¸é€æ˜Žï¼ŒçŠ¶æ€æ é¢œè‰²å˜é»‘è‰²ï¼Œå›¾æ ‡é¢œè‰²ä»Žç™½è‰²å˜ä¸ºé»‘è‰²ã€‚å¦‚å›¾æ‰€ç¤ºï¼š å®žçŽ°æ–¹æ³•1 åœ¨å¯¼èˆªæ è‡ªå®šä¹‰ç±»ä¸­å†™ä¸€ä¸ªæ–¹æ³•æ–¹æ³•åä¸ºï¼š- (void)animateByOffsetY:(CGFloat)offsety æ–¹æ³•åŠŸèƒ½æ˜¯é€šè¿‡æ»‘åŠ¨çš„ä½ç§»ï¼Œä½¿çŠ¶æ€æ çš„æ‰€æœ‰Viewå‘ç”Ÿé€æ˜Žåº¦æ”¹å˜ï¼Œä»£ç å¦‚ä¸‹ï¼š - (void)animateByOffsetY:(CGFloat)offsety&#123; CGFloat fitHeight = 156; // å¯¼èˆªæ ä¸Šçš„å›¾ç‰‡æˆ–è€…å­—ä½“ï¼Œéšä½ç§»å˜åŒ–é€æ˜Žåº¦ä¹Ÿå‘ç”Ÿå˜åŒ– self.usernameLabel.alpha = offsety/fitHeight; self.avatarImageView.alpha = offsety/fitHeight; // ä¸ªäººä¸­å¿ƒå¯¼èˆªæ èƒŒæ™¯é¢œè‰²ï¼Œéšä½ç§»å˜åŒ–é€æ˜Žåº¦ä¹Ÿå‘ç”Ÿå˜åŒ– self.backgroundColor = [ColorUtil cl_colorWithHexString:@"#FFFFFF" alpha:offsety/fitHeight]; // å½“æ»‘åŠ¨åˆ°ä¸€å®šå€¼ä¹‹åŽï¼Œæ›´æ”¹çŠ¶æ€æ çš„å›¾ç‰‡ï¼Œç”±ç™½è‰²å˜ä¸ºé»‘è‰² if (offsety &lt; fitHeight*0.7) &#123; self.rightBtnImageView.image = self.isMySelf ? IDSImageNamed(@"ic_nav_setup_w") : IDSImageNamed(@"ic_nav_report_w"); self.gobackImageView.image = IDSImageNamed(@"ic_nav_back_w"); &#125; else &#123; self.rightBtnImageView.image = self.isMySelf ? IDSImageNamed(@"ic_nav_setup_b") : IDSImageNamed(@"ic_nav_report_b"); self.gobackImageView.image = IDSImageNamed(@"ic_nav_back_b"); &#125;&#125; 2 åœ¨UIViewControllerä¸­å®žçŽ°å¦‚ä¸‹æ–¹æ³•å®žçŽ°- (void)scrollViewDidScroll:(UIScrollView *)scrollViewæ–¹æ³•ï¼Œç”¨æ¥æŽ§åˆ¶çŠ¶æ€æ å’Œè‡ªå®šä¹‰å¯¼èˆªæ çš„é¢œè‰²å˜åŒ–ï¼Œä»£ç å¦‚ä¸‹ï¼š /** æ–¹æ³•åŠŸèƒ½æ¥æŽ§åˆ¶é€æ˜Žå¯¼èˆªæ éšæ»‘åŠ¨è¿›è¡Œé€æ˜Žåº¦å˜åŒ–ï¼ŒçŠ¶æ€æ ä¹Ÿä¼šåœ¨ä¸€å®šè·ç¦»å‘ç”Ÿå˜åŒ– */- (void)scrollViewDidScroll:(UIScrollView *)scrollView&#123; [self.navigationView animateByOffsetY:scrollView.contentOffset.y-3]; if (scrollView.contentOffset.y &lt;= 0) &#123; [scrollView setContentOffset:CGPointMake(scrollView.contentOffset.x, 0)]; &#125; CGFloat fitHeight = 156; // ä¸‹é¢åŠŸèƒ½ä¸ºçŠ¶æ€æ è‰²å€¼å‘ç”Ÿæ”¹å˜çš„æ–¹æ³• if (scrollView.contentOffset.y &lt; fitHeight) &#123; if (_isNavWhiteColor) &#123; return; &#125; _isNavWhiteColor = YES; if ([self respondsToSelector:@selector(setNeedsStatusBarAppearanceUpdate)]) &#123; [self preferredStatusBarStyle]; [self performSelector:@selector(setNeedsStatusBarAppearanceUpdate)]; &#125; &#125; else &#123; if (!_isNavWhiteColor) &#123; return; &#125; _isNavWhiteColor = NO; if ([self respondsToSelector:@selector(setNeedsStatusBarAppearanceUpdate)]) &#123; [self preferredStatusBarStyle]; [self performSelector:@selector(setNeedsStatusBarAppearanceUpdate)]; &#125; &#125;&#125;/** ä¿®æ”¹çŠ¶æ€æ é¢œè‰² @return è¿”å›žçŠ¶æ€æ é¢œè‰²å˜é‡ */- (UIStatusBarStyle)preferredStatusBarStyle&#123; if (_isNavWhiteColor) &#123; return UIStatusBarStyleLightContent; &#125; else &#123; return UIStatusBarStyleDefault; &#125;&#125; æ€è€ƒä¸Žè¡ŒåŠ¨ï¼š ä¸è‡ªå®šä¹‰å¯¼èˆªæ ï¼Œç›´æŽ¥åˆ©ç”¨ç³»ç»ŸåŽŸç”Ÿçš„å¯¼èˆªæ å¦‚ä½•è¾¾åˆ°è¿™ç§æ•ˆæžœï¼Œéœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ ä¸è‡ªå®šä¹‰å¯¼èˆªæ ï¼Œç›´æŽ¥åˆ©ç”¨ç³»ç»ŸåŽŸç”Ÿçš„å¯¼èˆªæ ï¼Œå¦‚ä½•å®žçŽ°é¡µé¢å¹³æ»‘è¿‡æ¸¡æ•ˆæžœï¼Ÿå¦‚ä¸‹gifå›¾æ‰€ç¤º]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨NSTimerå®šæ—¶å™¨å‡ºçŽ°å†…å­˜æ³„æ¼é—®é¢˜]]></title>
    <url>%2F2018%2F06%2F14%2F2020-01-08-14%2F</url>
    <content type="text"><![CDATA[æœ‰æ²¡æœ‰å‘çŽ°åœ¨ä½¿ç”¨NSTimerç±»çš„å®šæ—¶å™¨ï¼Œå®žçŽ°å®šæ—¶å™¨çš„ç±»å¹¶æ²¡æœ‰èµ°deallocæ–¹æ³•ï¼Ÿè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ NSTimerå¸¸ç”¨å®šæ—¶å™¨å†™æ³•æ­£å¸¸æˆ‘ä»¬åˆ©ç”¨NSTimeræ–¹å¼å®žçŽ°ä»£ç å¦‚ä¸‹ï¼š @property (nonatomic, strong) NSTimer *tanMukuTimer;- (void)stopTanMuku&#123; [_tanMukuTimer invalidate]; _tanMukuTimer = nil;&#125;- (void)beginTanMuKu&#123; if (_tanMukuTimer == nil) &#123; _tanMukuTimer = [NSTimer scheduledTimerWithTimeInterval:30 target:self selector:@selector(requestNetwork) userInfo:nil repeats:YES]; [[NSRunLoop currentRunLoop] addTimer:_tanMukuTimer forMode:NSDefaultRunLoopMode]; &#125;&#125; é—®é¢˜ç”¨æ­¤æ–¹æ³•åˆ›å»ºçš„å®šæ—¶å™¨ä¼šåœ¨æŒ‡å®šçš„é—´éš”æ—¶é—´æ‰§è¡Œå®šæ—¶å™¨çš„æ–¹æ³•-requestNetwork,çŸ¥é“å¼€å‘è€…ç¨åŽå°†å…¶æ‰‹åŠ¨å…³é—­ä¸ºæ­¢ï¼Œtargetä¸Žselectorå‚æ•°æ ‡è¯†è®¡æ—¶å™¨å°†åœ¨å“ªä¸ªå¯¹è±¡ä¸Šè°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œè®¡æ—¶å™¨ä¼šä¿ç•™ç›®æ ‡å¯¹è±¡ï¼Œç­‰åˆ°è‡ªèº«å¤±æ•ˆï¼Œæ‰ä¼šé‡Šæ”¾ç›®æ ‡å¯¹è±¡ï¼Œå› ä¸ºè®¡æ—¶å™¨æ˜¯ç”¨å®žä¾‹å˜é‡æ¥å­˜æ”¾çš„ï¼Œæ‰€ä»¥å®žä¾‹ä¹Ÿä¿ç•™äº†è®¡æ—¶å™¨ï¼Œç„¶è€Œå°±å‡ºçŽ°äº†ä¿ç•™çŽ¯ã€‚é™¤éžåœ¨æŸä¸ªæ—¶é—´ç‚¹æ‰‹åŠ¨è°ƒç”¨-stopTanMuku æ–¹æ³•åœæ­¢è®¡æ—¶å™¨ï¼Œä»Žè€Œæ‰“ç ´ä¿ç•™çŽ¯ï¼Œä½†é€šè¿‡è°ƒç”¨æ–¹æ³•æ¥é¿å…å†…å­˜å“¦æ³„æ¼ï¼Œæ‰‹åŠ¨å¹²é¢„çš„æ–¹å¼å¹¶ä¸ç†æƒ³ã€‚å¦‚æžœæƒ³åœ¨ç³»ç»Ÿå›žæ”¶æœ¬ç±»æ—¶è°ƒç”¨åœæ­¢è®¡æ—¶å™¨çš„æ–¹æ¡ˆï¼Œæ‰“ç ´å¾ªçŽ¯å¼•ç”¨ï¼Œå°±ä¼šå‡ºçŽ°é—®é¢˜ï¼Œå› ä¸ºè®¡æ—¶å™¨å¯¹è±¡æœ‰å¼•ç”¨è®¡æ•°ï¼Œæ‰€ä»¥selfå®žä¾‹çš„ä¿ç•™è®¡æ•°ä¸ä¼šä¸º0ï¼Œå› æ­¤ç³»ç»Ÿå°±ä¸ä¼šè°ƒç”¨deallocæ–¹æ³•ï¼Œè€ŒçŽ°åœ¨æœ‰æ²¡æœ‰äººè°ƒç”¨åœæ­¢è®¡æ—¶å™¨çš„æ–¹æ³•ï¼Œæ‰€ä»¥å°±ä¼šå‡ºçŽ°å†…å­˜æ³„æ¼ï¼Œç±»æ°¸è¿œæ— æ³•è¢«é‡Šæ”¾æŽ‰ã€‚å¦‚æžœæ˜¯è®¡æ—¶å™¨è°ƒç”¨çš„æ˜¯è¯·æ±‚æ•°æ®æ–¹æ³•ï¼Œé‚£å°±å¯¼è‡´æ›´å¤šå…¶ä»–ä¸¥é‡çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚ è§£å†³æ–¹æ³•è¿™ç§æ–¹æ³•æ— æ³•é€šè¿‡ä»£ç æ£€æµ‹å‡ºæ¥ï¼Œå› æ­¤æˆ‘ä»¬è¦å¯¹è¿™ä¸ªé—®é¢˜è¿›è¡Œé¿å…ï¼Œå¯ä»¥é€šè¿‡blockè¿›è¡Œè§£å†³ï¼Œå› æ­¤è¦å†™ä¸ªNSTimerçš„åˆ†ç±»ï¼š @interface NSTimer (WPGBlockSupport)+ (NSTimer *)wpg_scheduledTimerWithTimeInterval:(NSTimeInterval)interval block:(void(^)(void))block repeats:(BOOL)repeats;@end#import "NSTimer+WPGBlockSupport.h"@implementation NSTimer (WPGBlockSupport)+ (NSTimer *)wpg_scheduledTimerWithTimeInterval:(NSTimeInterval)interval block:(void(^)(void))block repeats:(BOOL)repeats&#123; return [self scheduledTimerWithTimeInterval:interval target:self selector:@selector(wpg_blockInvoke:) userInfo:[block copy] repeats:repeats];&#125;+ (void)wpg_blockInvoke:(NSTimer *)timer&#123; void (^block)(void) = timer.userInfo; if (block) &#123; block(); &#125;&#125;@end å°†blockä½œä¸ºuserinfoçš„å‚æ•°ä¼ è¿›åŽ»ï¼Œåªè¦è®¡æ—¶å™¨è¿˜æœ‰æ•ˆï¼Œå°±ä¼šä¸€ç›´ä¿ç•™ç€å®ƒï¼Œä¼ å…¥å‚æ•°æ—¶è¦é€šè¿‡copyæ–¹æ³•å°†blockï¼Œcopyåˆ°å †ä¸Šï¼Œå¦åˆ™ç­‰åˆ°ç¨åŽè¦æ‰§è¡Œå®ƒçš„æ—¶å€™ï¼Œè¯¥å—å¯èƒ½å·²ç»æ— æ•ˆäº†ã€‚è®¡æ—¶å™¨çŽ°åœ¨çš„targetæ˜¯NSTimerçš„ç±»å¯¹è±¡ï¼Œç”±äºŽæ˜¯ä¸ªå•ä¾‹ï¼Œæ‰€ä»¥ä¸ç”¨æ‹…å¿ƒäº§ç”Ÿå¾ªçŽ¯å¼•ç”¨çš„é—®é¢˜ã€‚ä½†æ˜¯è¿™æœ¬èº«è¿˜ä¸èƒ½è§£å†³é—®é¢˜ï¼Œå› ä¸ºblockæ•èŽ·äº†selfå˜é‡ï¼Œæ‰€ä»¥blockè¦ä¿ç•™å®žä¾‹ï¼Œè®¡æ—¶å™¨æœ‰é€šè¿‡userinfoä¿ç•™äº†blockï¼Œæœ€åŽå®žä¾‹æœ¬èº«è¿˜è¦ä¿ç•™è®¡æ—¶å™¨ï¼Œä¸è¿‡æ”¹æˆweakå¼•ç”¨ï¼Œå°±ç›´æŽ¥æ‰“ç ´ä¿ç•™çŽ¯ï¼Œæ‰“ç ´å¾ªçŽ¯å¼•ç”¨ã€‚ - (void)upstartQueryTimer&#123; [self upstopQueryTimer]; if (nil == _upqueryNoticeTimer) &#123; __weak typeof(self) weakSelf = self; _upqueryNoticeTimer = [NSTimer wpg_scheduledTimerWithTimeInterval:3.0 block:^&#123; __strong typeof(self) strongself = weakSelf; [strongself startAnimition]; &#125; repeats:NO]; &#125;&#125; è¿™æ®µä»£ç å…ˆå®šä¹‰äº†å¼±å¼•ç”¨ï¼Œç„¶åŽé€šè¿‡weakå˜é‡ä¸ç›´æŽ¥æ•èŽ·selfå˜é‡ï¼Œè¿™æ ·selfå°±ä¸ä¼šè¢«è®¡æ—¶å™¨æ‰€ä¿ç•™ï¼Œå½“å—å¼€å§‹æ‰§è¡Œæ—¶ï¼Œè€Œä¸ç›´æŽ¥æ•èŽ·æ™®é€šçš„selfå˜é‡ï¼Œå½“å¼€å§‹æ‰§è¡Œæ—¶ï¼Œç«‹åˆ»åœ¨blockå†…ç”Ÿæˆstrongå¼•ç”¨ï¼Œä»¥ä¿è¯å®žä¾‹æ‰§è¡ŒæœŸé—´å¯ä»¥å­˜æ´»ï¼Œä½†ç”±äºŽæ˜¯ä¸´æ—¶å˜é‡ï¼Œstrongå¼•ç”¨çš„selfå¹¶æ²¡æœ‰å­˜åœ¨å †ä¸­ï¼Œæ‰§è¡ŒåŽè‡ªåŠ¨å°±è¢«é‡Šæ”¾äº†ã€‚è¿™æ ·å°±å®Œç¾Žè§£å†³äº†ï¼Œä¸ä¼šè°ƒç”¨ç³»ç»Ÿä¸ä¼šè°ƒç”¨deallocçš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚ æ€è€ƒä¸Žè¡ŒåŠ¨ï¼š é™¤äº†é€šè¿‡NSTimerå®žçŽ°è®¡æ—¶å™¨å¤–ï¼Œè¿˜æœ‰å…¶ä»–å®žçŽ°å®šæ—¶å™¨çš„æ–¹å¼ä¹ˆï¼Ÿå“ªä¸ªæ›´å¥½ç”¨ï¼Ÿ é€šè¿‡GCDå®žçŽ°çš„å®šæ—¶å™¨ä¼šå‡ºçŽ°å†…å­˜æ³„æ¼çš„é—®é¢˜å—ï¼ŸGCDæ˜¯å¦‚ä½•å®žçŽ°å®šæ—¶å™¨æ–¹æ³•çš„ï¼Ÿ]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOS Appå¯¼å…¥è‡ªå®šä¹‰å­—ä½“]]></title>
    <url>%2F2018%2F06%2F12%2F2020-01-08-13%2F</url>
    <content type="text"><![CDATA[éœ€æ±‚iOSé¡¹ç›®ä¸­éœ€è¦å¯¼å…¥ç¬¬ä¸‰æ–¹å­—ä½“ï¼Œæ¥è¿›è¡Œæ˜¾ç¤ºå­—ä½“æ ·å¼ã€‚ å®žçŽ°æ–¹æ³•1 å…ˆæ‰¾åˆ°é€‚åˆçš„å­—ä½“å…ˆåœ¨å­—ä½“å§æ‰¾åˆ°æ¼‚äº®å¥½çœ‹çš„ç¬¬ä¸‰æ–¹å­—ä½“ï¼Œç½‘ç«™å¦‚ä¸‹ï¼šhttp://ziti8.cc/fonts/1057.htm ä¸‹è½½çš„å­—ä½“å¯èƒ½ä¸‰ç§åŽç¼€æ ¼å¼ï¼Œåˆ†åˆ«ä¸ºï¼šttc/ttf/otf TTCæ˜¯å‡ ä¸ªTTFåˆæˆçš„å­—åž‹ï¼Œä¾‹å¦‚åŒ…å«ç²—ä½“ã€ç»†ä½“ä¸¤ç§å­—åž‹ï¼ŒTTFå°±åªæœ‰ä¸€ç§å­—åž‹ã€‚ TTFæ˜¯appleå’Œå¾®è½¯å…±åŒæŽ¨å‡ºçš„å­—ä½“æ–‡ä»¶æ ¼å¼ï¼Œåªæœ‰ä¸€ç§å­—åž‹ã€‚ OTFæ˜¯TTFçš„å‡çº§ç‰ˆï¼Œæ”¯æŒæ›´é«˜çº§ç‰¹æ€§çš„å­—ä½“ã€‚ 2 å°†å­—ä½“åº“æ·»åŠ åˆ°é¡¹ç›®ä¸­ç›´æŽ¥æ‹‰è¿‘èµ„æºç›®å½•å°±çœ‹ï¼Œå¦‚å›¾ä¸‹æ‰€ç¤ºï¼š 3 Info.plistä¸­æ·»åŠ å­—ä½“åœ¨info.plistæ–‡ä»¶ä¸­é«˜é€Ÿç³»ç»Ÿä½ æƒ³è¿žæŽ¥å¯¼å…¥çš„å­—ä½“æ–‡ä»¶ï¼Œå­—æ®µä¸º Keyï¼š Fonts provided by application Value: å­—ä½“åç§°.otf/.ttf/.ttc å¦‚å›¾æ‰€ç¤ºï¼š 4 åœ¨ç»ˆç«¯ä¸­æ‰“å°å­—ä½“åç§°é€šè¿‡éåŽ†çš„æ–¹å¼è¿›è¡Œæ‰“å°å­—ä½“åç§°ï¼Œä»£ç å¦‚ä¸‹ï¼š for (NSString *fontfamilyname in [UIFont familyNames]) &#123; NSLog(@"family:'%@'",fontfamilyname); for(NSString *fontName in [UIFont fontNamesForFamilyName:fontfamilyname]) &#123; NSLog(@"\tfont:'%@'",fontName); &#125; NSLog(@"-------------"); &#125; æ‰“å°å‡ºæ¥æ‰¾åˆ°æˆ‘å¯¼å…¥çš„å­—ä½“font:åŽé¢çš„å­—æ®µå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„å­—ä½“åç§°ï¼Œå¦‚ä¸‹å›¾ï¼š å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™ä¸ªå­—ä½“çš„åç§°ä¸ºä¸­æ–‡çš„ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå°±åªèƒ½é€šè¿‡å­—ä½“çš„ä¸­æ–‡æ‹¼éŸ³å¤§å†™åŽ»æ‰¾ï¼ŒFZCTHï¼Œè¿™å‡ ä¸ªå­—æ¯åˆšå¥½èƒ½åŒ¹é…åˆ°æ‰“å°å‡ºæ¥çš„å­—ä½“FZCTHJWâ€“GB1-0,è¿™ä¸ªä¹Ÿåˆšå¥½æ˜¯æˆ‘ä»¬æƒ³è¦å¾—åˆ°çš„å­—ä½“ã€‚ 5 è®¾ç½®å­—ä½“é€šè¿‡ä»£ç å°†å­—ä½“è®¾ç½®ä¸ºå¯¼å…¥çš„è¿™ä¸ªæ–°å­—ä½“å°±å¯ä»¥ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š - (UILabel *)gameNameLabel&#123; if (!_gameNameLabel) &#123; _gameNameLabel = [[UILabel alloc] init]; _gameNameLabel.text = @" "; _gameNameLabel.font = [UIFont fontWithName:@"FZCTHJW--GB1-0" size:55]; _gameNameLabel.textColor = [ColorUtil cl_colorWithHexString:@"#FFFFFF"]; &#125; return _gameNameLabel;&#125; è‡³æ­¤ï¼Œæˆ‘ä»¬å°±æˆåŠŸå¯¼å…¥å¹¶ä½¿ç”¨ .ttf æ–‡ä»¶äº†ã€‚ å€Ÿé‰´ä½œè€…çš„é“¾æŽ¥åœ°å€ï¼šhttps://www.jianshu.com/p/e29c37639d81]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[iOSä¸‹è½½H5æ¸¸æˆzipåŒ…ï¼Œå¹¶è§£åŽ‹åœ¨æœ¬åœ°è¿è¡ŒH5æ¸¸æˆ]]></title>
    <url>%2F2018%2F05%2F20%2F2020-01-08%2F</url>
    <content type="text"><![CDATA[å‰è¨€ï¼š è¿™ç¯‡æ²¡æœ‰å¤ªå¤šæŠ€æœ¯ç»†èŠ‚ä»¥åŠåº•å±‚çŸ¥è¯†ï¼Œä»…ä»…æ˜¯è§£å†³éœ€æ±‚çš„æ“ä½œæ­¥éª¤ä»¥åŠè§£å†³æ–¹æ¡ˆã€‚ ä»£ç ä¼šæ”¾åœ¨Githubä¸Šï¼Œå¸Œæœ›å¤§å®¶ä¸€èµ·è®¨è®ºä¸‹å­˜åœ¨çš„é—®é¢˜ï¼Œä»¥åŠæ›´å¥½çš„è§£å†³æ–¹æ¡ˆã€‚ æ­£æ–‡çš„ä»£ç å¤§éƒ¨åˆ†æ˜¯ä¼ªä»£ç ï¼Œä¾›å­¦ä¹ ä»¥åŠè®¨è®ºç”¨ï¼Œå› æ­¤æ²¡æœ‰å†™å¤ªå¤šé˜²å¾¡å¼ç¼–ç¨‹çš„æ€æƒ³ï¼Œå¦‚æžœç”¨äºŽå·¥ä½œä¸­ï¼Œéœ€è¦è‡ªå·±åšå¥½é˜²å¾¡å¼ç¼–ç¨‹çš„æŽªæ–½ã€‚ ä¸ºé˜²æ­¢æœ‰ç€åŒæ ·éœ€æ±‚çš„ä¼™ä¼´æ— æ³•é€šè¿‡å…³é”®å­—æœç´¢åˆ°æœ¬æ–‡ï¼Œæ‰€ä»¥å°†æ ‡é¢˜èµ·çš„å¦‚æ­¤å†—é•¿ä»¥åŠä¸ç¬¦åˆæ­£å¸¸æ ‡é¢˜çš„èµ·åè§„èŒƒï¼Œå¸Œæœ›å¤§å®¶è°…è§£ï¼Œè¿™ç¯‡æ–‡ç›®çš„ä¸æ˜¯ä¸ºäº†åˆ†äº«çŸ¥è¯†ï¼Œè€Œæ˜¯ä¸ºäº†è§£å†³éœ€æ±‚ä»¥åŠé—®é¢˜ï¼Œè¿™ä¸ªä¸‹è½½å™¨æ˜¯æˆ‘ä»¬åšH5æ¸¸æˆå®žæ—¶åŒ¹é…å¯¹æˆ˜æ—¶ç”¨åˆ°ä¸€ä¸ªå°ç»„ä»¶ï¼Œç®€è¦çš„è¯´ä¸‹å®žçŽ°åŽŸç†ã€‚ éœ€æ±‚å¦‚ä¸‹ ä»ŽåŽç«¯APIæŽ¥å£ä¸‹è½½æ¸¸æˆåŽ‹ç¼©åŒ…ï¼Œå¹¶ä¿å­˜åœ¨æœ¬åœ°ã€‚ åœ¨æœ¬åœ°æ²™ç›’ç›®å½•è¿›è¡Œè§£åŽ‹ç¼© è§£åŽ‹æˆåŠŸåŽä¿å­˜åœ¨æœ¬åœ°æŒ‡å®šç›®å½•ï¼Œè¿›è¡Œæ–‡ä»¶ç®¡ç† å¦‚æžœç‰ˆæœ¬å·å˜æ›´ï¼Œéœ€è¦å°†æœ¬åœ°æ¸¸æˆåˆ é™¤ï¼Œå¹¶ä¿å­˜æœ€æ–°ç‰ˆæœ¬çš„H5æ¸¸æˆåˆ°æœ¬åœ° åœ¨æœ¬åœ°æ­å»ºä»£ç†æœåŠ¡å™¨ï¼Œé€šè¿‡iOSæœ¬åœ°æœåŠ¡å™¨ä»¥åŠç«¯å£å·ï¼Œè¿è¡ŒH5æ¸¸æˆã€‚ æˆ‘çš„æ€è·¯å°½é‡ç”¨æœ€ç®€æ´çš„æ–¹æ³•æ¥å®žçŽ°åŠŸèƒ½ï¼Œå°½é‡ç”¨æœ€æ–°çš„APIæ¥è§£å†³æŠ€æœ¯åœºæ™¯ï¼Œä¸ºäº†ä¾›å¤§å®¶ç†è§£æµç¨‹ã€‚ç®€åŒ–ä¸éœ€è¦çš„å†—ä½™ä»£ç ã€‚ ä¸€ã€å…³äºŽAPIä¸‹è½½ä¸‹è½½æµç¨‹å›¾ ä¸­æ–‡ç‰ˆ å»ºç«‹æ¸¸æˆæ¨¡å—Modelä¸»è¦ç”¨åˆ°çš„å­—æ®µæœ‰ï¼šH5ä¸‹è½½é“¾æŽ¥ï¼Œæ¸¸æˆå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ¸¸æˆç‰ˆæœ¬å·å­—æ®µç­‰ã€‚ /** * æ¸¸æˆå­—æ®µ Model */@interface WPGGamePageGames : NSObject// æ¸¸æˆid@property (nonatomic, copy) NSString *gameId;// H5æ¸¸æˆç‰ˆæœ¬@property (nonatomic, copy) NSString *h5Version;// H5æ¸¸æˆåŒ…ä¸‹è½½@property (nonatomic, copy) NSString *h5Down;// H5æ¸¸æˆåŒ…MD5@property (nonatomic, copy) NSString *h5Md5;@end è°ƒç”¨ NSURLSession APIè¿›è¡Œè¯·æ±‚ä¸‹è½½å¯¹NSURLSessionè¿›è¡Œåˆå§‹åŒ–åŠ è½½ï¼š - (NSURLSession *)session&#123; if (!_session) &#123; _session = [NSURLSession sessionWithConfiguration:[NSURLSessionConfiguration defaultSessionConfiguration] delegate:self delegateQueue:[NSOperationQueue mainQueue]]; &#125; return _session;&#125; å»ºç«‹ä¸€ä¸ªä¸‹è½½è¯·æ±‚ï¼Œå¦‚æžœä¸éœ€è¦æ–­ç‚¹ç»­ä¼ ï¼Œå¯ä»¥è‡ªåŠ¨å¿½ç•¥ (void)pause å’Œ (void)resume æ–¹æ³•ã€‚ @property (nonatomic, strong) NSURLSessionDownloadTask *task;@property (nonatomic, strong) NSData *resumeData;// å¼€å§‹åˆ›å»ºä¸‹è½½è¯·æ±‚å¹¶è¿›è¡Œä¸‹è½½ï¼ˆ_gameModel.h5Down ä¸ºH5æ¸¸æˆçš„ä¸‹è½½é“¾æŽ¥ï¼‰- (void)start&#123; NSURL *url = [NSURL URLWithString:_gameModel.h5Down]; NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url]; request.HTTPMethod = @"GET"; self.task = [self.session downloadTaskWithRequest:request]; [self.task resume];&#125;// æš‚åœä¸‹è½½è¯·æ±‚- (void)pause&#123; __weak __typeof(self) weakSelf = self; [self.task cancelByProducingResumeData:^(NSData * _Nullable resumeData) &#123; weakSelf.resumeData = resumeData; weakSelf.task = nil; &#125;];&#125;// æ¢å¤ä¸‹è½½è¯·æ±‚è¿›è¡Œæ–­ç‚¹ç»­ä¼ - (void)resume&#123; self.task = [self.session downloadTaskWithResumeData:self.resumeData]; [self.task resume]; self.resumeData = nil;&#125; 4ä¸ªé‡è¦ä¸‹è½½å›žè°ƒä»£ç†å¦‚ä¸‹ï¼š - (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didWriteData:(int64_t)bytesWritten totalBytesWritten:(int64_t)totalBytesWritten totalBytesExpectedToWrite:(int64_t)totalBytesExpectedToWrite&#123; // å±•ç¤ºä¸‹è½½è¿›åº¦&#125;- (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTaskdidFinishDownloadingToURL:(NSURL *)location&#123; // ä¸‹è½½æˆåŠŸ&#125;- (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didCompleteWithError:(NSError *)error&#123; if (error) &#123; // ä¸‹è½½å¤±è´¥ &#125;&#125;- (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didResumeAtOffset:(int64_t)fileOffset expectedTotalBytes:(int64_t)expectedTotalBytes&#123; // æ–­ç‚¹ç»­ä¼ çš„ä»£ç†&#125; äºŒã€åœ¨æœ¬åœ°æ²™ç›’ç›®å½•è¿›è¡Œè§£åŽ‹ç¼©è§£åŽ‹ç¼©éœ€è¦ç”¨åˆ°ç¬¬ä¸‰æ–¹åº“ï¼ŒSSZipArchiveä¸‹è½½åœ°å€å¦‚ä¸‹ï¼šhttps://github.com/ZipArchive/ZipArchive æ³¨æ„ SSZipArchive å¼•å…¥åˆ°å·¥ç¨‹æ—¶éœ€è¦æ·»åŠ  libz.tbd åº“ï¼Œå¦åˆ™ç¼–è¯‘æ—¶é€šä¸è¿‡ã€‚ä½¿ç”¨SSZipArchiveè§£åŽ‹æ–‡ä»¶çš„æ–¹æ³•ä¸ºï¼š BOOL ret1 = [SSZipArchive unzipFileAtPath:file toDestination:destination delegate:self];if (!ret1) &#123; NSLog(@"è§£åŽ‹å¤±è´¥"); return;&#125; SSZipArchiveè§£åŽ‹ç¼©çš„ä»£ç†æ–¹æ³•å¦‚ä¸‹ - (void)zipArchiveWillUnzipArchiveAtPath:(NSString *)path zipInfo:(unz_global_info)zipInfo&#123; NSLog(@"å°†è¦è§£åŽ‹ã€‚"); &#125;- (void)zipArchiveDidUnzipArchiveAtPath:(NSString *)path zipInfo:(unz_global_info)zipInfo unzippedPath:(NSString *)unzippedPath&#123; NSLog(@"è§£åŽ‹å®Œæˆï¼"); &#125; å…³äºŽSSZipArchiveæ‰€æœ‰æ–¹æ³•è¯´æ˜Žè¯¦ç»†APIä»¥åŠè°ƒç”¨æ–¹æ³•ï¼Œå·²æ”¾åœ¨é™„å½•æ ä¸­ï¼Œä¸åœ¨æ­£æ–‡è¯´æ˜Žã€‚ ä¸‰ã€æ–‡ä»¶ç®¡ç†å½“æ¸¸æˆè¾ƒå¤šçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œæœ¬åœ°ç®¡ç†ï¼Œæˆ‘çš„ç®¡ç†ç›®å½•å¦‚ä¸‹ï¼š Library/Caches/Game/(æ–‡ä»¶å¤¹åä¸ºï¼šGameId)/H5æ¸¸æˆèµ„æºå­˜æ”¾çš„åœ°æ–¹ ç”±äºŽGameIdä¸ºæ‰€æœ‰H5æ¸¸æˆçš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ‰€ä»¥æˆ‘çš„åšæ³•æ˜¯å°†æ‰€æœ‰H5æ¸¸æˆå­˜æ”¾åœ¨Caches/Game/æ–‡ä»¶ç›®å½•ä¸‹ï¼Œæ–‡ä»¶è·¯å¾„å‘½åä¸ºGameId,è¿™ä¾¿ä¸ä¼šå‡ºçŽ°æ¸¸æˆé‡åå¯¼è‡´æ¸¸æˆè¦†ç›–å®‰è£…çš„æƒ…å†µã€‚ å½“ç‰ˆæœ¬æ›´æ–°çš„æ—¶å€™ï¼Œä¹‹å‰å­˜åœ¨æ²™ç›’ç›®å½•ä¸­çš„æ¸¸æˆéœ€è¦åˆ é™¤ï¼Œå¹¶é‡æ–°ä¸‹è½½å®‰è£…ï¼Œæˆ‘é€šè¿‡æœ¬åœ°æ•°æ®åº“åŽ»å­˜å–ç‰ˆæœ¬ä¿¡æ¯ã€‚å½“ç„¶é¦–å…ˆè¦è£…ä¸€ä¸ªæœ¬åœ°æ•°æ®åº“ï¼Œæˆ‘æ˜¯é€šè¿‡FMDBç¬¬ä¸‰æ–¹åº“è¿›è¡Œç®¡ç†ã€‚ æ•°æ®è¡¨å­—æ®µå¦‚ä¸‹ï¼šId(è‡ªå¢žId),gameId(æ¸¸æˆå”¯ä¸€æ ‡è¯†ç¬¦),versionï¼ˆæ¸¸æˆç‰ˆæœ¬å·ï¼‰,existï¼ˆæ–‡ä»¶æ˜¯å¦åœ¨æœ¬åœ°å­˜åœ¨ï¼‰ ç‰ˆæœ¬ç®¡ç†ä¸šåŠ¡é€»è¾‘ï¼š 1ï¼‰è‹¥æ•°æ®åº“è¡¨ä¸­GameIdå­˜åœ¨ï¼Œç‰ˆæœ¬å·åœ¨æ•°æ®åº“åˆ—è¡¨ä¸­ä¸å­˜åœ¨ï¼Œåˆ™åˆ é™¤æœ¬åœ°GameIdçš„æ–‡ä»¶å¤¹è¿›è¡Œä¸‹è½½2ï¼‰è‹¥æ•°æ®åº“è¡¨ä¸­GameIdä¸å­˜åœ¨ï¼Œåˆ™ç›´æŽ¥è¿›è¡Œä¸‹è½½H5æ¸¸æˆä¿å­˜åœ¨æœ¬åœ°3ï¼‰è‹¥æ•°æ®åº“è¡¨ä¸­GameIdå­˜åœ¨ä¸”ç‰ˆæœ¬å·ä¹Ÿå­˜åœ¨ï¼Œåˆ™ç›´æŽ¥è¯»å–Library/Caches/Game/(æ–‡ä»¶å¤¹åä¸ºï¼šGameId)ç›®å½•ï¼ŒåŠ è½½H5æ¸¸æˆèµ„æºã€‚4ï¼‰å½“æ¸¸æˆä¸‹è½½æˆåŠŸåŽè§£åŽ‹åˆ°Library/Caches/Game/(æ–‡ä»¶å¤¹åä¸ºï¼šGameId)ç›®å½•ä¸‹ï¼Œå°†æ•°æ®åº“å†™å…¥æœ€æ–°çš„GameId,versionå­—æ®µå†™å…¥æ•°æ®è¡¨ä¸­ã€‚è¡¨æ˜Žæœ¬åœ°å­˜åœ¨Gameid=XXï¼Œversion=X.X.Xçš„H5æ¸¸æˆã€‚ æœ¬åœ°æ•°æ®åº“æ“ä½œä»£ç å¦‚ä¸‹ï¼š #import "FMDB.h"static WPGameDownloader *_instance;@interface WPGameDownloader() &lt;NSURLSessionDownloadDelegate, SSZipArchiveDelegate&gt;&#123; FMDatabase *_db;&#125;+ (instancetype)shareManager&#123; if (!_instance) &#123; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; _instance = [[self alloc] init]; &#125;); &#125; return _instance;&#125;- (id)init&#123; if (self = [super init]) &#123; _queenArray = [NSMutableArray new]; _isDownloading = NO; [self createTable]; &#125; return self;&#125;// åˆ›å»ºè¡¨- (void)createTable&#123; //å…ˆæ‰“å¼€æ•°æ®åº“,ç„¶åŽåˆ›å»ºè¡¨,æœ€åŽå…³é—­æ•°æ®åº“ if (![self openDataBase]) &#123; return; &#125; //tableExists åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨,å½“è¡¨ä¸å­˜åœ¨çš„æ—¶å€™å†åŽ»åˆ›å»º å‚æ•°:è¡¨å if (![_db tableExists:@"Game_Version_isExist"]) &#123; NSString *sql = @"CREATE TABLE IF NOT EXISTS Game_Version_IsExist ('ID' INTEGER PRIMARY KEY AUTOINCREMENT,'gameid' TEXT NOT NULL, 'version' TEXT NOT NULL,'exist' INTEGER NOT NULL)"; BOOL result = [_db executeUpdate:sql]; if (result) &#123; NSLog(@"create table success"); &#125; &#125; [_db close];&#125;// æ‰“å°å…¨éƒ¨æ•°æ®- (void)printAllData&#123; if (![self openDataBase]) &#123; return; &#125; FMResultSet *set = [_db executeQuery:@"SELECT * FROM Game_Version_isExist"]; // next å•æ­¥æŸ¥è¯¢ while ([set next]) &#123;ç»„ NSLOG(@"===%d,%@,%@,%d", [set intForColumnIndex:0],[set stringForColumn:@"gameid"],[set stringForColumn:@"version"],[set intForColumn:@"exist"]); &#125; [set close]; [_db close];&#125;// æŸ¥è¯¢å…¨éƒ¨æ•°æ®- (NSMutableArray *)selectAllData&#123; if (![self openDataBase]) &#123; return nil; &#125; FMResultSet *set = [_db executeQuery:@"SELECT * FROM Game_Version_isExist"]; NSMutableArray *array = [NSMutableArray array]; // next å•æ­¥æŸ¥è¯¢ while ([set next]) &#123; //æŠŠæ¯ä¸€æ¡æ•°æ®(åŒ…å«id,name,phone),å­˜å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œå†æŠŠå¯¹è±¡æ”¾å…¥æ•°ç»„ WPGameDataBaseModel *game = [[WPGameDataBaseModel alloc] init]; game.auto_id = [set intForColumnIndex:0]; game.gameId = [set stringForColumn:@"gameid"]; game.version = [set stringForColumn:@"version"]; game.value = [set intForColumn:@"exist"]; //æŠŠæŸ¥è¯¢çš„æ¯ä¸€æ¡æ•°æ®åˆ†åˆ«æ”¾å…¥æ•°ç»„ [array addObject:game]; &#125; [set close]; [_db close]; return array;&#125;- (BOOL)searchDataGameId:(NSString *)gameId versiton:(NSString *)version&#123; [self printAllData]; if (![self openDataBase]) &#123; return NO; &#125; NSString *sql = [NSString stringWithFormat:@"SELECT * FROM Game_Version_isExist WHERE gameid = %@ and version = '%@'", gameId,version]; FMResultSet *set = [_db executeQuery:sql]; BOOL returnValue = NO; while ([set next]) &#123; returnValue = YES; &#125; [set close]; [_db close]; return returnValue;&#125;// å¢žåŠ æ•°æ®- (void)inserIntoData:(WPGameDataBaseModel *)gameModel&#123; if ([self openDataBase]) &#123; [_db executeUpdateWithFormat:@"DELETE FROM Game_Version_IsExist WHERE gameid = %@", gameModel.gameId]; [_db executeUpdateWithFormat:@"INSERT INTO Game_Version_IsExist (gameid, version, exist) VALUES (%@,%@,%d)",gameModel.gameId, gameModel.version,gameModel.value]; [_db close]; &#125;&#125;// é€šè¿‡gameIdè¿›è¡Œä¿®æ”¹- (void)updateData:(WPGameDataBaseModel *)gameModel&#123; //æ ¹æ®idæ‰¾åˆ°å…·ä½“çš„è”ç³»äºº if ([self openDataBase]) &#123; [_db executeUpdateWithFormat:@"UPDATE Game_Version_IsExist SET version = %@, exist = %d WHERE gameid = %@",gameModel.version,gameModel.value,gameModel.gameId]; [_db close]; &#125;&#125;// åˆ é™¤- (void)deleteData:(NSString *)game_id&#123; if ([self openDataBase]) &#123; //æ ¹æ®è”ç³»äººçš„idè¿›è¡Œåˆ é™¤ [_db executeUpdateWithFormat:@"DELETE FROM Game_Version_IsExist WHERE gameid = %@",game_id]; [_db close]; &#125;&#125; ä¸‰ã€é€šè¿‡ä»£ç†æœåŠ¡å™¨è¿è¡ŒH5æ¸¸æˆJSæ¸¸æˆæƒ³è¦è¿è¡Œåˆ°iOSè®¾å¤‡çš„WebView, æ˜¯éœ€è¦è‡ªå·±æ­å»ºä¸€å¥—Web Serverçš„ã€‚é€šè¿‡CocoaHTTPServerä¸‰æ–¹åº“çš„è¿™ä¸ªå¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ï¼ŒCocoaHTTPServeræ˜¯ä¸ªå¾ˆå¼ºå¤§çš„ä¸‰æ–¹åº“ï¼Œä¸ä½†å¯ä»¥é€šè¿‡åŠ è½½H5æ¸¸æˆè¿è¡Œåœ¨æœ¬åœ°ï¼Œè¿˜èƒ½é€šè¿‡ipå±€åŸŸç½‘å’Œç”µè„‘ä¼ è¾“æ–‡ä»¶ï¼Œä½œç”¨å¼ºå¤§ã€‚ é¡¹ç›®ä¸­, æˆ‘ä½¿ç”¨äº† Cocoapods æ¥ç®¡ç†ç¬¬ä¸‰æ–¹åº“.åœ¨ podfile ä¸­ç›´æŽ¥æ·»åŠ ä¸‹é¢çš„ä»£ç : pod â€˜CocoaHTTPServerâ€™, â€˜~&gt; 2.3â€™ ç„¶åŽ pod install å³å¯ ä¸»è¦çš„æ ¸å¿ƒä»£ç å¦‚ä¸‹: @property (nonatomic, strong) HTTPServer *localHttpServer;- (void)_configLocalHttpServer&#123; NSString *webPath = [NSHomeDirectory() stringByAppendingPathComponent:@"Library/Caches/Game/snake/game/"]; _localHttpServer = [[HTTPServer alloc] init]; [_localHttpServer setType:@"_http.tcp"]; NSFileManager *fileManager = [[NSFileManager alloc] init]; NSLog(@"%@", webPath); if (![fileManager fileExistsAtPath:webPath]) &#123; NSLog(@"File path error!"); &#125; else &#123; NSString *webLocalPath = webPath; [_localHttpServer setDocumentRoot:webLocalPath]; NSLog(@"webLocalPath:%@", webLocalPath); [self _startWebServer]; &#125;&#125;- (void)_startWebServer&#123; NSError *error; if ([_localHttpServer start:&amp;error]) &#123; NSLog(@"Started HTTP Server on port %hu", [_localHttpServer listeningPort]); NSLog(@"Start Server Successfully."); self.port = [NSString stringWithFormat:@"%d", [_localHttpServer listeningPort]]; _startServerSuccess = YES; UIWebView *webView = [[UIWebView alloc]initWithFrame:CGRectMake(0, 0, [UIScreen mainScreen].bounds.size.width, [UIScreen mainScreen].bounds.size.height)]; [self.view addSubview:webView]; NSURL *url = [NSURL URLWithString:[NSString stringWithFormat:@"http://127.0.0.1:%@/index.html", self.port]]; [webView loadRequest:[NSURLRequest requestWithURL:url]]; &#125; else &#123; NSLog(@"Error starting HTTP Server: %@", error); _startServerSuccess = NO; &#125;&#125; åˆ°è¿™é‡Œæµç¨‹å°±å·²ç»è·‘é€šäº†ï¼Œç„¶åŽè¯´ä¸€ä¸‹æˆ‘ä¸‹è½½å™¨çš„å®žçŽ°ã€‚ æˆ‘çš„å®žçŽ°ä»£ç†ä»¥åŠæ–¹æ³•.hæ–‡ä»¶æ‰€æä¾›çš„æ–¹æ³•å¦‚ä¸‹ï¼š é€šè¿‡ isExistGame:gameModel æ–¹æ³•æ¥åˆ¤æ–­æœ¬åœ°æ˜¯å¦å­˜åœ¨è¿™ä¸ªH5æ¸¸æˆã€‚ é€šè¿‡ downloadGameModel:gameModel æ–¹æ³•æ¥ä¸‹è½½æ¸¸æˆï¼Œä¸‹è½½å¤šä¸ªæ¸¸æˆçš„æ—¶å€™ï¼Œæ˜¯é€šè¿‡ä¸²è¡Œé˜Ÿåˆ—çš„æ–¹å¼è¿›è¡Œä¸‹è½½ã€‚ ä¸‹è½½è¿›åº¦åœ¨delegateä¸­è¿›è¡Œç›‘å¬ï¼Œä¸‹è½½æˆåŠŸæˆ–è€…å¤±è´¥ä¹Ÿåœ¨delegateä¸­è¿›è¡Œç›‘å¬ @protocol WPGameDownloaderDelegate &lt;NSObject&gt;// ä¸‹è½½æˆåŠŸå›žè°ƒï¼ˆé€šè¿‡gameIdåˆ¤æ–­æ˜¯å¦ä¸ºæœ¬æ¬¡ä¸‹è½½ä»»åŠ¡ï¼‰- (void)downloadSuccess:(WPGameDownloader *)gamedownloader gameId:(NSString *)gameId;// ä¸‹è½½å¤±è´¥å›žè°ƒï¼ˆé€šè¿‡gameIdåˆ¤æ–­æ˜¯å¦ä¸ºæœ¬æ¬¡ä¸‹è½½ä»»åŠ¡ï¼‰- (void)downloadFail:(WPGameDownloader *)gamedownloader gameId:(NSString *)gameId;// ä¸‹è½½è¿›åº¦å›žè°ƒï¼ˆé€šè¿‡gameIdåˆ¤æ–­æ˜¯å¦ä¸ºæœ¬æ¬¡ä¸‹è½½ä»»åŠ¡ï¼‰- (void)downloadProgress:(NSInteger)progress gamedownloader:(WPGameDownloader *)gamedownloader gameId:(NSString *)gameId;@end@interface WPGameDownloader : NSObject@property (nonatomic, weak) id &lt;WPGameDownloaderDelegate&gt; delegate;// å•ä¾‹+ (instancetype)shareManager;// ä¸‹è½½æ¸¸æˆ- (void)downloadGameModel:(WPGGamePageGames *)gameModel;// æ¸¸æˆæ˜¯å¦ä¸‹è½½åˆ°æœ¬åœ°- (BOOL)isExistGame:(WPGGamePageGames *)gameModel;@end å£°æ˜Žå˜é‡å¹¶ç”¨å•ä¾‹è¿›è¡Œå®žçŽ°é€šè¿‡å•ä¾‹å¯¹H5æ¸¸æˆä¸‹è½½å™¨è¿›è¡Œæ›´å®‰å…¨çš„æŽ§åˆ¶ï¼Œä»¥é˜²æ­¢å¹¶è¡Œä¸‹è½½ä¼šå‡ºçŽ°çš„é—®é¢˜ï¼Œä»¥åŠå¤šçº¿ç¨‹åŒæ—¶è¯»å†™æ•°æ®åº“å‡ºçŽ°çš„é—®é¢˜ã€‚ @interface WPGameDownloader() &lt;NSURLSessionDownloadDelegate, SSZipArchiveDelegate&gt;&#123; FMDatabase *_db;&#125;@property (nonatomic, strong) NSURLSession *session;@property (nonatomic, strong) NSURLSessionDownloadTask *task;@property (nonatomic, strong) NSMutableArray *queenArray;@property (nonatomic, strong) WPGGamePageGames *gameModel;@property (nonatomic, assign) BOOL isDownloading;@end@implementation WPGameDownloader+ (instancetype)shareManager&#123; if (!_instance) &#123; static dispatch_once_t onceToken; dispatch_once(&amp;onceToken, ^&#123; _instance = [[self alloc] init]; &#125;); &#125; return _instance;&#125;- (id)init&#123; if (self = [super init]) &#123; _queenArray = [NSMutableArray new]; _isDownloading = NO; [self createTable]; &#125; return self;&#125; ä¸‹è½½å™¨å·²ç»å°†ä»£ç æ”¾å…¥githubä¸­ï¼Œå…³äºŽä¸‹è½½å™¨çš„éƒ¨åˆ†ä¸‹è½½æ“ä½œå¦‚ä¸‹ï¼š - (BOOL)isExistGame:(WPGGamePageGames *)gameModel&#123; return [self searchDataGameId:gameModel.gameId versiton:gameModel.h5Version];&#125;- (void)downloadGameModel:(WPGGamePageGames *)gameModel&#123; [_queenArray addObject:gameModel]; [self startDownLoad];&#125;- (void)startDownLoad&#123; if (_queenArray.count&lt;=0) &#123; return; &#125; if (_isDownloading) &#123; return; &#125; _isDownloading = YES; _gameModel = [_queenArray cl_objectAtIndex:0]; [_queenArray cl_removeObjectAtIndex:0]; [self start];&#125;- (void)removefile&#123; NSFileManager *manager = [NSFileManager defaultManager]; NSString *docsDir = [NSHomeDirectory() stringByAppendingPathComponent:[NSString stringWithFormat:@"Library/Caches/Game/%@/", _gameModel.gameId]]; [manager removeItemAtPath:docsDir error:nil];&#125;- (void)downloadFailed&#123; _isDownloading = NO; IDSLOG(@"FAILED : GAMEID: %@", _gameModel.gameId); [self removefile]; [self.session finishTasksAndInvalidate]; _session = nil; if ([self.delegate respondsToSelector:@selector(downloadFail:gameId:)]) &#123; [self.delegate downloadFail:self gameId:_gameModel.gameId]; &#125; [self startDownLoad];&#125;- (void)downloadSuccess&#123; IDSLOG(@"SUEECSS : GAMEID: %@", _gameModel.gameId); WPGameDataBaseModel *model = [[WPGameDataBaseModel alloc] init]; model.gameId = _gameModel.gameId; model.version = _gameModel.h5Version; model.value = 1; [self inserIntoData:model]; if ([self.delegate respondsToSelector:@selector(downloadSuccess:gameId:)]) &#123; [self.delegate downloadSuccess:self gameId:model.gameId]; &#125; _isDownloading = NO; [self startDownLoad];&#125;- (void)start&#123; NSURL *url = [NSURL URLWithString:_gameModel.h5Down]; NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:url]; request.HTTPMethod = @"GET"; self.task = [self.session downloadTaskWithRequest:request]; [self.task resume];&#125;# pragma mark - delegate- (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTask didWriteData:(int64_t)bytesWritten totalBytesWritten:(int64_t)totalBytesWritten totalBytesExpectedToWrite:(int64_t)totalBytesExpectedToWrite&#123; if ([self.delegate respondsToSelector:@selector(downloadProgress:gamedownloader:gameId:)]) &#123; [self.delegate downloadProgress:(totalBytesWritten*100/totalBytesExpectedToWrite) gamedownloader:self gameId:_gameModel.gameId]; &#125;&#125;- (void)URLSession:(NSURLSession *)session downloadTask:(NSURLSessionDownloadTask *)downloadTaskdidFinishDownloadingToURL:(NSURL *)location;&#123; [self createGameFolder]; [self createGameFolderName:_gameModel.gameId]; NSString *docPath = [NSHomeDirectory() stringByAppendingPathComponent:[NSString stringWithFormat:@"Library/Caches/Game/%@/", _gameModel.gameId]]; NSString *file = [docPath stringByAppendingPathComponent:downloadTask.response.suggestedFilename]; NSError *error = nil; NSFileManager *manager = [NSFileManager defaultManager]; BOOL result = [manager fileExistsAtPath:location.path]; NSLog(@"ç§»åŠ¨ä¹‹å‰ è¿™ä¸ªæ–‡ä»¶å·²ç»å­˜åœ¨ï¼š%@",result?@"æ˜¯çš„":@"ä¸å­˜åœ¨"); if ([manager fileExistsAtPath:location.path]) &#123; NSLog(@"ç§»åŠ¨ä¹‹å‰æ–‡ä»¶å¤§å°ä¸º: %.1fM", [[manager attributesOfItemAtPath:location.path error:nil] fileSize]/1000000.0); &#125; if (![[manager attributesOfItemAtPath:location.path error:nil] fileSize]) &#123; NSLog(@"æ–‡ä»¶ä¸ºç©ºè¿”å›ž"); return; &#125; // åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ BOOL ret = [manager moveItemAtPath:location.path toPath:file error:&amp;error]; if (!ret) &#123; NSLog(@"MOVE FILE IS WRONG"); &#125; if (error) &#123; NSLog(@"move failed:%@", [error localizedDescription]); &#125; BOOL resultdd = [manager fileExistsAtPath:file]; NSLog(@"ç§»åŠ¨ä¹‹åŽ è¿™ä¸ªæ–‡ä»¶å·²ç»å­˜åœ¨ï¼š%@",resultdd?@"æ˜¯çš„":@"ä¸å­˜åœ¨"); NSLog(@"å‚¨å­˜è·¯å¾„ ç§»åŠ¨ä¹‹åŽ:%@, \nç§»åŠ¨ä¹‹å‰:%@",file,location.path); NSString *destination = [NSString stringWithFormat:@"%@/", docPath]; BOOL ret1 = [SSZipArchive unzipFileAtPath:file toDestination:destination delegate:self]; if (!ret1) &#123; NSLog(@"è§£åŽ‹å¤±è´¥"); [self downloadFailed]; return; &#125; [manager removeItemAtPath:file error:nil]; // éåŽ†æ–‡ä»¶ NSDirectoryEnumerator *dirEnum = [manager enumeratorAtPath:docPath]; NSString *fileName; while (fileName = [dirEnum nextObject]) &#123; NSLog(@"FileFull&gt;&gt;&gt; : %@" , [docPath stringByAppendingPathComponent:fileName]) ; &#125; [self downloadSuccess];&#125;- (long long)fileSizeAtPath:(NSString *)filePath &#123; NSFileManager *manager = [NSFileManager defaultManager]; if ([manager fileExistsAtPath:filePath]) &#123; return [[manager attributesOfItemAtPath:filePath error:nil] fileSize]; &#125; return 0;&#125;- (void)URLSession:(NSURLSession *)session task:(NSURLSessionTask *)task didCompleteWithError:(NSError *)error&#123; if (error) &#123; [self downloadFailed]; &#125;&#125; å†™åœ¨æœ€åŽä¸Šé¢çš„ä¾‹å­æœ¬äººäº²è‡ªå®žè·µè¿‡çš„, ç»™å¤§å®¶æä¾›äº†ä¸€ä¸ªå®žçŽ°æ€è·¯, ç®—æ˜¯æŠ›ç –å¼•çŽ‰. å¦‚æžœæƒ³åšå¥½è¿™ä¸ªæ¨¡å¼, è¿˜éœ€è¦å¾ˆå¤šå·¥ä½œè¦åš, è¿™é‡Œåˆ—å‡ºæ¥ç»™å¤§å®¶åˆ†äº«ä¸€ä¸‹. 1.æ¸¸æˆèµ„æºåŒ…ç®¡ç†å’Œä¸‹è½½.2.æ¸¸æˆä¸­éœ€è¦å’Œ Native çš„äº¤äº’é€»è¾‘.3.æ•°æ®åŠ å¯†.4.ç§»åŠ¨ç«¯æ¸¸æˆæœ¬èº«çš„åŠ è½½ä¼˜åŒ–. ä»£ç ç¤ºä¾‹æˆ‘æ”¾åœ¨äº† GitHubä¸Šã€‚ä¸‹è½½å™¨ä»£ç å¦‚ä¸‹ï¼šhttps://github.com/Yulei-Duan/WPGameDownloaderæ¸¸æˆä»£ç†æœåŠ¡å™¨ä»£ç å¦‚ä¸‹ï¼šhttps://github.com/Yulei-Duan/testProjestAboutGameRun æœ‰é—®é¢˜ï¼Œè¯·åœ¨ä¸‹é¢è¯„è®º, éžå¸¸æ„Ÿè°¢èƒ½æ¥çœ‹æˆ‘çš„Demoåˆ†äº«! é™„å½•SSZipArchiveæ‰€æœ‰æ–¹æ³•è¯´æ˜Ž@interface SSZipArchive : NSObject // Unzip è§£åŽ‹ /** * @param path æºæ–‡ä»¶ * @param destination ç›®çš„æ–‡ä»¶ * @param uniqueId æ ‡è®°ï¼Œç”¨äºŽåŒºåˆ«å¤šä¸ªè§£åŽ‹æ“ä½œ * * @return è¿”å›ž YES è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›ž NO è¡¨ç¤ºè§£åŽ‹å¤±è´¥ã€‚ */ + (BOOL)unzipFileAtPath:(NSString *)path toDestination:(NSString *)destination uniqueId:(NSString *)uniqueId; /** * @param path æºæ–‡ä»¶ * @param destination ç›®çš„æ–‡ä»¶ * @param overwrite YES ä¼šè¦†ç›– destination è·¯å¾„ä¸‹çš„åŒåæ–‡ä»¶ï¼ŒNO åˆ™ä¸ä¼šã€‚ * @param password éœ€è¦è¾“å…¥å¯†ç çš„æ‰èƒ½è§£åŽ‹çš„åŽ‹ç¼©åŒ… * @param error è¿”å›žè§£åŽ‹æ—¶é‡åˆ°çš„é”™è¯¯ä¿¡æ¯ * @param uniqueId æ ‡è®°ï¼Œç”¨äºŽåŒºåˆ«å¤šä¸ªè§£åŽ‹æ“ä½œ * * @return è¿”å›ž YES è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›ž NO è¡¨ç¤ºè§£åŽ‹å¤±è´¥ã€‚ */ + (BOOL)unzipFileAtPath:(NSString *)path toDestination:(NSString *)destination overwrite:(BOOL)overwrite password:(NSString *)password error:(NSError **)error uniqueId:(NSString *)uniqueId; /** * @param path æºæ–‡ä»¶ * @param destination ç›®çš„æ–‡ä»¶ * @param delegate è®¾ç½®ä»£ç† * @param uniqueId æ ‡è®°ï¼Œç”¨äºŽåŒºåˆ«å¤šä¸ªè§£åŽ‹æ“ä½œ * * @return è¿”å›ž YES è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›ž NO è¡¨ç¤ºè§£åŽ‹å¤±è´¥ã€‚ */ + (BOOL)unzipFileAtPath:(NSString *)path toDestination:(NSString *)destination delegate:(id&lt;SSZipArchiveDelegate&gt;)delegate uniqueId:(NSString *)uniqueId; /** * @param path æºæ–‡ä»¶ * @param destination ç›®çš„æ–‡ä»¶ * @param overwrite YES ä¼šè¦†ç›– destination è·¯å¾„ä¸‹çš„åŒåæ–‡ä»¶ï¼ŒNO åˆ™ä¸ä¼šã€‚ * @param password éœ€è¦è¾“å…¥å¯†ç çš„æ‰èƒ½è§£åŽ‹çš„åŽ‹ç¼©åŒ… * @param error è¿”å›žè§£åŽ‹æ—¶é‡åˆ°çš„é”™è¯¯ä¿¡æ¯ * @param delegate è®¾ç½®ä»£ç† * @param uniqueId æ ‡è®°ï¼Œç”¨äºŽåŒºåˆ«å¤šä¸ªè§£åŽ‹æ“ä½œ * * @return è¿”å›ž YES è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›ž NO è¡¨ç¤ºè§£åŽ‹å¤±è´¥ã€‚ */ + (BOOL)unzipFileAtPath:(NSString *)path toDestination:(NSString *)destination overwrite:(BOOL)overwrite password:(NSString *)password error:(NSError **)error delegate:(id&lt;SSZipArchiveDelegate&gt;)delegate uniqueId:(NSString *)uniqueId; // Zip åŽ‹ç¼© /** * @param path ç›®çš„è·¯å¾„ï¼ˆæ ¼å¼ï¼šï½žï¼xxx.zip ç»“å°¾çš„è·¯å¾„ï¼‰ * @param filenames è¦åŽ‹ç¼©çš„æ–‡ä»¶è·¯å¾„ * * @return è¿”å›ž YES è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›ž NO è¡¨ç¤ºåŽ‹ç¼©å¤±è´¥ã€‚ */ + (BOOL)createZipFileAtPath:(NSString *)path withFilesAtPaths:(NSArray *)filenames; /** * @param path ç›®çš„è·¯å¾„ï¼ˆæ ¼å¼ï¼šï½žï¼xxx.zip ç»“å°¾çš„è·¯å¾„ï¼‰ * @param filenames è¦åŽ‹ç¼©çš„æ–‡ä»¶ç›®å½•è·¯å¾„ * * @return è¿”å›ž YES è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›ž NO è¡¨ç¤ºåŽ‹ç¼©å¤±è´¥ã€‚ */ + (BOOL)createZipFileAtPath:(NSString *)path withContentsOfDirectory:(NSString *)directoryPath; /** * åˆå§‹åŒ–åŽ‹ç¼©å¯¹è±¡ * * @param path ç›®çš„è·¯å¾„ï¼ˆæ ¼å¼ï¼šï½žï¼xxx.zip ç»“å°¾çš„è·¯å¾„ï¼‰ * * @return åˆå§‹åŒ–åŽçš„å¯¹åƒ */ - (id)initWithPath:(NSString *)path; /** * æ‰“å¼€åŽ‹ç¼©å¯¹è±¡ * @return è¿”å›ž YES è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›ž NO è¡¨ç¤ºå¤±è´¥ã€‚ */ - (BOOL)open; /** * æ·»åŠ è¦åŽ‹ç¼©çš„æ–‡ä»¶çš„è·¯å¾„ * * @param path æ–‡ä»¶è·¯å¾„ * * @return è¿”å›ž YES è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›ž NO è¡¨ç¤ºå¤±è´¥ã€‚ */ - (BOOL)writeFile:(NSString *)path; /** * å‘æ­¤è·¯å¾„çš„æ–‡ä»¶é‡Œå†™å…¥æ•°æ® * * @param data è¦å†™å…¥çš„æ•°æ® * @param filename æ–‡ä»¶è·¯å¾„ * * @return è¿”å›ž YES è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›ž NO è¡¨ç¤ºå¤±è´¥ã€‚ */ - (BOOL)writeData:(NSData *)data filename:(NSString *)filename; /** * å…³é—­åŽ‹ç¼©å¯¹è±¡ * @return è¿”å›ž YES è¡¨ç¤ºæˆåŠŸï¼Œè¿”å›ž NO è¡¨ç¤ºå¤±è´¥ã€‚ */ - (BOOL)close; @end @protocol SSZipArchiveDelegate &lt;NSObject&gt; @optional //å°†è¦è§£åŽ‹ - (void)zipArchiveWillUnzipArchiveAtPath:(NSString *)path zipInfo:(unz_global_info)zipInfo; //è§£åŽ‹å®Œæˆ - (void)zipArchiveDidUnzipArchiveAtPath:(NSString *)path zipInfo:(unz_global_info)zipInfo unzippedPath:(NSString *)unzippedPat uniqueId:(NSString *)uniqueId; //å°†è¦è§£åŽ‹ - (void)zipArchiveWillUnzipFileAtIndex:(NSInteger)fileIndex totalFiles:(NSInteger)totalFiles archivePath:(NSString *)archivePath fileInfo:(unz_file_info)fileInfo; //è§£åŽ‹å®Œæˆ - (void)zipArchiveDidUnzipFileAtIndex:(NSInteger)fileIndex totalFiles:(NSInteger)totalFiles archivePath:(NSString *)archivePath fileInfo:(unz_file_info)fileInfo; @end]]></content>
      <categories>
        <category>iOS</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[å‰è¨€]]></title>
    <url>%2F2018%2F03%2F26%2F2020-01-08-12%2F</url>
    <content type="text"><![CDATA[å¦‚æžœå¤©æ€»ä¹Ÿä¸äº®ï¼Œé‚£å°±æ‘¸é»‘è¿‡ç”Ÿæ´»ï¼›å¦‚æžœå‘å‡ºå£°éŸ³æ˜¯å±é™©çš„ï¼Œé‚£å°±ä¿æŒæ²‰é»˜ï¼›å¦‚æžœè‡ªè§‰æ— åŠ›å‘å…‰ï¼Œé‚£å°±åˆ«åŽ»ç…§äº®åˆ«äººã€‚ä½†ï¼Œä¸è¦å˜²è®½é‚£äº›æ¯”ä½ æ›´å‹‡æ•¢ã€æ›´æœ‰çƒ­é‡çš„äººä»¬ã€‚ ä¸€ç¯‡æ€»ç»“æ–‡ï¼Œæ—¢æ˜¯æˆ‘ä¸ºæ–°å¼€çš„åšå®¢å†™çš„ä¸€ç¯‡å‰è¨€ï¼Œä¹Ÿæ˜¯å¯¹è¿‡åŽ»è‡ªå·±çš„ä¸€ç¯‡ç®€è¦æ€»ç»“ã€‚ æ¯ä¸€æ¬¡çš„æ€»ç»“ï¼Œéƒ½æ˜¯ä¸ºäº†æ›´å¥½çš„å‡ºå‘ã€‚ å…³äºŽè¿™ç¯‡æ–‡ç« ç»“æž„ï¼Œæˆ‘ä¼šåˆ†ä¸ºå¦‚ä¸‹ä¸‰ä¸ªæ¨¡å—ï¼š å…³äºŽå¤§å­¦ å…³äºŽå·¥ä½œ å…³äºŽç®€ä¹¦ å±¥åŽ†ï¼šæœ¬ç§‘æ¯•ä¸šäºŽæ·±åœ³å¤§å­¦è®¡ç®—æœºç³»ï¼Œçƒ­çˆ±ç®—æ³•å’Œä¸€åˆ‡æœ‰è¶£çš„æŠ€æœ¯ï¼Œæ¯•ä¸šä¹‹åŽç›´æŽ¥è¿›å…¥äº†ä¸€å®¶çŸ¥åæ¸¸æˆäº’è”ç½‘å…¬å¸åšè½¯ä»¶å¼€å‘ã€‚ å­¦ç”Ÿæ—¶ä»£è®¡ç®—æœºè½¯ä»¶ä¸“ä¸šï¼Œç”±äºŽå½“åˆè‡ªå·±æ˜¯ä¸€ä¸ªé‡åº¦æ¸¸æˆçŽ©å®¶ï¼Œæ‰€ä»¥å¹¶æœªåœ¨å­¦ä¹ ä¸Šå–å¾—æ˜¾è‘—æˆå°±ã€‚ä½ æŠŠä½ çš„æ—¶é—´æŠ•èµ„åœ¨å“ªäº›åœ°æ–¹ï¼Œå°±æ„å‘³ç€ä½ æœªæ¥ä¼šèµ°ä»€ä¹ˆæ ·çš„è·¯ã€‚ä¹Ÿå°±æ„å‘³ç€ä½ åœ¨æ”¾å¼ƒä½ çš„ä¸“ä¸šé¢†åŸŸï¼Œåœ¨è‡ªæˆ‘è¿·å¤±çš„é“è·¯ä¸Šè¶Šèµ°è¶Šè¿œã€‚ ç„¶è€Œï¼Œå¹¸è¿çš„æ˜¯ï¼Œåœ¨å¤§å­¦æœŸé—´å‡ºçŽ°äº†ä¸€äº›æ”¹å˜æˆ‘äººç”ŸèŠ‚ç‚¹çš„äººï¼Œè¿™äº›äººä¸€ç›´åœ¨å¼•å¯¼æˆ‘èµ°å‘æ­£ç¡®çš„è·¯ã€‚ å…³äºŽå¥½å‹åœ¨å¤§å­¦æœŸé—´ï¼Œå¥½å‹Lukeå¸¦æˆ‘è¸è¿›äº†è®¡ç®—æœºè¡Œä¸šçš„å¤§é—¨ï¼Œå¼•å¯¼æˆ‘åŽ»è€ƒä¸€äº›è¯ä¹¦ï¼Œå½“æ—¶ä¸€èµ·å‘¨æœ«åŽ»RHCEçº¢å¸½å­¦ä¹ ç­ï¼ŒRHCE å…¨åæ˜¯ Red Hat Certified Engineer æ¯å‘¨å…­éƒ½ä¼šåŽ»å¬è¯¾ï¼Œç„¶åŽä»–åŽ»è€ƒäº†CCIEè¯ä¹¦ï¼Œæˆ‘å½“æ—¶ä»…ä»…è€ƒäº†OCPè¯ä¹¦ã€‚ç„¶è€Œï¼Œæ¯ä¸€ä¸ªä¸­/é«˜çº§è¯ä¹¦å¹¶éžèƒ½è¯æ˜Žä½ çš„èƒ½åŠ›ï¼Œå¤§éƒ¨åˆ†äººç§°ä¹‹ä¸ºæ•²é—¨ç –ï¼Œè€Œå¯¹äºŽæˆ‘æ¥è¯´ï¼Œå®ƒåªæ˜¯ä¸€é—¨è¯¾ç¨‹ï¼Œä»…ä»…è¯æ˜Žä½ äº†è§£è¿‡è€Œå·²ï¼Œå…³äºŽé€Ÿæˆçš„ä¸œè¥¿å°±ä¸è¦æœŸæœ›èƒ½æœ‰å¤šå°‘å«é‡‘é‡ã€‚ è€ƒè¯ä¹¦çš„å¥½å¤„åªæœ‰ä¸€ä¸ªï¼Œå¹¶éžæ»¡è¶³ä½ çš„è™šè£å¿ƒï¼Œè€Œæ˜¯è¯´æ˜Žä½ ä¸€ç›´çƒ­çˆ±ç€å­¦ä¹ ã€‚æ¯•ç«Ÿåœ¨è®¡ç®—æœºé¢†åŸŸæœ‰æ‰€è¿½æ±‚çš„äººéƒ½æƒ³æˆä¸ºæœ‰æ¢¦æƒ³çˆ±å­¦ä¹ çš„å®žåŠ›æ´¾ï¼Œéš¾é“ä¸æ˜¯ä¹ˆï¼Ÿ DDæ˜¯ä¸€ä½å¥³ç¨‹åºå‘˜ï¼Œæ·±å¤§ACMä¿±ä¹éƒ¨çš„æˆå‘˜ã€‚åœ¨ä¸€åœºç¾Žä¸½çš„çŸ¥è¯†ç››å®´é‚‚é€…ä¸­ç›¸é‡ï¼Œå¼•å¯¼æˆ‘æ‰“å¼€äº†ä»£ç æ–°ä¸–ç•Œçš„å¤§é—¨ã€‚ç„¶åŽå°±å¼€å§‹æœä¹æ™šäº”åœ¨å®žéªŒå®¤åˆ·é¢˜ï¼Œå°±åœ¨é‚£æ—¶ï¼Œæˆ‘æ‰å‘çŽ°ï¼Œæˆ‘æ˜¯å¤šä¹ˆçƒ­çˆ±åˆ·OJï¼Œå¤šä¹ˆçƒ­çˆ±ç®—æ³•ã€‚æ‰¾åˆ°äº†æœ€é€‚åˆè‡ªå·±çš„ç¼–ç¨‹è¯­è¨€ï¼Œä»–å°±æ˜¯Cã€‚ å½“ç„¶è¿˜æœ‰ä¸€ä¸ªæ‚£éš¾ä¸Žå…±çš„å¥½å‹ï¼Œæµ·æ‹”ï¼Œç»å¸¸é™ªæˆ‘é€šå®µåœ¨å¤§å­¦è‡ªä¹ å®¤å­¦ä¹ ï¼Œä¸€èµ·åšçš„æ¯•è®¾ã€Šé¾™èŠ¯å¹³å°ZIGBEEç½‘ç»œè¿œç¨‹ç›‘æŽ§ç³»ç»Ÿã€‹æ‹¿åˆ°äº†å¤§å­¦ä¼˜ç§€æ¯•ä¸šè®¾è®¡çš„è¯„åˆ†ï¼Œè®©æˆ‘ç¬¬ä¸€æ¬¡è®¤è¯†åˆ°åšå‡ºä¸€æ¬¾è½¯ä»¶æ˜¯å¤šä¹ˆçš„æœ‰æˆå°±æ„Ÿã€‚ç„¶åŽé™ªä¼´æˆ‘ä¸€èµ·èµ°å‘äº†iOSå¼€å‘ä¸–ç•Œçš„å¤§é—¨ã€‚ åˆå…¥èŒåœºåœ¨èŒåœºä¸­ï¼Œæ¢è¿‡å‡ æ¬¡å²—ï¼Œå½“ç„¶ä¹ŸçŠ¯è¿‡å¾ˆå¤šä½Žçº§é”™è¯¯ã€‚ä¸è¿‡å¦‚æžœå½“å¹´çš„20å¤šå²ï¼Œå°±æŠŠäººç”Ÿä¸­æ‰€æœ‰è¯¥çŠ¯çš„é”™è¯¯éƒ½çŠ¯äº†ï¼Œä¹ŸæŒºå¥½ï¼Œä¸æ˜¯å—ã€‚ å…³äºŽå·¥ä½œæŠ€èƒ½ï¼Œè¿™å‡ å¹´çš„æ‘¸çˆ¬æ»šæ‰“ï¼Œä¸»è¦åšäº†å¦‚ä¸‹å‡ ä¸ªå²—ä½ï¼š iOS å‰ç«¯ã€‚çŽ°åœ¨çš„å·¥ä½œå²—ä½ï¼Œå½“æ—¶æ‹¿äº†ä¸å°‘offerï¼Œç„¶åŽç”±äºŽå¯¹å…¬å¸æ–‡åŒ–çš„å–œæ¬¢ï¼Œå°±é€‰æ‹©äº†è¿™å®¶æ¸¸æˆå…¬å¸ã€‚ python åŽç«¯ã€‚ç”±äºŽiOSæ²¡æœ‰å¤ªå¤šç´§æ€¥ä»»åŠ¡ï¼Œè€Œç»„å†…åŽç«¯æ€¥ç¼ºäººæ‰‹ï¼Œå°±å°†æˆ‘æš‚æ—¶é¡¶äº†ä¸ŠåŽ»ï¼Œç”±äºŽå¯¹æ•°æ®ç»“æž„å’Œç®—æ³•æ¯”è¾ƒç†Ÿç»ƒï¼Œæ‰€ä»¥æžå®šå…¬å¸å®‰æŽ’çš„é¡¹ç›®å¹¶ä¸éš¾ï¼Œå¯¹ç½‘ç»œå±‚çš„çŸ¥è¯†äº†è§£çš„åˆæ›´æ·±å…¥äº†ä¸€äº›ã€‚ äº§å“è¿è¥ã€‚æœºç¼˜å·§åˆï¼Œåšäº†ä¸€æ®µæ—¶é—´æ•°æ®åˆ†æžï¼ŒåŸ¹å…»è‡ªå·±çš„äº§å“æ€ç»´ï¼Œå¯¹äºŽæˆ‘ä¸ªäººé€»è¾‘èƒ½åŠ›çš„åŸ¹å…»æœ‰æžå¤§çš„å¸®åŠ©ï¼ŒåŠªåŠ›åšä¸€ä¸ªæœ‰äº§å“æ€ç»´çš„æ”»åŸŽç‹®ã€‚ åœ¨è¿™é‡Œï¼Œè¦å¼ºè°ƒä¸€ç‚¹ï¼Œå°±æ˜¯å½“ä½ æœ‰äº†ä¸€äº›äº§å“æ€ç»´åŽï¼Œæ•´ä¸ªäººéƒ½ä¼šå˜å¾—ç‹¬ç«‹èµ·æ¥ï¼Œçœ‹ä¸–ç•Œçš„ç»´åº¦ä¹Ÿä¸å¤ªä¸€æ ·äº†ï¼Œå·¥ä½œä¸ä»…ä»…æ˜¯é€šè¿‡æ‰“å·¥å¬äººå®‰æŽ’è€Œæ´»ç€ï¼Œè¿˜å¯ä»¥åè¿‡æ¥é€šè¿‡åœ¨å…¬å¸å·¥ä½œæå‡è‡ªå·±çš„æŠ€èƒ½ï¼Œè®©è‡ªå·±å¯ä»¥æ›´åŠ ç‹¬ç«‹ä¸”è‡ªç”±çš„ç”Ÿæ´»ã€‚ è¿˜æœ‰å°±æ˜¯æƒ³æä¸€ç‚¹è¢«äººè¯¯è§£äº†çš„äº‹æƒ…ï¼Œå¤šæ•°äººè®¤ä¸ºåœ¨å·¥ä½œä¸­å­¦ä¹ å’Œæˆé•¿é€Ÿåº¦å¿«ã€‚è€Œç­‰ä½ å‘†äº†ä¸€æ®µæ—¶é—´ï¼Œå°±ä¼šå‘çŽ°å·¥ä½œä¸è¿‡æ˜¯æä¾›äº†ä¸€ä¸ªèƒ½å¤Ÿè§£å†³å®žé™…é—®é¢˜ï¼Œèƒ½è·Ÿäººè®¨è®ºçš„çŽ¯å¢ƒã€‚è®©æˆ‘ä»¬æˆé•¿çš„å¹¶éžå·¥ä½œæœ¬èº«ï¼Œè€Œæ˜¯æœ‰åˆ©çš„å­¦ä¹ çŽ¯å¢ƒã€‚ ç®€ä¹¦å‰è¨€åœ¨è¿‡åŽ»è¿™å‡ å¹´é‡Œï¼Œæˆ‘æ„Ÿè§‰åˆ°è‡ªå·±å½“åˆå¾ˆåœ¨æ„è‡ªå·±çš„æˆé•¿ï¼Œå½“æ—¶å†™ä¸€äº›åšæ–‡æ¥è®°å½•è¿‡åŽ»æ‰€åšï¼Œç„¶è€Œå†™çš„æŠ€æœ¯æ–‡ç« å¹¶æ²¡æœ‰å½¢æˆè‡ªå·±çš„æ¡†æž¶ä½“ç³»ã€‚è€Œå¦‚ä»Šæƒ³åœ¨è¿™ä¸ªå¹³å°ï¼Œåšä¸€äº›æ”¹å˜ã€‚ å†™å‡ºè‡ªå·±é£Žæ ¼ä½“ç³»çš„æŠ€æœ¯æ–‡ç« ï¼ŒåšæŒä¸€ç›´å†™ä¸‹åŽ»ã€‚è¦å†™æ–‡ç« å°±è¦å†™æ²¡äººå†™è¿‡çš„ï¼Œæˆ–è€…åˆ«äººå†™è¿‡æˆ‘èƒ½å†™çš„æ›´å¥½çš„ã€‚ æˆé•¿ï¼Œå¹¶å¸®åŠ©åˆ«äººæˆé•¿ã€‚ä½“éªŒå’Œç»åŽ†ç”Ÿæ´»ï¼Œå¹¶å¸®åŠ©åˆ«äººä½“éªŒå’Œç»åŽ†ç”Ÿæ´»ã€‚ æˆ‘ä¼šä¸€ç›´å†™ä¸‹åŽ»ã€‚]]></content>
      <categories>
        <category>Idea</category>
      </categories>
  </entry>
</search>
