<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="google-site-verification" content="Lbqbq-u0Mn24a7n3Er0wVtGF9AUxR-o_FZsCOl4YEOQ">














  
  
  <link href="/libs/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Lucida Grande:300,300italic,400,400italic,700,700italic|Zapfino:300,300italic,400,400italic,700,700italic|Monaco:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/libs/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar1.jpg?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar1.jpg?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar1.jpg?v=5.1.4">


  <link rel="mask-icon" href="/images/avatar1.jpg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, Levi">





  <link rel="alternate" href="/atom.xml" title="Levi's blog" type="application/atom+xml">






<meta name="description" content="Shareness make me happy">
<meta property="og:type" content="website">
<meta property="og:title" content="Levi&#39;s blog">
<meta property="og:url" content="http://leviduan.com/page/2/index.html">
<meta property="og:site_name" content="Levi&#39;s blog">
<meta property="og:description" content="Shareness make me happy">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Levi&#39;s blog">
<meta name="twitter:description" content="Shareness make me happy">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: false,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://leviduan.com/page/2/">





  <title>Levi's blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Levi's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-time">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-calendar"></i> <br>
            
            Time
          </a>
        </li>
      
        
        <li class="menu-item menu-item-ios">
          <a href="/categories/iOS/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-apple"></i> <br>
            
            iOS
          </a>
        </li>
      
        
        <li class="menu-item menu-item-react-n.">
          <a href="/categories/web/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-html5"></i> <br>
            
            React N.
          </a>
        </li>
      
        
        <li class="menu-item menu-item-algorithm">
          <a href="/categories/Algorithm/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br>
            
            Algorithm
          </a>
        </li>
      
        
        <li class="menu-item menu-item-idea">
          <a href="/categories/Idea/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-music"></i> <br>
            
            Idea
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leviduan.com/2020/01/08/2020-01-08-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Levi Duan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Levi's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/08/2020-01-08-3/" itemprop="url">React native - Search bar</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-01-08T22:47:02+08:00">
                2020-01-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/01/08/2020-01-08-3/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/01/08/2020-01-08-3/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>If you want to use SearchBar on React Native, the best choice is React Native Elements Library. you can use SearchBar module from React Native Elements.</p>
<p>The website: <a href="https://react-native-elements.github.io/react-native-elements/docs/input.html" target="_blank" rel="noopener">https://react-native-elements.github.io/react-native-elements/docs/input.html</a></p>
<h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h3><p>Step 1: Install react-native-elements</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">yarn add react-native-elements</span><br><span class="line"># or with npm</span><br><span class="line">npm install react-native-elements</span><br></pre></td></tr></table></figure>
<p>Step 2: Install react-native-vector-icons</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># yarn</span><br><span class="line">yarn add react-native-vector-icons</span><br><span class="line"># or with npm</span><br><span class="line">npm i --save react-native-vector-icons</span><br><span class="line"></span><br><span class="line"># link</span><br><span class="line">react-native link react-native-vector-icons</span><br></pre></td></tr></table></figure>
<p>Ps: if Xcode run error - react-native-vector-icons iOS run error - ‚ÄòMultiple commands produce‚Äô error when building with new Xcode build system</p>
<p>The solution way : <strong>simply remove duplicate reference fonts in ‚ÄúCopy Bundle Resources‚Äù NOT in ‚Äú[CP] Copy Pods Resources‚Äù</strong></p>
<p>You can correct to run iOS app.</p>
<h3 id="How-to-use-search-bar-on-RN"><a href="#How-to-use-search-bar-on-RN" class="headerlink" title="How to use search bar on RN"></a>How to use search bar on RN</h3><p>You can write the SearchBar Label to write a UI code like this: </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; SearchBar &#125; <span class="keyword">from</span> <span class="string">'react-native-elements'</span>;</span><br><span class="line"></span><br><span class="line">&lt;SearchBar</span><br><span class="line">    inputContainerStyle=&#123;&#123;<span class="attr">backgroundColor</span>: <span class="string">'#EFEFEF'</span>&#125;&#125;</span><br><span class="line">    inputStyle=&#123;&#123;<span class="attr">backgroundColor</span>: <span class="string">'#EFEFEF'</span>&#125;&#125;</span><br><span class="line">    ref=&#123;search =&gt; (<span class="keyword">this</span>.search = search)&#125;</span><br><span class="line">    platform=<span class="string">"ios"</span></span><br><span class="line">    containerStyle=&#123;&#123;<span class="attr">backgroundColor</span>: <span class="string">'white'</span>&#125;&#125;</span><br><span class="line">    placeholder=<span class="string">"Search"</span></span><br><span class="line">    showCancel=&#123;<span class="literal">true</span>&#125;</span><br><span class="line">    searchIcon=&#123;<span class="literal">false</span>&#125;</span><br><span class="line">    onChangeText=&#123;searchText =&gt;</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;searchText&#125;, () =&gt; &#123;</span><br><span class="line">        <span class="keyword">this</span>.searchTypeGetRequest();</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    value=&#123;<span class="keyword">this</span>.state.searchText&#125;</span><br><span class="line">    cancelButtonProps=&#123;&#123;<span class="attr">color</span>: <span class="string">'black'</span>&#125;&#125;</span><br><span class="line">    onCancel=&#123;() =&gt; &#123;</span><br><span class="line">      <span class="keyword">this</span>.props.navigation.goBack();</span><br><span class="line">    &#125;&#125;</span><br><span class="line">    returnKeyType=<span class="string">"search"</span></span><br><span class="line">    onFocus=&#123;() =&gt; &#123;</span><br><span class="line">      <span class="keyword">this</span>.setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123;</span><br><span class="line">        LookbookStreetSnapFlatList: <span class="literal">false</span>,</span><br><span class="line">      &#125;));</span><br><span class="line">    &#125;&#125;</span><br><span class="line">    onClear=&#123;() =&gt; &#123;</span><br><span class="line">      <span class="keyword">this</span>.setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123;</span><br><span class="line">        LookbookStreetSnapFlatList: <span class="literal">false</span>,</span><br><span class="line">      &#125;));</span><br><span class="line">      <span class="keyword">this</span>.search.focus();</span><br><span class="line">    &#125;&#125;</span><br><span class="line">    onSubmitEditing=&#123;() =&gt; &#123;</span><br><span class="line">       <span class="comment">// press the search button, something will be happened</span></span><br><span class="line">    &#125;&#125;</span><br><span class="line">/&gt;</span><br></pre></td></tr></table></figure>
<p>If you use  <code>this.search.focus()</code>, you can find a bug when you use iOS device. when you inter the search page, you click the cancel button, the keyboard always be there and didn‚Äôt dismiss anytime. So you can use setTimeout void to avoid that action.</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;SearchBar</span><br><span class="line">  ref=&#123;search =&gt; <span class="keyword">this</span>.search = search&#125;</span><br><span class="line">  ...</span><br><span class="line">/&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (Platform.OS === <span class="string">'ios'</span>) &#123;</span><br><span class="line">  <span class="keyword">this</span>.timer = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">this</span>.search.focus();</span><br><span class="line">  &#125;, <span class="number">200</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">this</span>.search.focus();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>About the other detail , you can check the API from RN element library website: </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leviduan.com/2020/01/08/2020-01-08-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Levi Duan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Levi's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/08/2020-01-08-1/" itemprop="url">Week Tips | 2019.12.23 - 2019.12.27</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-01-08T22:30:01+08:00">
                2020-01-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/01/08/2020-01-08-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/01/08/2020-01-08-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Q1-Android-studio-Error-‚ÄúUnsupported-Modules-Detected-Compilation-is-not-supported-for-following-modules‚Äù"><a href="#Q1-Android-studio-Error-‚ÄúUnsupported-Modules-Detected-Compilation-is-not-supported-for-following-modules‚Äù" class="headerlink" title="Q1 :  Android studio Error ‚ÄúUnsupported Modules Detected: Compilation is not supported for following modules‚Äù"></a>Q1 :  Android studio Error ‚ÄúUnsupported Modules Detected: Compilation is not supported for following modules‚Äù</h4><ol>
<li>File -&gt; Invalidate Caches / Restart -&gt; Invalidate Caches &amp; Restart.</li>
<li>close Android Studio IDE and delete the <code>.idea</code> directory.</li>
<li>delete all .iml files</li>
<li>open Android Studio IDE and Sync with <code>Gradle</code>.</li>
</ol>
<h4 id="Q2-React-Native-iOS-StatusBar-background-colour-is-not-dark-in-the-dark-mode"><a href="#Q2-React-Native-iOS-StatusBar-background-colour-is-not-dark-in-the-dark-mode" class="headerlink" title="Q2 :  React Native iOS StatusBar background colour is not dark in the dark mode."></a>Q2 :  React Native iOS StatusBar background colour is not dark in the dark mode.</h4><p>we will change the file about react native library</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line">RCT_ENUM_CONVERTER(<span class="built_in">UIStatusBarStyle</span>, (@&#123;</span><br><span class="line">¬† <span class="string">@"default"</span>: @(<span class="built_in">UIStatusBarStyleDefault</span>), </span><br><span class="line">¬† <span class="string">@"light-content"</span>: @(<span class="built_in">UIStatusBarStyleLightContent</span>), </span><br><span class="line">¬† <span class="string">@"dark-content"</span>: @(@available(iOS <span class="number">13.0</span>, *) ? <span class="built_in">UIStatusBarStyleDarkContent</span> : <span class="built_in">UIStatusBarStyleDefault</span>), </span><br><span class="line">&#125;), <span class="built_in">UIStatusBarStyleDefault</span>, integerValue);</span><br></pre></td></tr></table></figure>
<h4 id="Q3-React-native-share-library-question-Currently-on-iOS-13-the-app-will-crash"><a href="#Q3-React-native-share-library-question-Currently-on-iOS-13-the-app-will-crash" class="headerlink" title="Q3 : React native share library question - Currently on iOS 13 the app will crash"></a>Q3 : React native share library question - Currently on iOS 13 the app will crash</h4><p>Currently on iOS 13 the app will crash if you:</p>
<ul>
<li>Open the share sheet</li>
<li>Tap something like messages or photos</li>
<li>Cancel the dialog</li>
<li>Perform any other action</li>
</ul>
<p>This is because shareController.completionWithItemsHandler is called when the dialog box is canceled and currently failureCallback or successCallback will always be called. In the situation above, activityError is nil so successCallback will be called even though completed is false. This leaves us in a state where the callback has been invoked but the ShareSheet is still active, meaning the success or error callback will be invoked again, leading to the crash.</p>
<p>This PR adds a check to make sure completed is true before calling successCallback. This way successCallback will only be called when the user has successfully completed an action and the ShareSheet is closed.</p>
<p>Only call successCallback when completed is true (iOS 13 crash)</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line">shareController.completionWithItemsHandler = ^(<span class="built_in">NSString</span> *activityType, <span class="built_in">BOOL</span> completed, __unused <span class="built_in">NSArray</span> *returnedItems, <span class="built_in">NSError</span> *activityError) &#123;</span><br><span class="line">    <span class="keyword">if</span> (activityError) &#123;</span><br><span class="line">        failureCallback(activityError);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (completed) &#123;</span><br><span class="line">        successCallback(@[@(completed), RCTNullIfNil(activityType)]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="Q4-The-question-about-React-native-share-Android-release-build-doesn‚Äôt-work-with-react-native-0-60"><a href="#Q4-The-question-about-React-native-share-Android-release-build-doesn‚Äôt-work-with-react-native-0-60" class="headerlink" title="Q4 :  The question about React native share - Android release build doesn‚Äôt work with react-native@0.60"></a>Q4 :  The question about React native share - Android release build doesn‚Äôt work with <a href="mailto:react-native@0.60" target="_blank" rel="noopener">react-native@0.60</a></h4><p>You can run <code>npx jetify</code> in the current react native directory on the terminal.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leviduan.com/2020/01/08/2020-01-08-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Levi Duan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Levi's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/08/2020-01-08-2/" itemprop="url">Week Tips | 2019.12.30 - 2019.01.03</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-01-08T22:30:01+08:00">
                2020-01-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2020/01/08/2020-01-08-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2020/01/08/2020-01-08-2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Q1-react-native-vector-icons-iOS-run-error-‚ÄòMultiple-commands-produce‚Äô-error-when-building-with-new-Xcode-build-system"><a href="#Q1-react-native-vector-icons-iOS-run-error-‚ÄòMultiple-commands-produce‚Äô-error-when-building-with-new-Xcode-build-system" class="headerlink" title="Q1 : react-native-vector-icons iOS run error - ‚ÄòMultiple commands produce‚Äô error when building with new Xcode build system"></a>Q1 : react-native-vector-icons iOS run error - ‚ÄòMultiple commands produce‚Äô error when building with new Xcode build system</h4><p>The solution way : <strong>simply remove duplicate reference fonts in ‚ÄúCopy Bundle Resources‚Äù NOT in ‚Äú[CP] Copy Pods Resources‚Äù</strong></p>
<p>You can correct to run iOS app.</p>
<p>The problem seems to be caused by the new autolinking feature in React Native 0.60 - the line use_native_modules! in ios/Podfile means when you do pod install, any pods found in node_modules are automatically linked. This means that links to all font files are added to [CP] Copy Pods Resources when you do pod install.</p>
<p>If you previously installed react-native-vector-icons manually by adding the font files to Copy Bundle Resources, you then get a ‚ÄúMultiple commands produce‚Ä¶‚Äù fatal build error.</p>
<p>So to fix the problem, just remove the font files from Copy Bundle Resources, so that they are only in [CP] Copy Pods Resources.</p>
<h4 id="Q2-How-can-I-insert-a-line-break-into-a-component-in-React-Native"><a href="#Q2-How-can-I-insert-a-line-break-into-a-component-in-React-Native" class="headerlink" title="Q2 : How can I insert a line break into a  component in React Native?"></a>Q2 : How can I insert a line break into a <text> component in React Native?</text></h4><p>This should do it:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;Text&gt;</span><br><span class="line">Hi~&#123;<span class="string">"\n"</span>&#125;</span><br><span class="line"><span class="keyword">this</span> is a test message.</span><br><span class="line">&lt;<span class="regexp">/Text&gt;</span></span><br></pre></td></tr></table></figure>
<p>{‚Äú\n‚Äù} can be used in the <text> component in React Native.</text></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leviduan.com/2019/09/19/2019-09-19-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Levi Duan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Levi's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/19/2019-09-19-1/" itemprop="url">2019 W1 | 9.16-9.22 | Tips Week Summary</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-19T22:51:18+08:00">
                2019-09-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/19/2019-09-19-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/19/2019-09-19-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Q1-Make-a-drop-shadow-effect-on-a-label-in-Swift"><a href="#Q1-Make-a-drop-shadow-effect-on-a-label-in-Swift" class="headerlink" title="Q1 Make a drop shadow effect on a label in Swift"></a>Q1 Make a drop shadow effect on a label in Swift</h3><p>Show my code:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> titleLabel: <span class="type">UILabel</span> = &#123;</span><br><span class="line">    <span class="keyword">let</span> titleLabel = <span class="type">UILabel</span>(frame: .zero)</span><br><span class="line">    titleLabel.textAlignment = .center</span><br><span class="line">    titleLabel.lineBreakMode = .byTruncatingTail</span><br><span class="line">    titleLabel.numberOfLines = <span class="number">2</span></span><br><span class="line">    titleLabel.font = <span class="type">DJFont</span>.boldHelveticaFont(ofSize: <span class="number">40</span>)</span><br><span class="line">    titleLabel.text = <span class="string">" "</span></span><br><span class="line">    titleLabel.textColor = <span class="type">UIColor</span>(fromHexString: <span class="string">"FFFFFF"</span>)</span><br><span class="line">    titleLabel.layer.shadowColor = <span class="type">UIColor</span>.black.cgColor</span><br><span class="line">    titleLabel.layer.shadowRadius = <span class="number">2.0</span></span><br><span class="line">    titleLabel.layer.shadowOpacity = <span class="number">0.3</span></span><br><span class="line">    titleLabel.layer.shadowOffset = <span class="type">CGSize</span>(width: <span class="number">4</span>, height: <span class="number">4</span>)</span><br><span class="line">    titleLabel.layer.masksToBounds = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">return</span> titleLabel</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>
<h3 id="Q2-What‚Äôs-different-between-string-utf16-count-and-string-count"><a href="#Q2-What‚Äôs-different-between-string-utf16-count-and-string-count" class="headerlink" title="Q2 What‚Äôs different between string.utf16.count and string.count?"></a>Q2 What‚Äôs different between string.utf16.count and string.count?</h3><p>if you are coding by objective-c, it‚Äôs the same, but by swift, it‚Äôs really different.</p>
<p>There is a good example :</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">extension String &#123;</span><br><span class="line">    var length: Int &#123;</span><br><span class="line">        return self.utf16.count</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let emoji = ‚ÄúüòÜüòÜüòÜüòÜüòÜüòÜ‚Äù</span><br><span class="line">emoji.length // return 12</span><br><span class="line">emoji.count // return 6</span><br></pre></td></tr></table></figure>
<p>If you print by string.utf16.count, return 12.<br>but you print by string.count, return 6.</p>
<p>Does you make sense?</p>
<h3 id="Q3-How-to-increase-line-spacing-in-UILabel-in-swift"><a href="#Q3-How-to-increase-line-spacing-in-UILabel-in-swift" class="headerlink" title="Q3 How to increase line spacing in UILabel in swift"></a>Q3 How to increase line spacing in UILabel in swift</h3><p>You can use it by label instance</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> label = <span class="type">UILabel</span>()</span><br><span class="line"><span class="keyword">let</span> stringValue = <span class="string">"Levi\nCherry\nMandy\n"</span></span><br><span class="line"><span class="keyword">let</span> attrString = <span class="type">NSMutableAttributedString</span>(string: stringValue)</span><br><span class="line"><span class="keyword">var</span> style = <span class="type">NSMutableParagraphStyle</span>()</span><br><span class="line">style.lineSpacing = <span class="number">24</span> <span class="comment">// change line spacing between paragraph like 36 or 48</span></span><br><span class="line">style.minimumLineHeight = <span class="number">20</span> <span class="comment">// change line spacing between each line like 30 or 40</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Line spacing attribute</span></span><br><span class="line">attrString.addAttribute(<span class="type">NSAttributedStringKey</span>.paragraphStyle, value: style, range: <span class="type">NSRange</span>(location: <span class="number">0</span>, length: stringValue.characters.<span class="built_in">count</span>))</span><br><span class="line"></span><br><span class="line">label.attributedText = attrString</span><br></pre></td></tr></table></figure>
<h3 id="Q4-No-Accounts-with-iTunes-Connect-have-been-found-for-the-Team"><a href="#Q4-No-Accounts-with-iTunes-Connect-have-been-found-for-the-Team" class="headerlink" title="Q4 No Accounts with iTunes Connect have been found for the Team?"></a>Q4 No Accounts with iTunes Connect have been found for the Team?</h3><p>I am going to submit my App to App Store, but I am getting the error:</p>
<p>‚ÄúNo accounts with iTunes Connect access have been found for the team‚Ä¶‚Äù</p>
<p>And I resolved by stackoverflow:</p>
<p>Quit Xcode completely and re-open it to resolve the problem.</p>
<p>Or</p>
<ol>
<li>Please verify if it‚Äôs App Store distribution profile or not.</li>
<li>If yes then try to login to Xcode with your apple Id which has access to iTunes Connect or App Store Connect.</li>
<li>While validating the archive file please choose the same profile. It should work fine.</li>
</ol>
<p>I resolved it by first way.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leviduan.com/2019/09/19/2019-09-19/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Levi Duan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Levi's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/19/2019-09-19/" itemprop="url">How to Add "‚Ä¶Read More" to the end of UILabel</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-19T22:50:18+08:00">
                2019-09-19
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/iOS/" itemprop="url" rel="index">
                    <span itemprop="name">iOS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/09/19/2019-09-19/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/09/19/2019-09-19/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Product-Requirements"><a href="#Product-Requirements" class="headerlink" title="Product Requirements"></a>Product Requirements</h3><p>There is a UILabel, the number of line are three, if the content is more than content in the UILabel, you have to add ‚Äú‚Ä¶ more‚Äù to the end of UILabel, and then you can click the text, the UILabel will be unfolded. </p>
<p>just like this pic below : </p>
<p><img src="https://i.stack.imgur.com/8Bq7I.png" alt="pic"></p>
<h3 id="How-to-solve-it"><a href="#How-to-solve-it" class="headerlink" title="How to solve it"></a>How to solve it</h3><p>At first, I want to calculate the visible text I can put into this UILabel with the current UILabel size by this fitString function.</p>
<p>When I get this visible text, and then I will prepare visible text and all UILabel‚Äôs text, if this count is the same, I will display it all text, if not I will display the visible text which will replace the last 8 character with ‚Äú‚Ä¶ more‚Äù.</p>
<p>I think that this method will resolve most question just like this, but there is a question, if the string just like this: ‚Äú123\n345\n234\n123\n‚Äù, the last 8 character will be replace with ‚Äú‚Ä¶ more‚Äù, however, this is wrong, the correct way is that you won‚Äôt replace 8 character, just add ‚Äú‚Ä¶ more‚Äù to the end of visible text. The correct final string is </p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">123</span><br><span class="line">123</span><br><span class="line">123 ...more</span><br></pre></td></tr></table></figure>
<p>And then I resolve it, but unexpectedly, if the string included some Emoji characters, the visible text characters will be wrong, so you will find some bug in the fitString function.</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line">- (<span class="built_in">NSUInteger</span>)fitString:(<span class="built_in">NSString</span> *)string intoLabel:(<span class="built_in">UILabel</span> *)label</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">UIFont</span> *font           = label.font;</span><br><span class="line">    <span class="built_in">NSLineBreakMode</span> mode   = label.lineBreakMode;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">CGFloat</span> labelWidth     = label.frame.size.width;</span><br><span class="line">    <span class="built_in">CGFloat</span> labelHeight    = label.frame.size.height;</span><br><span class="line">    <span class="built_in">CGSize</span>  sizeConstraint = <span class="built_in">CGSizeMake</span>(labelWidth, <span class="built_in">CGFLOAT_MAX</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (SYSTEM_VERSION_GREATER_THAN(iOS_7))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">NSDictionary</span> *attributes = @&#123; <span class="built_in">NSFontAttributeName</span> : font &#125;;</span><br><span class="line">        <span class="built_in">NSAttributedString</span> *attributedText = [[<span class="built_in">NSAttributedString</span> alloc] initWithString:string attributes:attributes];</span><br><span class="line">        <span class="built_in">CGRect</span> boundingRect = [attributedText boundingRectWithSize:sizeConstraint options:<span class="built_in">NSStringDrawingUsesLineFragmentOrigin</span> context:<span class="literal">nil</span>];</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (boundingRect.size.height &gt; labelHeight)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">NSUInteger</span> index = <span class="number">0</span>;</span><br><span class="line">                <span class="built_in">NSUInteger</span> prev;</span><br><span class="line">                <span class="built_in">NSCharacterSet</span> *characterSet = [<span class="built_in">NSCharacterSet</span> whitespaceAndNewlineCharacterSet];</span><br><span class="line"></span><br><span class="line">                <span class="keyword">do</span></span><br><span class="line">                &#123;</span><br><span class="line">                    prev = index;</span><br><span class="line">                    <span class="keyword">if</span> (mode == <span class="built_in">NSLineBreakByCharWrapping</span>)</span><br><span class="line">                        index++;</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        index = [string rangeOfCharacterFromSet:characterSet options:<span class="number">0</span> range:<span class="built_in">NSMakeRange</span>(index + <span class="number">1</span>, [string length] - index - <span class="number">1</span>)].location;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (index != <span class="built_in">NSNotFound</span> &amp;&amp; index &lt; [string length] &amp;&amp; [[string substringToIndex:index] boundingRectWithSize:sizeConstraint options:<span class="built_in">NSStringDrawingUsesLineFragmentOrigin</span> attributes:attributes context:<span class="literal">nil</span>].size.height &lt;= labelHeight);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> prev;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> ([string sizeWithFont:font constrainedToSize:sizeConstraint lineBreakMode:mode].height &gt; labelHeight)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">NSUInteger</span> index = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">NSUInteger</span> prev;</span><br><span class="line">            <span class="built_in">NSCharacterSet</span> *characterSet = [<span class="built_in">NSCharacterSet</span> whitespaceAndNewlineCharacterSet];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">do</span></span><br><span class="line">            &#123;</span><br><span class="line">                prev = index;</span><br><span class="line">                <span class="keyword">if</span> (mode == <span class="built_in">NSLineBreakByCharWrapping</span>)</span><br><span class="line">                    index++;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    index = [string rangeOfCharacterFromSet:characterSet options:<span class="number">0</span> range:<span class="built_in">NSMakeRange</span>(index + <span class="number">1</span>, [string length] - index - <span class="number">1</span>)].location;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (index != <span class="built_in">NSNotFound</span> &amp;&amp; index &lt; [string length] &amp;&amp; [[string substringToIndex:index] sizeWithFont:font constrainedToSize:sizeConstraint lineBreakMode:mode].height &lt;= labelHeight);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> prev;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [string length];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Do you find it? </p>
<h3 id="Show-my-code"><a href="#Show-my-code" class="headerlink" title="Show my code"></a>Show my code</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UILabel</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">addTrailing</span><span class="params">(with trailingText: String, moreText: String, moreTextFont: UIFont, moreTextColor: UIColor)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> readMoreText: <span class="type">String</span> = trailingText + moreText</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> lengthForVisibleString: <span class="type">Int</span> = <span class="keyword">self</span>.vissibleTextLength</span><br><span class="line">        <span class="keyword">let</span> mutableString: <span class="type">String</span> = <span class="keyword">self</span>.text!</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> trimmedString: <span class="type">String</span>? = (mutableString <span class="keyword">as</span> <span class="type">NSString</span>).substring(to: lengthForVisibleString)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> ((<span class="keyword">self</span>.text?.<span class="built_in">count</span>)! - lengthForVisibleString) &lt;= <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> style = <span class="type">NSMutableParagraphStyle</span>()</span><br><span class="line">            style.lineSpacing = <span class="number">4.0</span> <span class="comment">// change line spacing between paragraph like 36 or 48</span></span><br><span class="line">            <span class="keyword">let</span> answerAttributed = <span class="type">NSMutableAttributedString</span>(string: <span class="keyword">self</span>.text!, attributes: [<span class="type">NSAttributedString</span>.<span class="type">Key</span>.font: <span class="keyword">self</span>.font, <span class="type">NSAttributedString</span>.<span class="type">Key</span>.paragraphStyle: style])</span><br><span class="line">            <span class="keyword">self</span>.attributedText = answerAttributed</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> leviTrimmedForReadMore = <span class="type">String</span>(trimmedString ?? <span class="string">""</span>) + <span class="type">String</span>(<span class="string">"... more"</span>)</span><br><span class="line">        <span class="keyword">self</span>.text = leviTrimmedForReadMore</span><br><span class="line">        <span class="keyword">let</span> ddlengthForVisibleString: <span class="type">Int</span> = <span class="keyword">self</span>.vissibleTextLength</span><br><span class="line">        <span class="keyword">if</span> ((<span class="keyword">self</span>.text?.<span class="built_in">count</span>)! - ddlengthForVisibleString) &lt;= <span class="number">0</span> &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> trimmedForReadMore: <span class="type">String</span> = trimmedString! + trailingText</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> style = <span class="type">NSMutableParagraphStyle</span>()</span><br><span class="line">            style.lineSpacing = <span class="number">4.0</span> <span class="comment">// change line spacing between paragraph like 36 or 48</span></span><br><span class="line">            <span class="keyword">let</span> answerAttributed = <span class="type">NSMutableAttributedString</span>(string: trimmedForReadMore, attributes: [<span class="type">NSAttributedString</span>.<span class="type">Key</span>.font: <span class="keyword">self</span>.font, <span class="type">NSAttributedString</span>.<span class="type">Key</span>.paragraphStyle: style])</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> readMoreAttributed = <span class="type">NSMutableAttributedString</span>(string: moreText, attributes: [<span class="type">NSAttributedString</span>.<span class="type">Key</span>.font: moreTextFont, <span class="type">NSAttributedString</span>.<span class="type">Key</span>.foregroundColor: moreTextColor, <span class="type">NSAttributedString</span>.<span class="type">Key</span>.paragraphStyle: style])</span><br><span class="line">            </span><br><span class="line">            answerAttributed.append(readMoreAttributed)</span><br><span class="line">            <span class="keyword">self</span>.attributedText = answerAttributed</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> readMoreLength: <span class="type">Int</span> = (readMoreText.utf16.<span class="built_in">count</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> trimmedForReadMore: <span class="type">String</span> = (trimmedString! <span class="keyword">as</span> <span class="type">NSString</span>).substring(to: (trimmedString?.utf16.<span class="built_in">count</span> ?? <span class="number">0</span>) - readMoreLength) + trailingText</span><br><span class="line">            <span class="keyword">let</span> style = <span class="type">NSMutableParagraphStyle</span>()</span><br><span class="line">            style.lineSpacing = <span class="number">4.0</span> <span class="comment">// change line spacing between paragraph like 36 or 48</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> answerAttributed = <span class="type">NSMutableAttributedString</span>(string: trimmedForReadMore, attributes: [<span class="type">NSAttributedString</span>.<span class="type">Key</span>.font: <span class="keyword">self</span>.font, <span class="type">NSAttributedString</span>.<span class="type">Key</span>.paragraphStyle: style])</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> readMoreAttributed = <span class="type">NSMutableAttributedString</span>(string: moreText, attributes: [<span class="type">NSAttributedString</span>.<span class="type">Key</span>.font: moreTextFont, <span class="type">NSAttributedString</span>.<span class="type">Key</span>.foregroundColor: moreTextColor, <span class="type">NSAttributedString</span>.<span class="type">Key</span>.paragraphStyle: style])</span><br><span class="line">            </span><br><span class="line">            answerAttributed.append(readMoreAttributed)</span><br><span class="line">            <span class="keyword">self</span>.attributedText = answerAttributed</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> vissibleTextLength: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> font: <span class="type">UIFont</span> = <span class="keyword">self</span>.font</span><br><span class="line">        <span class="keyword">let</span> mode: <span class="type">NSLineBreakMode</span> = <span class="keyword">self</span>.lineBreakMode</span><br><span class="line">        <span class="keyword">let</span> labelWidth: <span class="type">CGFloat</span> = <span class="keyword">self</span>.frame.size.width</span><br><span class="line">        <span class="keyword">let</span> labelHeight: <span class="type">CGFloat</span> = <span class="keyword">self</span>.frame.size.height</span><br><span class="line">        <span class="keyword">let</span> sizeConstraint = <span class="type">CGSize</span>(width: labelWidth, height: <span class="type">CGFloat</span>.greatestFiniteMagnitude)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> attributes: [<span class="type">AnyHashable</span>: <span class="type">Any</span>] = [<span class="type">NSAttributedString</span>.<span class="type">Key</span>.font: font]</span><br><span class="line">        <span class="keyword">let</span> attributedText = <span class="type">NSAttributedString</span>(string: <span class="keyword">self</span>.text!, attributes: attributes <span class="keyword">as</span>? [<span class="type">NSAttributedString</span>.<span class="type">Key</span> : <span class="type">Any</span>])</span><br><span class="line">        <span class="keyword">let</span> boundingRect: <span class="type">CGRect</span> = attributedText.boundingRect(with: sizeConstraint, options: .usesLineFragmentOrigin, context: <span class="literal">nil</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> boundingRect.size.height &gt; labelHeight &#123;</span><br><span class="line">            <span class="keyword">var</span> index: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">            <span class="keyword">var</span> prev: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">            <span class="keyword">let</span> characterSet = <span class="type">CharacterSet</span>.whitespacesAndNewlines</span><br><span class="line">            <span class="keyword">repeat</span> &#123;</span><br><span class="line">                prev = index</span><br><span class="line">                <span class="keyword">if</span> mode == <span class="type">NSLineBreakMode</span>.byCharWrapping &#123;</span><br><span class="line">                    index += <span class="number">1</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    index = (<span class="keyword">self</span>.text! <span class="keyword">as</span> <span class="type">NSString</span>).rangeOfCharacter(from: characterSet, options: [], range: <span class="type">NSRange</span>(location: index + <span class="number">1</span>, length: <span class="keyword">self</span>.text!.<span class="built_in">count</span> - index - <span class="number">1</span>)).location</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">while</span> index != <span class="type">NSNotFound</span> &amp;&amp; index &lt; <span class="keyword">self</span>.text!.<span class="built_in">count</span> &amp;&amp; (<span class="keyword">self</span>.text! <span class="keyword">as</span> <span class="type">NSString</span>).substring(to: index).boundingRect(with: sizeConstraint, options: .usesLineFragmentOrigin, attributes: attributes <span class="keyword">as</span>? [<span class="type">NSAttributedString</span>.<span class="type">Key</span> : <span class="type">Any</span>], context: <span class="literal">nil</span>).size.height &lt;= labelHeight</span><br><span class="line">            <span class="keyword">return</span> prev</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.text!.<span class="built_in">count</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//You can use it</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> biography = model.biography &#123;</span><br><span class="line">    <span class="keyword">if</span> biography.<span class="built_in">count</span> &gt;= <span class="number">10</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> readmoreFont = <span class="type">DJFont</span>.lightHelveticaFont(ofSize: <span class="number">16.0</span>)</span><br><span class="line">        <span class="keyword">let</span> readmoreFontColor = <span class="type">UIColor</span>(fromHexString: <span class="string">"818181"</span>)</span><br><span class="line">        <span class="keyword">self</span>.contentLabel.addTrailing(with: <span class="string">"... "</span>, moreText: <span class="string">"more"</span>, moreTextFont: readmoreFont!, moreTextColor: readmoreFontColor!)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leviduan.com/2019/04/07/2019-04-07/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Levi Duan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Levi's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/07/2019-04-07/" itemprop="url">React.js/HTML5ÂíåiOSÂèåÂêëÈÄö‰ø°</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-07T16:26:18+08:00">
                2019-04-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/04/07/2019-04-07/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/04/07/2019-04-07/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>ÊúÄËøëÔºåÊàë‰ΩøÁî®WKWebViewÂíåReact.jsËøõË°åÂèåÂêëÈÄö‰ø°,Ëá™Â∑±ÂÜô‰∫ÜReact.jsÂµåÂÖ•Âà∞Native‰∏≠„ÄÇ</p>
<h2 id="NativeÊìç‰ΩúWebÔºåÈÄöËøá‰∏§ÁßçÊñπÂºè‰º†ÂÄº"><a href="#NativeÊìç‰ΩúWebÔºåÈÄöËøá‰∏§ÁßçÊñπÂºè‰º†ÂÄº" class="headerlink" title="NativeÊìç‰ΩúWebÔºåÈÄöËøá‰∏§ÁßçÊñπÂºè‰º†ÂÄº"></a>NativeÊìç‰ΩúWebÔºåÈÄöËøá‰∏§ÁßçÊñπÂºè‰º†ÂÄº</h2><h3 id="Á¨¨‰∏ÄÁßçÔºåÈÄöËøáJS‰º†ÂÄºÁªôNative"><a href="#Á¨¨‰∏ÄÁßçÔºåÈÄöËøáJS‰º†ÂÄºÁªôNative" class="headerlink" title="Á¨¨‰∏ÄÁßçÔºåÈÄöËøáJS‰º†ÂÄºÁªôNative"></a>Á¨¨‰∏ÄÁßçÔºåÈÄöËøáJS‰º†ÂÄºÁªôNative</h3><p>ÈÄöËøáËøôÁßçÊñπÂºèÔºåÂèØ‰ª•ÈÄöËøáSwiftÊâßË°åDOMÊìç‰ΩúÔºåÈ°∫‰æøËØ¥‰∏ÄÂè•ÔºåwebView.evaluateJavaScriptËøîÂõûËÑöÊú¨ÊâßË°åÁªìÊûúÁöÑÂÜÖÂÆπ„ÄÇËøô‰∏™Â§ÑÁêÜÁ®ãÂ∫è‰ºº‰πéÊòØÂú®‰∏ªÁ∫øÁ®ã‰∏äÊâßË°åÁöÑ„ÄÇ</p>
<p>NativeË∞ÉÁî®JS‰ª£Á†ÅÊñπÊ≥ïÂ¶Ç‰∏ã:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">"payResult(true)"</span></span><br><span class="line">    webView.evaluateJavaScript(str) &#123; (result, error) <span class="keyword">in</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JavascriptÂ§ÑÁêÜÈÄªËæëÊñπÊ≥ïÂ¶Ç‰∏ã:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">payResult = <span class="function"><span class="params">value</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value === <span class="literal">true</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'true'</span>)</span><br><span class="line">        <span class="keyword">this</span>.setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123;</span><br><span class="line">            pushnotice: <span class="string">'1'</span></span><br><span class="line">        &#125;));</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'false'</span>)</span><br><span class="line">        <span class="keyword">this</span>.setState(<span class="function"><span class="params">prevState</span> =&gt;</span> (&#123;</span><br><span class="line">            pushnotice: <span class="string">'0'</span></span><br><span class="line">        &#125;));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Â¶ÇÊûúJSÁöÑpayResultÊñπÊ≥ïÊ≤°ÊúâË∞ÉÁî®ÔºåÈÇ£Â∞±Âä†‰∏äËøôÊ†∑‰∏ÄÂè•ËØùwindow.payResultÔºåÊúâÂèØËÉΩË¢´ÁªÑ‰ª∂Â±èËîΩÊó†Ê≥ïÂÖ®Â±ÄË∞ÉÁî®„ÄÇ</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="built_in">window</span>.payResult = <span class="keyword">this</span>.payResult</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Á¨¨‰∫åÁßçÔºåÈÄöËøágetËØ∑Ê±Ç‰º†ÂÄº"><a href="#Á¨¨‰∫åÁßçÔºåÈÄöËøágetËØ∑Ê±Ç‰º†ÂÄº" class="headerlink" title="Á¨¨‰∫åÁßçÔºåÈÄöËøágetËØ∑Ê±Ç‰º†ÂÄº"></a>Á¨¨‰∫åÁßçÔºåÈÄöËøágetËØ∑Ê±Ç‰º†ÂÄº</h3><p>ÈÄöËøágetËØ∑Ê±ÇÊñπÂºèÂ∞ÜÂèÇÊï∞‰º†Âà∞jsÁöÑËØ∑Ê±ÇURLÈìæÊé•‰∏≠„ÄÇ</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> url = <span class="string">""</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> webUrl = webUrl &#123;</span><br><span class="line">    url = webUrl</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> uid = userID &#123;</span><br><span class="line">        url += <span class="string">"?"</span> + <span class="string">"uid="</span> + uid</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> topicId = topicId &#123;</span><br><span class="line">        url += <span class="string">"&amp;"</span> + <span class="string">"topic="</span> + topicId</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> isRank == <span class="literal">true</span> &#123;</span><br><span class="line">        url += <span class="string">"&amp;"</span> + <span class="string">"type=2"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>react.jsÈÄöËøáURLÊãºÊé•ÊñπÂºèËß£Êûê‰º†ÈÄíÁöÑÂèÇÊï∞,ÊñπÊ≥ïÂ¶Ç‰∏ã:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> params = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> str = <span class="keyword">this</span>.props.location.search</span><br><span class="line"><span class="keyword">let</span> seg = str.replace(<span class="regexp">/^\?/</span>, <span class="string">''</span>).split(<span class="string">'&amp;'</span>)</span><br><span class="line"><span class="keyword">let</span> len = seg.length</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (seg[i]) &#123;</span><br><span class="line">       <span class="keyword">let</span> p = seg[i].split(<span class="string">'='</span>);</span><br><span class="line">       params[p[<span class="number">0</span>]] = p[<span class="number">1</span>];   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÈÄöËøáËøôÁßçÊñπÂºèparams.uid | param.topic | param.type Êù•Ëé∑ÂèñÂèÇÊï∞</p>
<h2 id="NativeÊìç‰ΩúWebÔºåÈÄöËøá‰∏§ÁßçÊñπÂºè‰º†ÂÄº-1"><a href="#NativeÊìç‰ΩúWebÔºåÈÄöËøá‰∏§ÁßçÊñπÂºè‰º†ÂÄº-1" class="headerlink" title="NativeÊìç‰ΩúWebÔºåÈÄöËøá‰∏§ÁßçÊñπÂºè‰º†ÂÄº"></a>NativeÊìç‰ΩúWebÔºåÈÄöËøá‰∏§ÁßçÊñπÂºè‰º†ÂÄº</h2><h3 id="NativeÊìç‰Ωú"><a href="#NativeÊìç‰Ωú" class="headerlink" title="NativeÊìç‰Ωú"></a>NativeÊìç‰Ωú</h3><ol>
<li>ÂÆû‰æãÂåñWKWebViewConfigurationÂíåWKUserContentController,userControllerÂú®JavaScriptÁöÑÊ≥®ÂÜåÂ§ÑÁêÜË∞ÉÁî®ÂêçÁß∞„ÄÇÂπ∂ËÆæÁΩÆÂÆûÁé∞WKScriptMessageHandlerÂçèËÆÆÁöÑ‰ª£ÁêÜ„ÄÇ</li>
</ol>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> webConfiguration = <span class="type">WKWebViewConfiguration</span>()</span><br><span class="line">webConfiguration.preferences = <span class="type">WKPreferences</span>()</span><br><span class="line">webConfiguration.preferences.minimumFontSize = <span class="number">10</span>;</span><br><span class="line">webConfiguration.preferences.javaScriptEnabled = <span class="literal">true</span>;</span><br><span class="line">webConfiguration.preferences.javaScriptCanOpenWindowsAutomatically = <span class="literal">false</span>;</span><br><span class="line">webConfiguration.userContentController = <span class="type">WKUserContentController</span>()</span><br><span class="line">webConfiguration.processPool = <span class="type">WKProcessPool</span>()</span><br><span class="line">webConfiguration.userContentController.add(<span class="keyword">self</span> <span class="keyword">as</span> <span class="type">WKScriptMessageHandler</span>, name:<span class="string">"pushAction"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> webView = <span class="type">WKWebView</span>(frame: .zero, configuration: webConfiguration)</span><br><span class="line">webView.scrollView.bounces = <span class="literal">false</span></span><br><span class="line">webView.scrollView.showsVerticalScrollIndicator = <span class="literal">false</span></span><br><span class="line">webView.scrollView.showsHorizontalScrollIndicator = <span class="literal">false</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ÈÄöËøáWKScriptMessageHandlerÂçèËÆÆËøõË°åÁõëÊéß</li>
</ol>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">userContentController</span><span class="params">(<span class="number">_</span> userContentController: WKUserContentController, didReceive message: WKScriptMessage)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(message.name)</span><br><span class="line">    <span class="built_in">print</span>(message.body)</span><br><span class="line">    jsInvokeNativeHandler(message)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">jsInvokeNativeHandler</span><span class="params">(<span class="number">_</span> message: WKScriptMessage)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> message.isKind(of: <span class="type">WKScriptMessage</span>.<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> serialQueue = <span class="type">DispatchQueue</span>(label: <span class="string">"com.test.mySerialQueue"</span>)</span><br><span class="line">        serialQueue.sync &#123;</span><br><span class="line">            <span class="keyword">if</span> message.name == <span class="string">"pushAction"</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">let</span> dict : <span class="type">NSDictionary</span> = message.body <span class="keyword">as</span>? <span class="type">NSDictionary</span> &#123;</span><br><span class="line">                     <span class="keyword">if</span> <span class="keyword">let</span> content = dict[<span class="string">"content"</span>] <span class="keyword">as</span>? <span class="type">String</span> &#123;</span><br><span class="line">                        <span class="keyword">self</span>.sendPushNotification(content)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÂÖ≥‰∫éËß£ÊûêÔºåÂíåWebËøõË°åÂçèËÆÆÔºåÊàëÂú®H5ÂÜôÁöÑ‰ª£Á†ÅÈÄöËøámessage‰º†ËøáÊù•ÁöÑÊòØ‰∏Ä‰∏™Â≠óÂÖ∏Á±ªÂûã {content: ‚Äò‚Ä¶‚Äô}„ÄÇ</p>
<h3 id="webÁ´ØÊìç‰Ωú"><a href="#webÁ´ØÊìç‰Ωú" class="headerlink" title="webÁ´ØÊìç‰Ωú"></a>webÁ´ØÊìç‰Ωú</h3><p>H5Â¶Ç‰Ωï‰º†ÈÄíÊñπÊ≥ïÁªônativeÔºü</p>
<p>‰º†ÂÄºÊñπÊ≥ïÂ¶Ç‰∏ãÔºåiOSÂíåAndroidÊé•ÂèóÁöÑÊñπÊ≥ï‰∏çÂêåÔºåË¶ÅÂçïÁã¨ËøõË°åÂ§ÑÁêÜ:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.htmlCallMobileDeja = <span class="function"><span class="keyword">function</span>(<span class="params">handlerMethod, parameters</span>)</span>&#123;    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> u = navigator.userAgent; </span><br><span class="line">        <span class="keyword">var</span> isAndroid = u.indexOf(<span class="string">'Android'</span>) &gt; <span class="number">-1</span> || u.indexOf(<span class="string">'Adr'</span>) &gt; <span class="number">-1</span> </span><br><span class="line">        <span class="keyword">var</span> isiOS = !!u.match(<span class="regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>) </span><br><span class="line">        <span class="keyword">if</span> (isiOS) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">window</span>.webkit) &#123;</span><br><span class="line">                <span class="built_in">window</span>.webkit.messageHandlers[handlerMethod].postMessage(dic);</span><br><span class="line">                <span class="built_in">console</span>.log(handlerMethod)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(isAndroid)&#123;</span><br><span class="line">            <span class="built_in">window</span>[<span class="string">'JsClient'</span>][handlerMethod](parameters)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span>(err) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'The native context does not exist yet'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>javascriptÈÄöËøáËøôÁßçÊñπÂºèËøõË°å‰º†ÂÄº</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> dic = &#123;</span><br><span class="line">    <span class="string">'event_name'</span>: event_name + <span class="string">''</span>,</span><br><span class="line">    <span class="string">'event_first_param'</span>: event_first_param + <span class="string">''</span>,</span><br><span class="line">    <span class="string">'event_second_param'</span>: event_second_param + <span class="string">''</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.htmlCallMobileDeja(<span class="string">'hideMBP'</span>, dic)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leviduan.com/2019/04/07/2019-04-07-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Levi Duan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Levi's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/07/2019-04-07-1/" itemprop="url">Week Tips(2019.4.1-2019.4.7)</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-04-07T16:26:18+08:00">
                2019-04-07
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/04/07/2019-04-07-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/04/07/2019-04-07-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="H5-reactÂ¢ûÂä†loadingÈ°µÈù¢"><a href="#H5-reactÂ¢ûÂä†loadingÈ°µÈù¢" class="headerlink" title="H5 reactÂ¢ûÂä†loadingÈ°µÈù¢"></a>H5 reactÂ¢ûÂä†loadingÈ°µÈù¢</h3><h4 id="ÂÆâË£ÖÊèí‰ª∂"><a href="#ÂÆâË£ÖÊèí‰ª∂" class="headerlink" title="ÂÆâË£ÖÊèí‰ª∂:"></a>ÂÆâË£ÖÊèí‰ª∂:</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm i react-loading  --save</span><br></pre></td></tr></table></figure>
<p>npm web:<br><a href="https://www.npmjs.com/package/react-loading" target="_blank" rel="noopener">https://www.npmjs.com/package/react-loading</a></p>
<h4 id="DemoÂ±ïÁ§∫È°µÈù¢"><a href="#DemoÂ±ïÁ§∫È°µÈù¢" class="headerlink" title="DemoÂ±ïÁ§∫È°µÈù¢:"></a>DemoÂ±ïÁ§∫È°µÈù¢:</h4><p><a href="https://codesandbox.io/s/mqx0ql55qp" target="_blank" rel="noopener">https://codesandbox.io/s/mqx0ql55qp</a></p>
<h4 id="‰ΩøÁî®ÊñπÊ≥ï"><a href="#‰ΩøÁî®ÊñπÊ≥ï" class="headerlink" title="‰ΩøÁî®ÊñπÊ≥ï:"></a>‰ΩøÁî®ÊñπÊ≥ï:</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ReactLoading</span> <span class="attr">type</span>=<span class="string">'spokes'</span> <span class="attr">color</span>=<span class="string">"#262729"</span> <span class="attr">height</span>=<span class="string">"0.3rem"</span> <span class="attr">width</span>=<span class="string">"0.3rem"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="loadingÊ†∑Âºè"><a href="#loadingÊ†∑Âºè" class="headerlink" title="loadingÊ†∑Âºè:"></a>loadingÊ†∑Âºè:</h4><p><img src="/images/15546126208728/15546136593422.jpg" alt></p>
<h4 id="Ê®°ÊãüiOS-loadingÊ†∑Âºè"><a href="#Ê®°ÊãüiOS-loadingÊ†∑Âºè" class="headerlink" title="Ê®°ÊãüiOS loadingÊ†∑Âºè:"></a>Ê®°ÊãüiOS loadingÊ†∑Âºè:</h4><p>html:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">"SnsRankOther-loadingPic"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ReactLoading</span> <span class="attr">type</span>=<span class="string">'spokes'</span> <span class="attr">color</span>=<span class="string">"#262729"</span> <span class="attr">height</span>=<span class="string">"0.3rem"</span> <span class="attr">width</span>=<span class="string">"0.3rem"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>css:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.SnsRankOther-loadingPic</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(230, 230, 230, 0.479);</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0.8rem</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0.8rem</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0.05rem</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-direction</span>: row;</span><br><span class="line">    <span class="attribute">align-items</span>: center;</span><br><span class="line">    <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÊïàÊûú:</p>
<p><img src="/images/15546126208728/15546139826383.jpg" alt></p>
<h3 id="iOS-pod-updateÂêéReact-frameworkÊä•Èîô"><a href="#iOS-pod-updateÂêéReact-frameworkÊä•Èîô" class="headerlink" title="iOS pod updateÂêéReact frameworkÊä•Èîô"></a>iOS pod updateÂêéReact frameworkÊä•Èîô</h3><p>ÈóÆÈ¢òÂá∫Áé∞: npm install Âêé podupdateÔºå XcodeËøêË°åÊä•ÈîôÔºåÈîôËØØÊèêÁ§∫ React google::logmessageÂá∫È¢ò„ÄÇ</p>
<h4 id="ÁºñËØëÊä•ÈîôÊèêÁ§∫Ôºö"><a href="#ÁºñËØëÊä•ÈîôÊèêÁ§∫Ôºö" class="headerlink" title="ÁºñËØëÊä•ÈîôÊèêÁ§∫Ôºö"></a>ÁºñËØëÊä•ÈîôÊèêÁ§∫Ôºö</h4><p><img src="/images/15546126208728/15546141634870.png" alt></p>
<p>log:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Undefined symbols for architecture x86_64:</span><br><span class="line">  &quot;google::LogMessage::LogMessage(char const*, int, int)&quot;, referenced from:</span><br><span class="line">      facebook::react::CxxNativeModule::invoke(unsigned int, folly::dynamic&amp;&amp;, int)::$_1::operator()() const in CxxNativeModule.o</span><br><span class="line">      facebook::react::JSException::buildMessage(OpaqueJSContext const*, OpaqueJSValue const*, OpaqueJSString*, char const*) in JSCHelpers.o</span><br><span class="line">  &quot;double_conversion::DoubleToStringConverter::ToShortestIeeeNumber(double, double_conversion::StringBuilder*, double_conversion::DoubleToStringConverter::DtoaMode) const&quot;, referenced from:</span><br><span class="line">      double_conversion::DoubleToStringConverter::ToShortest(double, double_conversion::StringBuilder*) const in CxxNativeModule.o</span><br><span class="line">  &quot;double_conversion::DoubleToStringConverter::ToFixed(double, int, double_conversion::StringBuilder*) const&quot;, referenced from:</span><br><span class="line">      std::__1::enable_if&lt;(std::is_floating_point&lt;double&gt;::value) &amp;&amp; (IsSomeString&lt;std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt; &gt;::value), void&gt;::type folly::toAppend&lt;std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt;, double&gt;(double, std::__1::basic_string&lt;char, std::__1::char_traits&lt;char&gt;, std::__1::allocator&lt;char&gt; &gt;*, double_conversion::DoubleToStringConverter::DtoaMode, unsigned int) in CxxNativeModule.o</span><br><span class="line">      ...</span><br></pre></td></tr></table></figure>
<h4 id="Ëß£ÂÜ≥ÊñπÊ°à"><a href="#Ëß£ÂÜ≥ÊñπÊ°à" class="headerlink" title="Ëß£ÂÜ≥ÊñπÊ°à:"></a>Ëß£ÂÜ≥ÊñπÊ°à:</h4><p>working manually adding DoubleConversion and glog to Link Binary With Libraries of React framework target in @CocoaPods project.</p>
<p><img src="/images/15546126208728/15546142677714.png" alt></p>
<h3 id="UITableViewÂõûÊªöÂà∞È°∂ÈÉ®ÁöÑÂá†ÁßçÊñπÊ≥ï"><a href="#UITableViewÂõûÊªöÂà∞È°∂ÈÉ®ÁöÑÂá†ÁßçÊñπÊ≥ï" class="headerlink" title="UITableViewÂõûÊªöÂà∞È°∂ÈÉ®ÁöÑÂá†ÁßçÊñπÊ≥ï"></a>UITableViewÂõûÊªöÂà∞È°∂ÈÉ®ÁöÑÂá†ÁßçÊñπÊ≥ï</h3><p>ÈóÆÈ¢ò: tableviewÊØèÊ¨°ÂõûÊªöÊòØÊªöÂà∞‰∫ÜÁ¨¨‰∏Ä‰∏™cell‰∏äÈù¢Ôºå‰ΩÜËøô‰∏™tableviewÊòØÊúâË°®Â§¥ÁöÑ„ÄÇ</p>
<p>Áúã‰∫Ü‰∏ã‰ª£Á†Å:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">self</span>.tableview.scrollToRow(at: <span class="type">IndexPath</span>(row: <span class="number">0</span>, section: <span class="number">0</span>), at: .top, animated: <span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<p>ÊîπÊàêÂ¶Ç‰∏ãÊñπÂºè:</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">self</span>.contentTB.setContentOffset(<span class="type">CGPoint</span>(x: <span class="number">0</span>, y: <span class="number">0</span>), animated: <span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<p>ÈóÆÈ¢òËß£ÂÜ≥</p>
<p>UITableViewÂõûÊªöÂà∞È°∂ÈÉ®ÁöÑÂá†‰∏™ÊñπÊ≥ïÔºö</p>
<figure class="highlight objectivec"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ÊñπÊ≥ï‰∏Ä</span></span><br><span class="line">[<span class="keyword">self</span>.tableView  scrollRectToVisible:<span class="built_in">CGRectMake</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>) animated:<span class="literal">NO</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊñπÊ≥ï‰∫å</span></span><br><span class="line">[<span class="keyword">self</span>.tableView setContentOffset:<span class="built_in">CGPointMake</span>(<span class="number">0</span>,<span class="number">0</span>) animated:<span class="literal">NO</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//ÊñπÊ≥ï‰∏â</span></span><br><span class="line"><span class="built_in">NSIndexPath</span>* indexPat = [<span class="built_in">NSIndexPath</span> indexPathForRow:<span class="number">0</span> inSection:<span class="number">0</span>];</span><br><span class="line">[<span class="keyword">self</span>.tableView scrollToRowAtIndexPath:indexPat atScrollPosition:<span class="built_in">UITableViewScrollPositionBottom</span> animated:<span class="literal">YES</span>];</span><br></pre></td></tr></table></figure>
<p>ÊñπÊ≥ï‰∏ÄÂèØ‰ª•ÂõûÊªöÂà∞Ë°®Â§¥ÔºåÂÖ∂‰ªñ‰∏§‰∏™ÊñπÊ≥ïÂè™ÊòØÂõûÊªöÂà∞Á¨¨‰∏Ä‰∏™cell.</p>
<h3 id="iOSÈÄöËøáSafariË∞ÉËØïH5"><a href="#iOSÈÄöËøáSafariË∞ÉËØïH5" class="headerlink" title="iOSÈÄöËøáSafariË∞ÉËØïH5"></a>iOSÈÄöËøáSafariË∞ÉËØïH5</h3><h4 id="ÈÄöËøáÊï∞ÊçÆÁ∫øÔºåÂ∞ÜÊâãÊú∫ËøûÊé•ÁîµËÑë"><a href="#ÈÄöËøáÊï∞ÊçÆÁ∫øÔºåÂ∞ÜÊâãÊú∫ËøûÊé•ÁîµËÑë" class="headerlink" title="ÈÄöËøáÊï∞ÊçÆÁ∫øÔºåÂ∞ÜÊâãÊú∫ËøûÊé•ÁîµËÑë"></a>ÈÄöËøáÊï∞ÊçÆÁ∫øÔºåÂ∞ÜÊâãÊú∫ËøûÊé•ÁîµËÑë</h4><h4 id="ÊâìÂºÄÊâãÊú∫Ôºå-Settings-safari-Advanced-Web-Inspector-ÂºÄÂÖ≥ÊâìÂºÄ"><a href="#ÊâìÂºÄÊâãÊú∫Ôºå-Settings-safari-Advanced-Web-Inspector-ÂºÄÂÖ≥ÊâìÂºÄ" class="headerlink" title="ÊâìÂºÄÊâãÊú∫Ôºå Settings - safari - Advanced - Web Inspector ÂºÄÂÖ≥ÊâìÂºÄ"></a>ÊâìÂºÄÊâãÊú∫Ôºå Settings - safari - Advanced - Web Inspector ÂºÄÂÖ≥ÊâìÂºÄ</h4><h4 id="ÊâìÂºÄÁîµËÑësafariÔºåpreference-Advanced-Show-Develop-menu-in-menu-bar-ÂºÄÂÖ≥ÊâìÂºÄ-Â¶ÇÂõæ"><a href="#ÊâìÂºÄÁîµËÑësafariÔºåpreference-Advanced-Show-Develop-menu-in-menu-bar-ÂºÄÂÖ≥ÊâìÂºÄ-Â¶ÇÂõæ" class="headerlink" title="ÊâìÂºÄÁîµËÑësafariÔºåpreference - Advanced - Show Develop menu in menu bar ÂºÄÂÖ≥ÊâìÂºÄ,Â¶ÇÂõæ:"></a>ÊâìÂºÄÁîµËÑësafariÔºåpreference - Advanced - Show Develop menu in menu bar ÂºÄÂÖ≥ÊâìÂºÄ,Â¶ÇÂõæ:</h4><p><img src="/images/15546126208728/15546152534699.jpg" alt></p>
<h4 id="ÊâìÂºÄÁîµËÑësafari-Develop-bar-‰∏≠‰ºöÁúãÂà∞‰Ω†ÁöÑÊâãÊú∫ÔºåÂ¶ÇÂõæÊâÄÁ§∫ÔºåÁÇπÂáªËøõË°åË∞ÉËØï"><a href="#ÊâìÂºÄÁîµËÑësafari-Develop-bar-‰∏≠‰ºöÁúãÂà∞‰Ω†ÁöÑÊâãÊú∫ÔºåÂ¶ÇÂõæÊâÄÁ§∫ÔºåÁÇπÂáªËøõË°åË∞ÉËØï" class="headerlink" title="ÊâìÂºÄÁîµËÑësafari - Develop bar ‰∏≠‰ºöÁúãÂà∞‰Ω†ÁöÑÊâãÊú∫ÔºåÂ¶ÇÂõæÊâÄÁ§∫ÔºåÁÇπÂáªËøõË°åË∞ÉËØï:"></a>ÊâìÂºÄÁîµËÑësafari - Develop bar ‰∏≠‰ºöÁúãÂà∞‰Ω†ÁöÑÊâãÊú∫ÔºåÂ¶ÇÂõæÊâÄÁ§∫ÔºåÁÇπÂáªËøõË°åË∞ÉËØï:</h4><p><img src="/images/15546126208728/15546153459838.jpg" alt></p>
<h4 id="ÁÇπÂáªwebÂêéËøõÂÖ•‰∫ÜË∞ÉËØïÈ°µÈù¢ÔºåÂèØ‰ª•ËøõË°åË∞ÉËØï‰∫Ü„ÄÇ"><a href="#ÁÇπÂáªwebÂêéËøõÂÖ•‰∫ÜË∞ÉËØïÈ°µÈù¢ÔºåÂèØ‰ª•ËøõË°åË∞ÉËØï‰∫Ü„ÄÇ" class="headerlink" title="ÁÇπÂáªwebÂêéËøõÂÖ•‰∫ÜË∞ÉËØïÈ°µÈù¢ÔºåÂèØ‰ª•ËøõË°åË∞ÉËØï‰∫Ü„ÄÇ"></a>ÁÇπÂáªwebÂêéËøõÂÖ•‰∫ÜË∞ÉËØïÈ°µÈù¢ÔºåÂèØ‰ª•ËøõË°åË∞ÉËØï‰∫Ü„ÄÇ</h4><p><img src="/images/15546126208728/15546153855792.jpg" alt></p>
<h3 id="JavaScript-Ëé∑ÂèñÊó∂Èó¥Êà≥ËΩ¨Êç¢ÁæéÂõΩÊó•ÊúüÁÆÄÂÜôÁöÑÊñπÊ≥ïÔºö"><a href="#JavaScript-Ëé∑ÂèñÊó∂Èó¥Êà≥ËΩ¨Êç¢ÁæéÂõΩÊó•ÊúüÁÆÄÂÜôÁöÑÊñπÊ≥ïÔºö" class="headerlink" title="JavaScript Ëé∑ÂèñÊó∂Èó¥Êà≥ËΩ¨Êç¢ÁæéÂõΩÊó•ÊúüÁÆÄÂÜôÁöÑÊñπÊ≥ïÔºö"></a>JavaScript Ëé∑ÂèñÊó∂Èó¥Êà≥ËΩ¨Êç¢ÁæéÂõΩÊó•ÊúüÁÆÄÂÜôÁöÑÊñπÊ≥ïÔºö</h3><p>ÈúÄÊ±Ç: ÈÄöËøáÊúçÂä°Á´Ø‰º†Êó∂Èó¥Êà≥ÊòæÁ§∫È°µÈù¢Â¶Ç‰∏ã:</p>
<p><img src="/images/15546126208728/15546161033203.jpg" alt></p>
<p>‰ª£Á†ÅÂ¶Ç‰∏ã, request.data.start_date‰∏∫Êó∂Èó¥Êà≥Á±ªÂûãÔºåÈÄöËøájsÊñπÊ≥ïËΩ¨Êç¢ÊàêÁæéÂõΩÊó•ÊúüÁÆÄÂÜôÁöÑÊ≠£Á°ÆÁöÑÊñπÂºè</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> startDate = <span class="keyword">new</span> <span class="built_in">Date</span>(request.data.start_date);</span><br><span class="line"><span class="keyword">let</span> startMonth = startDate.toDateString().split(<span class="string">" "</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> startDay = startDate.toDateString().split(<span class="string">" "</span>)[<span class="number">2</span>] + <span class="string">'th'</span></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(request.data.end_date);</span><br><span class="line"><span class="keyword">let</span> endDate = <span class="keyword">new</span> <span class="built_in">Date</span>(request.data.end_date);</span><br><span class="line"><span class="keyword">let</span> endMonth = endDate.toDateString().split(<span class="string">" "</span>)[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> endDay = endDate.toDateString().split(<span class="string">" "</span>)[<span class="number">2</span>] + <span class="string">'th'</span></span><br><span class="line">dateText = startDay + <span class="string">' '</span> + startMonth + <span class="string">' - '</span> + endDay + <span class="string">' '</span> + endMonth</span><br></pre></td></tr></table></figure>
<h3 id="iOSÂÄíËÆ°Êó∂ÊñπÊ≥ïÔºö"><a href="#iOSÂÄíËÆ°Êó∂ÊñπÊ≥ïÔºö" class="headerlink" title="iOSÂÄíËÆ°Êó∂ÊñπÊ≥ïÔºö"></a>iOSÂÄíËÆ°Êó∂ÊñπÊ≥ïÔºö</h3><p>ÊïàÊûúÂ¶Ç‰∏ã:</p>
<p><img src="/images/15546126208728/15546165365762.jpg" alt></p>
<p>‰ª£Á†ÅÂ¶Ç‰∏ã</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">var</span> timer: <span class="type">Timer</span>!</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">var</span> timeFormat = <span class="string">"HH:mm:ss"</span></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">var</span> diffDate: <span class="type">NSDate</span>!</span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">let</span> date1970 = <span class="type">NSDate</span>(timeIntervalSince1970: <span class="number">0</span>)</span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">var</span> fromDate: <span class="type">NSDate</span> = <span class="type">NSDate</span>()</span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">var</span> currentDate: <span class="type">NSDate</span> = <span class="type">NSDate</span>()</span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">var</span> range: <span class="type">NSRange</span>!</span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">var</span> targetTime: <span class="type">TimeInterval</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">var</span> currentTime: <span class="type">TimeInterval</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">var</span> endOfTimer: <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> timeCounted &gt;= currentTime</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">var</span> timeCounted: <span class="type">TimeInterval</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> timeCounted = <span class="type">NSDate</span>().timeIntervalSince(fromDate <span class="keyword">as</span> <span class="type">Date</span>)</span><br><span class="line">    <span class="keyword">return</span> round(timeCounted &lt; <span class="number">0</span> ? <span class="number">0</span> : timeCounted)</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">var</span> dateFormatter: <span class="type">DateFormatter</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> df = <span class="type">DateFormatter</span>()</span><br><span class="line">    df.locale = <span class="type">Locale</span>(identifier: <span class="string">"zh_CN"</span>)</span><br><span class="line">    df.dateStyle = <span class="type">DateFormatter</span>.<span class="type">Style</span>.medium</span><br><span class="line">    df.timeStyle = <span class="type">DateFormatter</span>.<span class="type">Style</span>.medium</span><br><span class="line">    df.dateFormat = timeFormat</span><br><span class="line">    <span class="keyword">return</span> df</span><br><span class="line">&#125;  </span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateTimer</span><span class="params">()</span></span> &#123;</span><br><span class="line">    disposeTimer()</span><br><span class="line">    timer = <span class="type">Timer</span>.scheduledTimer(timeInterval: <span class="number">1.0</span>,</span><br><span class="line">                                 target: <span class="keyword">self</span>,</span><br><span class="line">                                 selector: #selector(updateText),</span><br><span class="line">                                 userInfo: <span class="literal">nil</span>,</span><br><span class="line">                                 repeats: <span class="literal">true</span>)</span><br><span class="line">    <span class="type">RunLoop</span>.current.add(timer, forMode: <span class="type">RunLoop</span>.<span class="type">Mode</span>.common)</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">disposeTimer</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> timer != <span class="literal">nil</span> &#123;</span><br><span class="line">        timer.invalidate()</span><br><span class="line">        timer = <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">updateText</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> diffDate != <span class="literal">nil</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> date = diffDate.addingTimeInterval(round(timeCounted * -<span class="number">1</span>)) <span class="keyword">as</span> <span class="type">Date</span></span><br><span class="line">    <span class="keyword">let</span> formattedText = timeCounted &lt; <span class="number">0</span></span><br><span class="line">        ? dateFormatter.string(from: date1970.addingTimeInterval(<span class="number">0</span>) <span class="keyword">as</span> <span class="type">Date</span>)</span><br><span class="line">        : <span class="keyword">self</span>.surplusTime(date)</span><br><span class="line">    </span><br><span class="line">    countdownLabel.text = <span class="string">" - Result will be revealed in "</span> + formattedText</span><br><span class="line">    countdownLabel.sizeToFit()</span><br><span class="line">    </span><br><span class="line">    setNeedsDisplay()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> endOfTimer &#123;</span><br><span class="line">        disposeTimer()</span><br><span class="line">        countdownLabel.text = <span class="string">" "</span></span><br><span class="line">        countdownLabel.sizeToFit()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">surplusTime</span><span class="params">(<span class="number">_</span> to1970Date: Date)</span></span> -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> calendar = <span class="type">Calendar</span>.<span class="keyword">init</span>(identifier: .gregorian);</span><br><span class="line">    <span class="keyword">var</span> labelText = timeFormat;</span><br><span class="line">    <span class="keyword">let</span> comp = calendar.dateComponents([.day, .hour, .minute, .second], from: <span class="type">NSDate</span>(timeIntervalSince1970: <span class="number">0</span>) <span class="keyword">as</span> <span class="type">Date</span>, to: to1970Date)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> day = comp.day ,<span class="keyword">let</span> <span class="number">_</span> = timeFormat.range(of: <span class="string">"dd"</span>)&#123;</span><br><span class="line">        labelText = labelText.replacingOccurrences(of: <span class="string">"dd"</span>, with: <span class="type">String</span>.<span class="keyword">init</span>(format: <span class="string">"%02ld"</span>, day))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> hour = comp.hour ,<span class="keyword">let</span> <span class="number">_</span> = timeFormat.range(of: <span class="string">"hh"</span>)&#123;</span><br><span class="line">        labelText = labelText.replacingOccurrences(of: <span class="string">"hh"</span>, with: <span class="type">String</span>.<span class="keyword">init</span>(format: <span class="string">"%02ld"</span>, hour))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> hour = comp.hour ,<span class="keyword">let</span> <span class="number">_</span> = timeFormat.range(of: <span class="string">"HH"</span>)&#123;</span><br><span class="line">        labelText = labelText.replacingOccurrences(of: <span class="string">"HH"</span>, with: <span class="type">String</span>.<span class="keyword">init</span>(format: <span class="string">"%02ld"</span>, hour))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> minute = comp.minute ,<span class="keyword">let</span> <span class="number">_</span> = timeFormat.range(of: <span class="string">"mm"</span>)&#123;</span><br><span class="line">        labelText = labelText.replacingOccurrences(of: <span class="string">"mm"</span>, with: <span class="type">String</span>.<span class="keyword">init</span>(format: <span class="string">"%02ld"</span>, minute))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> second = comp.second ,<span class="keyword">let</span> <span class="number">_</span> = timeFormat.range(of: <span class="string">"ss"</span>)&#123;</span><br><span class="line">        labelText = labelText.replacingOccurrences(of: <span class="string">"ss"</span>, with: <span class="type">String</span>.<span class="keyword">init</span>(format: <span class="string">"%02ld"</span>, second))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> labelText</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="HTML5-ÂÜô-REM-jsÊñá‰ª∂ÊñπÊ≥ï"><a href="#HTML5-ÂÜô-REM-jsÊñá‰ª∂ÊñπÊ≥ï" class="headerlink" title="HTML5 ÂÜô REM.jsÊñá‰ª∂ÊñπÊ≥ï"></a>HTML5 ÂÜô REM.jsÊñá‰ª∂ÊñπÊ≥ï</h3><ol>
<li>Â§çÂà∂‰∏ãÈù¢ËøôÊÆµ‰ª£Á†ÅÂà∞‰Ω†ÁöÑÈ°µÈù¢ÁöÑÂ§¥ÈÉ®ÁöÑscriptÊ†áÁ≠æÁöÑÊúÄÂâçÈù¢„ÄÇÂ¶ÇÊûúÊòØreact jsÔºåÁõ¥Êé•ÊîæÂú®index.jsÊñá‰ª∂ÈáåÔºö</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">'./rem.js'</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li><p>Ê†πÊçÆËÆæËÆ°Á®øÂ§ßÂ∞èÔºåË∞ÉÊï¥ÈáåÈù¢ÁöÑÊúÄÂêé‰∏§‰∏™ÂèÇÊï∞ÂÄº„ÄÇ</p>
</li>
<li><p>‰ΩøÁî®1rem=100pxËΩ¨Êç¢‰Ω†ÁöÑËÆæËÆ°Á®øÁöÑÂÉèÁ¥†Ôºå‰æãÂ¶ÇËÆæËÆ°Á®ø‰∏äÊüê‰∏™ÂùóÊòØ100px <em> 300px,Êç¢ÁÆóÊàêremÂàô‰∏∫1rem </em> 3rem„ÄÇ</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> win = <span class="built_in">window</span>;</span><br><span class="line"><span class="keyword">var</span> doc = win.document;</span><br><span class="line"><span class="keyword">var</span> docEl = doc.documentElement;</span><br><span class="line"><span class="keyword">var</span> tid;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">refreshRem</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> width = docEl.clientWidth;</span><br><span class="line">    <span class="keyword">var</span> height = docEl.clientHeight;</span><br><span class="line">    <span class="keyword">if</span>(width&gt;=<span class="number">640</span>)&#123;</span><br><span class="line">        docEl.style.fontSize = <span class="string">'100px'</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        docEl.style.fontSize = <span class="number">100</span> * (width / <span class="number">375</span>) + <span class="string">'px'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">win.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    clearTimeout(tid);</span><br><span class="line">    tid = setTimeout(refreshRem, <span class="number">300</span>);</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">win.addEventListener(<span class="string">'pageshow'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (e.persisted) &#123;</span><br><span class="line">        clearTimeout(tid);</span><br><span class="line">        tid = setTimeout(refreshRem, <span class="number">300</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">refreshRem();</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leviduan.com/2019/03/13/2019-03-13/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Levi Duan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Levi's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/13/2019-03-13/" itemprop="url">„ÄäÂâëÊåáoffer„Äã Êï∞ÁªÑ‰∏≠Âá∫Áé∞Ê¨°Êï∞Ë∂ÖËøá‰∏ÄÂçäÁöÑÊï∞Â≠ó</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-13T00:00:18+08:00">
                2019-03-13
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/03/13/2019-03-13/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/13/2019-03-13/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="OJ-address"><a href="#OJ-address" class="headerlink" title="OJ address"></a>OJ address</h3><p>website : <a href="https://www.nowcoder.com/ta/coding-interviews?page=2" target="_blank" rel="noopener">„ÄäÂâëÊåáoffer„ÄãÊï∞ÁªÑ‰∏≠Âá∫Áé∞Ê¨°Êï∞Ë∂ÖËøá‰∏ÄÂçäÁöÑÊï∞Â≠ó</a></p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>Êï∞ÁªÑ‰∏≠Êúâ‰∏Ä‰∏™Êï∞Â≠óÂá∫Áé∞ÁöÑÊ¨°Êï∞Ë∂ÖËøáÊï∞ÁªÑÈïøÂ∫¶ÁöÑ‰∏ÄÂçäÔºåËØ∑ÊâæÂá∫Ëøô‰∏™Êï∞Â≠ó„ÄÇ‰æãÂ¶ÇËæìÂÖ•‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫9ÁöÑÊï∞ÁªÑ{1,2,3,2,2,2,5,4,2}„ÄÇÁî±‰∫éÊï∞Â≠ó2Âú®Êï∞ÁªÑ‰∏≠Âá∫Áé∞‰∫Ü5Ê¨°ÔºåË∂ÖËøáÊï∞ÁªÑÈïøÂ∫¶ÁöÑ‰∏ÄÂçäÔºåÂõ†Ê≠§ËæìÂá∫2„ÄÇÂ¶ÇÊûú‰∏çÂ≠òÂú®ÂàôËæìÂá∫0„ÄÇ</p>
<h3 id="Solution-in-C-one-solution"><a href="#Solution-in-C-one-solution" class="headerlink" title="Solution in C++ (one solution)"></a>Solution in C++ (one solution)</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">MoreThanHalfNum_Solution</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = numbers.size();</span><br><span class="line">        <span class="keyword">if</span> (n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        sort(numbers.begin(), numbers.end());</span><br><span class="line">        <span class="keyword">int</span> mid = numbers[n/<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;++i) &#123;</span><br><span class="line">        	<span class="keyword">if</span> (numbers[i] == mid) ++count;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (count*<span class="number">2</span> &gt; n) <span class="keyword">return</span> mid;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="Solution-in-C-two-solution"><a href="#Solution-in-C-two-solution" class="headerlink" title="Solution in C++ (two solution)"></a>Solution in C++ (two solution)</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">MoreThanHalfNum_Solution</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; numbers)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = numbers.size();</span><br><span class="line">        <span class="keyword">if</span> (n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> num = numbers[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">int</span> count = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;++i) &#123;</span><br><span class="line">        	<span class="keyword">if</span> (numbers[i] == num) ++count;</span><br><span class="line">        	<span class="keyword">else</span> --count;</span><br><span class="line">        	<span class="keyword">if</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line">        		num = numbers[i];</span><br><span class="line">        		count = <span class="number">1</span>;</span><br><span class="line">        	&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;++i) &#123;</span><br><span class="line">        	<span class="keyword">if</span> (numbers[i] == num) ++count;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (count*<span class="number">2</span> &gt; n) <span class="keyword">return</span> num;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="My-Idea"><a href="#My-Idea" class="headerlink" title="My Idea"></a>My Idea</h3><p>Solution one Ôºö Êï∞ÁªÑÊéíÂ∫èÂêéÔºåÂ¶ÇÊûúÁ¨¶ÂêàÊù°‰ª∂ÁöÑÊï∞Â≠òÂú®ÔºåÂàô‰∏ÄÂÆöÊòØÊï∞ÁªÑ‰∏≠Èó¥ÈÇ£‰∏™Êï∞ÔºàÊØîÂ¶ÇÔºö1Ôºå2Ôºå2Ôºå2Ôºå3ÔºõÊàñ2Ôºå2Ôºå2Ôºå3Ôºå4ÔºõÊàñ2Ôºå3Ôºå4Ôºå4Ôºå4Á≠âÁ≠âÔºâ</p>
<p>Solution two Ôºö ÈááÁî®ÈòµÂú∞ÊîªÂÆàÁöÑÊÄùÊÉ≥Ôºö</p>
<ol>
<li>Á¨¨‰∏Ä‰∏™Êï∞Â≠ó‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™Â£´ÂÖµÔºåÂÆàÈòµÂú∞Ôºõcount = 1Ôºõ</li>
<li>ÈÅáÂà∞Áõ∏ÂêåÂÖÉÁ¥†Ôºåcount++;</li>
<li>ÈÅáÂà∞‰∏çÁõ∏ÂêåÂÖÉÁ¥†ÔºåÂç≥‰∏∫Êïå‰∫∫ÔºåÂêåÂΩí‰∫éÂ∞Ω,count‚ÄìÔºõÂΩìÈÅáÂà∞count‰∏∫0ÁöÑÊÉÖÂÜµÔºåÂèà‰ª•Êñ∞ÁöÑiÂÄº‰Ωú‰∏∫ÂÆàÈòµÂú∞ÁöÑÂ£´ÂÖµÔºåÁªßÁª≠‰∏ãÂéªÔºåÂà∞ÊúÄÂêéËøòÁïôÂú®ÈòµÂú∞‰∏äÁöÑÂ£´ÂÖµÔºåÊúâÂèØËÉΩÊòØ‰∏ªÂÖÉÁ¥†„ÄÇ</li>
<li>ÂÜçÂä†‰∏ÄÊ¨°Âæ™ÁéØÔºåËÆ∞ÂΩïËøô‰∏™Â£´ÂÖµÁöÑ‰∏™Êï∞ÁúãÊòØÂê¶Â§ß‰∫éÊï∞ÁªÑ‰∏ÄËà¨Âç≥ÂèØ</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leviduan.com/2019/03/12/2019-03-11-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Levi Duan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Levi's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/12/2019-03-11-1/" itemprop="url">„ÄäÂâëÊåáoffer„Äã Â≠óÁ¨¶‰∏≤ÁöÑÊéíÂàó</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-12T00:09:22+08:00">
                2019-03-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/03/12/2019-03-11-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/12/2019-03-11-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="OJ-address"><a href="#OJ-address" class="headerlink" title="OJ address"></a>OJ address</h3><p>website : <a href="https://www.nowcoder.com/ta/coding-interviews?page=2" target="_blank" rel="noopener">„ÄäÂâëÊåáoffer„ÄãÂ≠óÁ¨¶‰∏≤ÁöÑÊéíÂàó</a></p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>ËæìÂÖ•‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤,ÊåâÂ≠óÂÖ∏Â∫èÊâìÂç∞Âá∫ËØ•Â≠óÁ¨¶‰∏≤‰∏≠Â≠óÁ¨¶ÁöÑÊâÄÊúâÊéíÂàó„ÄÇ‰æãÂ¶ÇËæìÂÖ•Â≠óÁ¨¶‰∏≤abc,ÂàôÊâìÂç∞Âá∫Áî±Â≠óÁ¨¶a,b,cÊâÄËÉΩÊéíÂàóÂá∫Êù•ÁöÑÊâÄÊúâÂ≠óÁ¨¶‰∏≤abc,acb,bac,bca,cabÂíåcba„ÄÇ</p>
<h3 id="Solution-in-C"><a href="#Solution-in-C" class="headerlink" title="Solution in C++"></a>Solution in C++</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; result;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">string</span>&gt; Permutation(<span class="built_in">string</span> str) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!str.length()) <span class="keyword">return</span> result;</span><br><span class="line">        dfs(str, <span class="number">0</span>);</span><br><span class="line">        sort(result.begin(), result.end());</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="built_in">string</span> str, <span class="keyword">int</span> begin)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (begin == str.length()) &#123;</span><br><span class="line">            result.push_back(str);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=begin;str[i]!=<span class="string">'\0'</span>;++i) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i!=begin &amp;&amp; str[begin]==str[i]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            swap(str[begin], str[i]);</span><br><span class="line">            dfs(str, begin+<span class="number">1</span>);</span><br><span class="line">            swap(str[begin], str[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="My-Idea"><a href="#My-Idea" class="headerlink" title="My Idea"></a>My Idea</h3><p>ÂÖ®ÊéíÂàóÁ±ªÂûãÈ¢òÁõÆ„ÄÇËß£È¢òÊÄùË∑ØÂ∞±ÊòØÔºåÂà©Áî®dfsÊ∑±Â∫¶ÈÅçÂéÜÔºåÁúãÂõæËØ¥ËØù„ÄÇÂõæÂ∑≤ÁªèÂæàÊòéÊòæ‰∫Ü„ÄÇ</p>
<ol>
<li>ÊääÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶‰∏éÂΩìÂâçÂ≠óÁ¨¶‰ª•ÂèäÂêéÈù¢ÊØè‰∏Ä‰∏™Â≠óÁ¨¶‰æùÊ¨°‰∫§Êç¢ÔºåËé∑ÂæóÈ¶ñ‰ΩçÂêéÈù¢ÁöÑÂ≠óÁ¨¶‰∏≤ÂÜçÊ¨°ËøõË°åÈÄíÂΩíÔºõ </li>
<li>ÈÄíÂΩíÁöÑÂá∫Âè£ÔºåÂ∞±ÊòØÂè™Ââ©‰∏Ä‰∏™Â≠óÁ¨¶ÁöÑÊó∂ÂÄôÔºåÈÄíÂΩíÁöÑÂæ™ÁéØËøáÁ®ãÔºåÂ∞±ÊòØ‰ªéÊØè‰∏™Â≠ê‰∏≤ÁöÑÁ¨¨‰∫å‰∏™Â≠óÁ¨¶ÂºÄÂßã‰æùÊ¨°‰∏éÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶‰∫§Êç¢ÔºåÁÑ∂ÂêéÁªßÁª≠Â§ÑÁêÜÂ≠ê‰∏≤„ÄÇ</li>
<li>Áî±‰∫éÂÖ®ÊéíÂàóÂ∞±ÊòØ‰ªéÁ¨¨‰∏Ä‰∏™Êï∞Â≠óËµ∑ÔºåÊØè‰∏™Êï∞ÂàÜÂà´‰∏éÂÆÉÂêéÈù¢ÁöÑÊï∞Â≠ó‰∫§Êç¢ÔºåÊàë‰ª¨ÂÖàÂ∞ùËØïÂä†‰∏™ËøôÊ†∑ÁöÑÂà§Êñ≠‚Äî‚ÄîÂ¶ÇÊûú‰∏Ä‰∏™Êï∞‰∏éÂêéÈù¢ÁöÑÊï∞Â≠óÁõ∏ÂêåÈÇ£‰πàËøô‰∏§‰∏™Êï∞Â∞±‰∏ç‰∫§Êç¢‰∫Ü„ÄÇ‰æãÂ¶ÇabbÔºåÁ¨¨‰∏Ä‰∏™Êï∞‰∏éÂêéÈù¢‰∏§‰∏™Êï∞‰∫§Êç¢ÂæóbabÔºåbba„ÄÇÁÑ∂Âêéabb‰∏≠Á¨¨‰∫å‰∏™Êï∞ÂíåÁ¨¨‰∏â‰∏™Êï∞Áõ∏ÂêåÔºåÂ∞±‰∏çÁî®‰∫§Êç¢‰∫Ü„ÄÇ</li>
</ol>
<p><img src="/images/15523538939861.jpg" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://leviduan.com/2019/03/11/2019-03-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Levi Duan">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar1.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Levi's blog">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/03/11/2019-03-11/" itemprop="url">„ÄäÂâëÊåáoffer„Äã ‰∫åÂèâÊêúÁ¥¢Ê†ë‰∏éÂèåÂêëÈìæË°®</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-03-11T00:55:00+08:00">
                2019-03-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Algorithm/" itemprop="url" rel="index">
                    <span itemprop="name">Algorithm</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/03/11/2019-03-11/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2019/03/11/2019-03-11/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="OJ-address"><a href="#OJ-address" class="headerlink" title="OJ address"></a>OJ address</h3><p>website : <a href="https://www.nowcoder.com/ta/coding-interviews?page=2" target="_blank" rel="noopener">„ÄäÂâëÊåáoffer„Äã‰∫åÂèâÊêúÁ¥¢Ê†ë‰∏éÂèåÂêëÈìæË°®</a></p>
<h3 id="Description"><a href="#Description" class="headerlink" title="Description"></a>Description</h3><p>ËæìÂÖ•‰∏ÄÊ£µ‰∫åÂèâÊêúÁ¥¢Ê†ëÔºåÂ∞ÜËØ•‰∫åÂèâÊêúÁ¥¢Ê†ëËΩ¨Êç¢Êàê‰∏Ä‰∏™ÊéíÂ∫èÁöÑÂèåÂêëÈìæË°®„ÄÇË¶ÅÊ±Ç‰∏çËÉΩÂàõÂª∫‰ªª‰ΩïÊñ∞ÁöÑÁªìÁÇπÔºåÂè™ËÉΩË∞ÉÊï¥Ê†ë‰∏≠ÁªìÁÇπÊåáÈíàÁöÑÊåáÂêë„ÄÇ</p>
<h3 id="Solution-in-C"><a href="#Solution-in-C" class="headerlink" title="Solution in C++"></a>Solution in C++</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">TreeNode* <span class="title">Convert</span><span class="params">(TreeNode* pRootOfTree)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        TreeNode *pRootOfDuLInk = pRootOfTree;</span><br><span class="line">        <span class="keyword">if</span> (!pRootOfTree) <span class="keyword">return</span> pRootOfTree;</span><br><span class="line">        <span class="keyword">while</span>(pRootOfDuLInk-&gt;left) pRootOfDuLInk = pRootOfDuLInk-&gt;left;</span><br><span class="line">        TreeNode* pre = <span class="number">0</span>;</span><br><span class="line">        traverse(pRootOfTree, pre);</span><br><span class="line">        <span class="keyword">return</span> pRootOfDuLInk;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">traverse</span><span class="params">(TreeNode* node, TreeNode* &amp;pre)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (node-&gt;left)  &#123;</span><br><span class="line">            traverse(node-&gt;left, pre);</span><br><span class="line">        &#125;</span><br><span class="line">        node-&gt;left = pre;</span><br><span class="line">        <span class="keyword">if</span> (pre) &#123;</span><br><span class="line">            pre-&gt;right = node;</span><br><span class="line">        &#125;</span><br><span class="line">        pre = node;</span><br><span class="line">        <span class="keyword">if</span> (node-&gt;right) &#123;</span><br><span class="line">            traverse(node-&gt;right, pre);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="My-Idea"><a href="#My-Idea" class="headerlink" title="My Idea"></a>My Idea</h3><p>Ëß£È¢òÊÄùË∑ØÂ∞±ÊòØÔºå‰∫åÂèâÊêúÁ¥¢Ê†ëÁöÑ‰∏≠Â∫èÈÅçÂéÜÂ∞±ÊòØ‰ªéÂ∞èÂà∞Â§ßÁöÑ‰∏ÄÊ¨°ÊéíÂ∫è, ÈúÄË¶ÅËÆ∞ÂΩï‰∏Ä‰∏™preÊåáÈíàÔºö</p>
<ol>
<li>ÈÄöËøá‰∏≠Â∫èÊéíÂ∫èÔºåÊØè‰∏™ËäÇÁÇπÁöÑnext‰∏∫‰∏≠Â∫èÊéíÂ∫èÁöÑ‰∏ã‰∏Ä‰∏™ËäÇÁÇπ„ÄÇ</li>
<li>ËÆ∞ÂΩï‰∏Ä‰∏™preÊåáÈíàÔºå‰∏ªË¶ÅÊòØËÆ∞ÂΩï‰∏≠Â∫èÊéíÂ∫èÁöÑÂâç‰∏Ä‰∏™ËäÇÁÇπÔºåËøôÊ†∑ËäÇÁÇπÂèØ‰ª•ÈÄöÂÉßÂì¶leftÊåáÈíàÊåáÂêëpreÊåáÈíàÔºåÂ∞±ÂèØ‰ª•ÂÆåÊàêÂèåÈìæË°®ÁöÑÊìç‰Ωú‰∫Ü„ÄÇ </li>
<li>pre-&gt;right=current; current-&gt;left=pre„ÄÇ</li>
<li>ÈúÄË¶Å‰øùÂ≠òÊåáÂêë‰∏ä‰∏™ËäÇÁÇπ,ÈúÄË¶ÅÂØπÊåáÈíàÁöÑÂºïÁî® TreeNode<em>&amp; ,‰∫ÜËß£‰∏ã </em>&amp; ÁöÑËøûÊé•Áî®Ê≥ï</li>
</ol>
<p>extension:</p>
<p>That is taking the parameter by reference. So in the first case you are taking a pointer parameter by reference so whatever modification you do to the value of the pointer is reflected outside the function. Second is the simlilar to first one with the only difference being that it is a double pointer. See this example:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pass_by_value</span><span class="params">(<span class="keyword">int</span>* p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//Allocate memory for int and store the address in p</span></span><br><span class="line">    p = <span class="keyword">new</span> <span class="keyword">int</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pass_by_reference</span><span class="params">(<span class="keyword">int</span>*&amp; p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    p = <span class="keyword">new</span> <span class="keyword">int</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>* p1 = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span>* p2 = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    pass_by_value(p1); <span class="comment">//p1 will still be NULL after this call</span></span><br><span class="line">    pass_by_reference(p2); <span class="comment">//p2 's value is changed to point to the newly allocate memory</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar1.jpg" alt="Levi Duan">
            
              <p class="site-author-name" itemprop="name">Levi Duan</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">58</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/leviduan" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.reddit.com/user/leviduan" target="_blank" title="Reddit">
                      
                        <i class="fa fa-fw fa-reddit"></i>Reddit</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://medium.com/@suiyun/responses" target="_blank" title="Medium">
                      
                        <i class="fa fa-fw fa-medium"></i>Medium</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                My Favorite
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://juejin.im/user/5a52075e6fb9a01c9d31b107/posts" title="iOS Week" target="_blank">iOS Week</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.nowcoder.com/ta/coding-interviews?page=1" title="Nowcoder" target="_blank">Nowcoder</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://leetcode.com/problemset/all/" title="Leetcode" target="_blank">Leetcode</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://dribbble.com/" title="Dribbble" target="_blank">Dribbble</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://courses.edx.org/dashboard" title="Edx" target="_blank">Edx</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-apple" aria-hidden="true"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Levi Duan</span>

  
</div>

 <span class="with-love">
    <i class="fa fa-heart" aria-hidden="true"></i>
  </span>
   <span id="busuanzi_value_site_uv"></span> visitors | <span class="with-love">
    <i class="fa fa-eye" aria-hidden="true"></i>
  </span>
  <span id="busuanzi_value_site_pv"></span> times.



        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/libs/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/libs/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/libs/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/libs/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/libs/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/libs/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  

    
      <script id="dsq-count-scr" src="https://leviduan-com.disqus.com/count.js" async></script>
    

    

  




	





  









<!-- LOCAL: You can save these files to your site and update links -->
    

<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://www.wenjunjiang.win/js/gitment.js"></script>

<!-- END LOCAL -->

    
      <style>
        a.gitment-editor-footer-tip { display: none; }
        .gitment-container.gitment-footer-container { display: none; }
      </style>
    

    







  





  

  

  

  
  
  
  <link rel="stylesheet" href="/libs/needsharebutton/needsharebutton.css">

  
  
  <script src="/libs/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Twitter,Facebook,Reddit,Weibo";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>

  

  

  

  

</body>
</html>
